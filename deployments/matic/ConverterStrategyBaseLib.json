{
  "address": "0x301Be1652dC990D0237140797b3a71110C6131c8",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "collateralAsset",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "borrowAsset",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amountRepay",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "recepient",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "returnedAssetAmountOut",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "returnedBorrowAmountOut",
          "type": "uint256"
        }
      ],
      "name": "ClosePosition",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "tokenIn",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "tokenOut",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amountIn",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "spentAmountIn",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "receivedAmountOut",
          "type": "uint256"
        }
      ],
      "name": "Liquidation",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "converter",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "collateralAsset",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "collateralAmount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "borrowAsset",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "borrowedAmount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "recepient",
          "type": "address"
        }
      ],
      "name": "OpenPosition",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "contract ITetuConverter",
          "name": "converter",
          "type": "ITetuConverter"
        },
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "getAssetPriceFromConverter",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address[]",
          "name": "tokens_",
          "type": "address[]"
        },
        {
          "internalType": "uint256",
          "name": "indexAsset",
          "type": "uint256"
        }
      ],
      "name": "getAvailableBalances",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount_",
          "type": "uint256"
        },
        {
          "internalType": "address[]",
          "name": "tokens_",
          "type": "address[]"
        },
        {
          "internalType": "uint256[]",
          "name": "weights_",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256",
          "name": "totalWeight_",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "indexAsset_",
          "type": "uint256"
        },
        {
          "internalType": "contract IPriceOracle",
          "name": "priceOracle",
          "type": "IPriceOracle"
        }
      ],
      "name": "getCollaterals",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "tokenAmountsOut",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0xecedd73037fe324f645fe2217fed16fa6b1a2fbd26d38de367044dd1e8fdf80d",
  "receipt": {
    "to": null,
    "from": "0xbbbbb8C4364eC2ce52c59D2Ed3E56F307E529a94",
    "contractAddress": "0x301Be1652dC990D0237140797b3a71110C6131c8",
    "transactionIndex": 86,
    "gasUsed": "5274812",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000080000000000000000400000000000000000000000800000000000800000000100000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000004000000000000000000001000000000000008000000400000000100000000000000000000000000000000000000000000000000000000000008000000000100000",
    "blockHash": "0x5242ad43a13d69ee8ed0fa7834c656869727a3c913e66ab37c78f4b171499937",
    "transactionHash": "0xecedd73037fe324f645fe2217fed16fa6b1a2fbd26d38de367044dd1e8fdf80d",
    "logs": [
      {
        "transactionIndex": 86,
        "blockNumber": 40575228,
        "transactionHash": "0xecedd73037fe324f645fe2217fed16fa6b1a2fbd26d38de367044dd1e8fdf80d",
        "address": "0x0000000000000000000000000000000000001010",
        "topics": [
          "0x4dfe1bbbcf077ddc3e01291eea2d5c70c2b422b415d95645b9adcfd678cb1d63",
          "0x0000000000000000000000000000000000000000000000000000000000001010",
          "0x000000000000000000000000bbbbb8c4364ec2ce52c59d2ed3e56f307e529a94",
          "0x000000000000000000000000c6869257205e20c2a43cb31345db534aecb49f6e"
        ],
        "data": "0x000000000000000000000000000000000000000000000000023b1bae22397b9c0000000000000000000000000000000000000000000000084333d25fc73a2f76000000000000000000000000000000000000000000000ead21af9df822c1a5b700000000000000000000000000000000000000000000000840f8b6b1a500b3da000000000000000000000000000000000000000000000ead23eab9a644fb2153",
        "logIndex": 559,
        "blockHash": "0x5242ad43a13d69ee8ed0fa7834c656869727a3c913e66ab37c78f4b171499937"
      }
    ],
    "blockNumber": 40575228,
    "cumulativeGasUsed": "23316183",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "c59f7e8a32e735828e193e20f2f070bc",
  "metadata": "{\"compiler\":{\"version\":\"0.8.17+commit.8df45f5f\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"collateralAsset\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"borrowAsset\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amountRepay\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"recepient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"returnedAssetAmountOut\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"returnedBorrowAmountOut\",\"type\":\"uint256\"}],\"name\":\"ClosePosition\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amountIn\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"spentAmountIn\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"receivedAmountOut\",\"type\":\"uint256\"}],\"name\":\"Liquidation\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"converter\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"collateralAsset\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateralAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"borrowAsset\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"borrowedAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"recepient\",\"type\":\"address\"}],\"name\":\"OpenPosition\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"contract ITetuConverter\",\"name\":\"converter\",\"type\":\"ITetuConverter\"},{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"getAssetPriceFromConverter\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"tokens_\",\"type\":\"address[]\"},{\"internalType\":\"uint256\",\"name\":\"indexAsset\",\"type\":\"uint256\"}],\"name\":\"getAvailableBalances\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount_\",\"type\":\"uint256\"},{\"internalType\":\"address[]\",\"name\":\"tokens_\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"weights_\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256\",\"name\":\"totalWeight_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"indexAsset_\",\"type\":\"uint256\"},{\"internalType\":\"contract IPriceOracle\",\"name\":\"priceOracle\",\"type\":\"IPriceOracle\"}],\"name\":\"getCollaterals\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"tokenAmountsOut\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"calcInvestedAssets(address[],uint256[],uint256,ITetuConverter,mapping(address => uint256) storage)\":{\"details\":\"This is writable function because we need to update current balances in the internal protocols.\",\"returns\":{\"amountOut\":\"Invested asset amount under control (in terms of {asset})\"}},\"closePosition(ITetuConverter,address,address,uint256)\":{\"params\":{\"amountToRepay\":\"Amount to repay in terms of {borrowAsset}\"},\"returns\":{\"repaidAmountOut\":\"Amount that was actually repaid\",\"returnedAssetAmountOut\":\"Amount of collateral received back after repaying\"}},\"convertAfterWithdraw(ITetuConverter,ITetuLiquidator,uint256,address[],uint256,uint256[])\":{\"returns\":{\"collateralOut\":\"Total amount of collateral returned after closing positions\",\"repaidAmountsOut\":\"What amounts were spent in exchange of the {collateralOut}\"}},\"getLiquidityAmountRatio(uint256,mapping(address => uint256) storage,address,address[],uint256,ITetuConverter,uint256,uint256)\":{\"details\":\"This is a writable function with read-only behavior (because of the quote-call)\",\"params\":{\"baseAmounts_\":\"Available balances of the converted assets\",\"strategy_\":\"Address of the strategy\",\"targetAmount_\":\"Required amount of main asset to be withdrawn from the strategy                      0 - withdraw all\"}},\"getTokenAmounts(ITetuConverter,address[],uint256,uint256[],uint256)\":{\"params\":{\"thresholdMainAsset_\":\"Min allowed value of collateral in terms of main asset, 0 - use default min value\"},\"returns\":{\"borrowedAmounts\":\"Amounts borrowed for {spendCollateral}\",\"spentCollateral\":\"Total collateral amount spent for borrowing\",\"tokenAmountsOut\":\"Amounts available for deposit\"}},\"liquidate(ITetuLiquidator,address,address,uint256,uint256,uint256)\":{\"params\":{\"receivedAmountOut\":\"Amount of {tokenOut_} has been returned by the liquidator\",\"spentAmountIn\":\"Amount of {tokenIn} has been consumed by the liquidator\"}},\"openPosition(ITetuConverter,bytes,address,address,uint256,uint256)\":{\"params\":{\"amountIn_\":\"Meaning depends on {entryData_}.\",\"entryData_\":\"Encoded entry kind and additional params if necessary (set of params depends on the kind)                   See TetuConverter\\\\EntryKinds.sol\\\\ENTRY_KIND_XXX constants for possible entry kinds                   0 or empty: Amount of collateral {amountIn_} is fixed, amount of borrow should be max possible.\"}},\"prepareRewardsList(ITetuConverter,address[],uint256[],mapping(address => uint256) storage)\":{\"details\":\"The post-processing is rewards conversion to the main asset\",\"params\":{\"amountsOut\":\"Amounts of available rewards\",\"amounts_\":\"Amounts of rewards claimed from the internal pool\",\"tokensOut\":\"List of available rewards - not zero amounts, reward tokens don't repeat\",\"tokens_\":\"List of rewards claimed from the internal pool\"}},\"recycle(address,uint256,address[],ITetuLiquidator,mapping(address => uint256) storage,mapping(address => uint256) storage,address[],uint256[])\":{\"params\":{\"baseAmounts_\":\"Base amounts for rewards tokens                     The base amounts allow to separate just received and previously received rewards.\",\"liquidationThresholds_\":\"Liquidation thresholds for rewards tokens\",\"rewardAmounts_\":\"Amounts of {rewardTokens_}; we assume, there are no zero amounts here\",\"rewardTokens_\":\"Full list of reward tokens received from tetuConverter and depositor\",\"tokens_\":\"tokens received from {_depositorPoolAssets}\"},\"returns\":{\"amountsToForward\":\"Amounts to be sent to forwarder\",\"receivedAmounts\":\"Received amounts of the tokens         This array has +1 item at the end: received amount of the main asset                                            there was no possibility to use separate var for it, stack too deep\",\"spentAmounts\":\"Spent amounts of the tokens\"}},\"sendPerformanceFee(uint256,address,address[],uint256[])\":{\"params\":{\"performanceFee_\":\"Max is FEE_DENOMINATOR\"},\"returns\":{\"performanceAmounts\":\"Theses amounts were sent to {performanceReceiver_}\",\"rewardAmounts\":\"= rewardAmounts_ - performanceAmounts\"}},\"swapToGivenAmount(uint256,address[],uint256,address,uint256[],ITetuConverter,ITetuLiquidator,uint256,uint256,mapping(address => uint256) storage)\":{\"params\":{\"indexTargetAsset_\":\"Index of target asset in tokens_ array\",\"liquidationThresholdForTargetAsset_\":\"Liquidation thresholds for the target asset\",\"overswap_\":\"Allow to swap more then required (i.e. 1_000 => +1%)                  to avoid additional swap if the swap return amount a bit less than we expected\",\"targetAmount_\":\"Required amount of tokens[indexTheAsset_] that should be received by swap(s)\",\"tokens_\":\"tokens received from {_depositorPoolAssets}\",\"underlying_\":\"Index of underlying\",\"withdrawnAmounts_\":\"Amounts withdrawn from the pool\"},\"returns\":{\"spentAmounts\":\"Any amounts spent during the swaps\",\"withdrawnAmountsOut\":\"withdrawnAmounts + any amounts received during the swaps\"}}},\"version\":1},\"userdoc\":{\"events\":{\"ClosePosition(address,address,uint256,address,uint256,uint256)\":{\"notice\":\"Some borrow(s) was/were repaid\"},\"Liquidation(address,address,uint256,uint256,uint256)\":{\"notice\":\"A liquidation was made\"},\"OpenPosition(address,address,uint256,address,uint256,address)\":{\"notice\":\"A borrow was made\"}},\"kind\":\"user\",\"methods\":{\"calcInvestedAssets(address[],uint256[],uint256,ITetuConverter,mapping(address => uint256) storage)\":{\"notice\":\"Calculate amount we will receive when we withdraw all from pool\"},\"closePosition(ITetuConverter,address,address,uint256)\":{\"notice\":\"Close the given position, pay {amountToRepay}, return collateral amount in result\"},\"convertAfterWithdraw(ITetuConverter,ITetuLiquidator,uint256,address[],uint256,uint256[])\":{\"notice\":\"Convert {p.amountsToConvert_} to the main asset\"},\"getAssetPriceFromConverter(ITetuConverter,address)\":{\"notice\":\"OTHER HELPERS\"},\"getAvailableBalances(address[],uint256)\":{\"notice\":\"Get balances of the {tokens_} except balance of the token at {indexAsset} position\"},\"getCollaterals(uint256,address[],uint256[],uint256,uint256,IPriceOracle)\":{\"notice\":\"For each {token_} calculate a part of {amount_} to be used as collateral according to the weights.         I.e. we have 300 USDC, we need to split it on 100 USDC, 100 USDT, 100 DAI         USDC is main asset, USDT and DAI should be borrowed. We check amounts of USDT and DAI on the balance         and return collaterals reduced on that amounts. For main asset, we return full amount always (100 USDC).\"},\"getLiquidityAmountRatio(uint256,mapping(address => uint256) storage,address,address[],uint256,ITetuConverter,uint256,uint256)\":{\"notice\":\"Get a ratio to calculate amount of liquidity that should be withdrawn from the pool to get {targetAmount_}               liquidityAmount = _depositorLiquidity() * {liquidityRatioOut} / 1e18         User needs to withdraw {targetAmount_} in main asset.         There are two kinds of available liquidity:         1) liquidity in the pool - {depositorLiquidity_}         2) Converted amounts on balance of the strategy - {baseAmounts_}         To withdraw {targetAmount_} we need         1) Reconvert converted amounts back to main asset         2) IF result amount is not necessary - withdraw some liquidity from the pool            and also convert it to the main asset.\"},\"getTokenAmounts(ITetuConverter,address[],uint256,uint256[],uint256)\":{\"notice\":\"Make borrow and save amounts of tokens available for deposit to tokenAmounts\"},\"liquidate(ITetuLiquidator,address,address,uint256,uint256,uint256)\":{\"notice\":\"Make liquidation if estimated amountOut exceeds the given threshold\"},\"openPosition(ITetuConverter,bytes,address,address,uint256,uint256)\":{\"notice\":\"Make one or several borrow necessary to supply/borrow required {amountIn_} according to {entryData_}         Max possible collateral should be approved before calling of this function.\"},\"postWithdrawActions(uint256[],uint256,uint256,uint256,uint256[],address[],uint256,ITetuConverter,uint256,uint256[])\":{\"notice\":\"WITHDRAW HELPERS\"},\"prepareRewardsList(ITetuConverter,address[],uint256[],mapping(address => uint256) storage)\":{\"notice\":\"Claim rewards from tetuConverter, generate result list of all available rewards\"},\"recycle(address,uint256,address[],ITetuLiquidator,mapping(address => uint256) storage,mapping(address => uint256) storage,address[],uint256[])\":{\"notice\":\"Recycle the amounts: liquidate a part of each amount, send the other part to the forwarder. We have two kinds of rewards: 1) rewards in depositor's assets (the assets returned by _depositorPoolAssets) 2) any other rewards All received rewards are immediately \\\"recycled\\\". It means, they are divided on two parts: to forwarder, to compound   Compound-part of Rewards-2 can be liquidated   Compound part of Rewards-1 should be just added to baseAmounts All forwarder-parts are returned in amountsToForward and should be transferred to the forwarder.\"},\"sendPerformanceFee(uint256,address,address[],uint256[])\":{\"notice\":\"Send {performanceFee_} of {rewardAmounts_} to {performanceReceiver}\"},\"sendTokensToForwarder(address,address,address[],uint256[])\":{\"notice\":\"sendTokensToForwarder\"},\"swapToGivenAmount(uint256,address[],uint256,address,uint256[],ITetuConverter,ITetuLiquidator,uint256,uint256,mapping(address => uint256) storage)\":{\"notice\":\"Swap available {amounts_} of {tokens_} to receive {targetAmount_} of {tokens[indexTheAsset_]}\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/strategies/ConverterStrategyBaseLib.sol\":\"ConverterStrategyBaseLib\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":150},\"remappings\":[]},\"sources\":{\"@tetu_io/tetu-contracts-v2/contracts/interfaces/IController.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity 0.8.17;\\n\\ninterface IController {\\n\\n  // --- DEPENDENCY ADDRESSES\\n  function governance() external view returns (address);\\n\\n  function voter() external view returns (address);\\n\\n  function liquidator() external view returns (address);\\n\\n  function forwarder() external view returns (address);\\n\\n  function investFund() external view returns (address);\\n\\n  function veDistributor() external view returns (address);\\n\\n  function platformVoter() external view returns (address);\\n\\n  // --- VAULTS\\n\\n  function vaults(uint id) external view returns (address);\\n\\n  function vaultsList() external view returns (address[] memory);\\n\\n  function vaultsListLength() external view returns (uint);\\n\\n  function isValidVault(address _vault) external view returns (bool);\\n\\n  // --- restrictions\\n\\n  function isOperator(address _adr) external view returns (bool);\\n\\n\\n}\\n\",\"keccak256\":\"0x86716b8a4775605c31b8bb9f90f8f4a18b709ff4435182f3a148803368060a8c\",\"license\":\"MIT\"},\"@tetu_io/tetu-contracts-v2/contracts/interfaces/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity 0.8.17;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP.\\n */\\ninterface IERC20 {\\n  /**\\n   * @dev Returns the amount of tokens in existence.\\n   */\\n  function totalSupply() external view returns (uint);\\n\\n  /**\\n   * @dev Returns the amount of tokens owned by `account`.\\n   */\\n  function balanceOf(address account) external view returns (uint);\\n\\n  /**\\n   * @dev Moves `amount` tokens from the caller's account to `recipient`.\\n   *\\n   * Returns a boolean value indicating whether the operation succeeded.\\n   *\\n   * Emits a {Transfer} event.\\n   */\\n  function transfer(address recipient, uint amount) external returns (bool);\\n\\n  /**\\n   * @dev Returns the remaining number of tokens that `spender` will be\\n   * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n   * zero by default.\\n   *\\n   * This value changes when {approve} or {transferFrom} are called.\\n   */\\n  function allowance(address owner, address spender) external view returns (uint);\\n\\n  /**\\n   * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n   *\\n   * Returns a boolean value indicating whether the operation succeeded.\\n   *\\n   * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n   * that someone may use both the old and the new allowance by unfortunate\\n   * transaction ordering. One possible solution to mitigate this race\\n   * condition is to first reduce the spender's allowance to 0 and set the\\n   * desired value afterwards:\\n   * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n   *\\n   * Emits an {Approval} event.\\n   */\\n  function approve(address spender, uint amount) external returns (bool);\\n\\n  /**\\n   * @dev Moves `amount` tokens from `sender` to `recipient` using the\\n   * allowance mechanism. `amount` is then deducted from the caller's\\n   * allowance.\\n   *\\n   * Returns a boolean value indicating whether the operation succeeded.\\n   *\\n   * Emits a {Transfer} event.\\n   */\\n  function transferFrom(\\n    address sender,\\n    address recipient,\\n    uint amount\\n  ) external returns (bool);\\n\\n  /**\\n   * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n   * another (`to`).\\n   *\\n   * Note that `value` may be zero.\\n   */\\n  event Transfer(address indexed from, address indexed to, uint value);\\n\\n  /**\\n   * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n   * a call to {approve}. `value` is the new allowance.\\n   */\\n  event Approval(address indexed owner, address indexed spender, uint value);\\n}\\n\",\"keccak256\":\"0x5f43ed533d0fc4dc2f8f081d2c4b77960f3e908d5f7359096b385e5673f1ba0c\",\"license\":\"MIT\"},\"@tetu_io/tetu-contracts-v2/contracts/interfaces/IERC20Metadata.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (token/ERC20/extensions/IERC20Metadata.sol)\\n\\npragma solidity 0.8.17;\\n\\nimport \\\"./IERC20.sol\\\";\\n\\n/**\\n * https://github.com/OpenZeppelin/openzeppelin-contracts-upgradeable/blob/release-v4.6/contracts/token/ERC20/extensions/IERC20MetadataUpgradeable.sol\\n * @dev Interface for the optional metadata functions from the ERC20 standard.\\n *\\n * _Available since v4.1._\\n */\\ninterface IERC20Metadata is IERC20 {\\n  /**\\n   * @dev Returns the name of the token.\\n     */\\n  function name() external view returns (string memory);\\n\\n  /**\\n   * @dev Returns the symbol of the token.\\n     */\\n  function symbol() external view returns (string memory);\\n\\n  /**\\n   * @dev Returns the decimals places of the token.\\n     */\\n  function decimals() external view returns (uint8);\\n}\\n\",\"keccak256\":\"0x953f20efa64081a325109a0e03602b889d2819c2b51c1e1fb21a062feeda74f3\",\"license\":\"MIT\"},\"@tetu_io/tetu-contracts-v2/contracts/interfaces/IERC20Permit.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (token/ERC20/extensions/IERC20Permit.sol)\\n\\npragma solidity 0.8.17;\\n\\n/**\\n * @dev Interface of the ERC20 Permit extension allowing approvals to be made via signatures, as defined in\\n * https://eips.ethereum.org/EIPS/eip-2612[EIP-2612].\\n *\\n * Adds the {permit} method, which can be used to change an account's ERC20 allowance (see {IERC20-allowance}) by\\n * presenting a message signed by the account. By not relying on {IERC20-approve}, the token holder account doesn't\\n * need to send a transaction, and thus is not required to hold Ether at all.\\n */\\ninterface IERC20Permit {\\n  /**\\n   * @dev Sets `value` as the allowance of `spender` over ``owner``'s tokens,\\n     * given ``owner``'s signed approval.\\n     *\\n     * IMPORTANT: The same issues {IERC20-approve} has related to transaction\\n     * ordering also apply here.\\n     *\\n     * Emits an {Approval} event.\\n     *\\n     * Requirements:\\n     *\\n     * - `spender` cannot be the zero address.\\n     * - `deadline` must be a timestamp in the future.\\n     * - `v`, `r` and `s` must be a valid `secp256k1` signature from `owner`\\n     * over the EIP712-formatted function arguments.\\n     * - the signature must use ``owner``'s current nonce (see {nonces}).\\n     *\\n     * For more information on the signature format, see the\\n     * https://eips.ethereum.org/EIPS/eip-2612#specification[relevant EIP\\n     * section].\\n     */\\n  function permit(\\n    address owner,\\n    address spender,\\n    uint256 value,\\n    uint256 deadline,\\n    uint8 v,\\n    bytes32 r,\\n    bytes32 s\\n  ) external;\\n\\n  /**\\n   * @dev Returns the current nonce for `owner`. This value must be\\n     * included whenever a signature is generated for {permit}.\\n     *\\n     * Every successful call to {permit} increases ``owner``'s nonce by one. This\\n     * prevents a signature from being used multiple times.\\n     */\\n  function nonces(address owner) external view returns (uint256);\\n\\n  /**\\n   * @dev Returns the domain separator used in the encoding of the signature for {permit}, as defined by {EIP712}.\\n     */\\n  // solhint-disable-next-line func-name-mixedcase\\n  function DOMAIN_SEPARATOR() external view returns (bytes32);\\n}\\n\",\"keccak256\":\"0x9f69f84d864c2a84de9321871aa52f6f70d14afe46badbcd37c0d4f22af75e7b\",\"license\":\"MIT\"},\"@tetu_io/tetu-contracts-v2/contracts/interfaces/IForwarder.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity 0.8.17;\\n\\ninterface IForwarder {\\n\\n  function tokenPerDestinationLength(address destination) external view returns (uint);\\n\\n  function tokenPerDestinationAt(address destination, uint i) external view returns (address);\\n\\n  function registerIncome(\\n    address[] memory tokens,\\n    uint[] memory amounts,\\n    address vault,\\n    bool isDistribute\\n  ) external;\\n\\n  function distributeAll(address destination) external;\\n\\n  function distribute(address token) external;\\n\\n  function setInvestFundRatio(uint value) external;\\n\\n  function setGaugesRatio(uint value) external;\\n\\n}\\n\",\"keccak256\":\"0x9578a78fd2642bb6b80d538729a287edc396cbc4b0c33fafb1411a84ad162829\",\"license\":\"MIT\"},\"@tetu_io/tetu-contracts-v2/contracts/interfaces/ISplitter.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.17;\\n\\ninterface ISplitter {\\n\\n  function init(address controller_, address _asset, address _vault) external;\\n\\n  // *************** ACTIONS **************\\n\\n  function withdrawAllToVault() external;\\n\\n  function withdrawToVault(uint256 amount) external;\\n\\n  function doHardWork() external;\\n\\n  function investAll() external;\\n\\n  // **************** VIEWS ***************\\n\\n  function asset() external view returns (address);\\n\\n  function vault() external view returns (address);\\n\\n  function totalAssets() external view returns (uint256);\\n\\n  function isHardWorking() external view returns (bool);\\n}\\n\",\"keccak256\":\"0x10d3b69af50cc1cf3487228de0741570bd6ee2f14348c87e32ae3dda41befdd3\",\"license\":\"MIT\"},\"@tetu_io/tetu-contracts-v2/contracts/interfaces/ITetuLiquidator.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity 0.8.17;\\n\\ninterface ITetuLiquidator {\\n\\n  struct PoolData {\\n    address pool;\\n    address swapper;\\n    address tokenIn;\\n    address tokenOut;\\n  }\\n\\n  function addLargestPools(PoolData[] memory _pools, bool rewrite) external;\\n\\n  function addBlueChipsPools(PoolData[] memory _pools, bool rewrite) external;\\n\\n  function getPrice(address tokenIn, address tokenOut, uint amount) external view returns (uint);\\n\\n  function getPriceForRoute(PoolData[] memory route, uint amount) external view returns (uint);\\n\\n  function isRouteExist(address tokenIn, address tokenOut) external view returns (bool);\\n\\n  function buildRoute(\\n    address tokenIn,\\n    address tokenOut\\n  ) external view returns (PoolData[] memory route, string memory errorMessage);\\n\\n  function liquidate(\\n    address tokenIn,\\n    address tokenOut,\\n    uint amount,\\n    uint slippage\\n  ) external;\\n\\n  function liquidateWithRoute(\\n    PoolData[] memory route,\\n    uint amount,\\n    uint slippage\\n  ) external;\\n\\n\\n}\\n\",\"keccak256\":\"0xd5fe6f3ab750cc2d23f573597db5607c701e74c39e13c20c07a921a26c6d5012\",\"license\":\"MIT\"},\"@tetu_io/tetu-contracts-v2/contracts/interfaces/ITetuVaultV2.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity 0.8.17;\\n\\nimport \\\"./IVaultInsurance.sol\\\";\\nimport \\\"./IERC20.sol\\\";\\n\\ninterface ITetuVaultV2 {\\n\\n  function depositFee() external view returns (uint);\\n\\n  function withdrawFee() external view returns (uint);\\n\\n  function init(\\n    address controller_,\\n    IERC20 _asset,\\n    string memory _name,\\n    string memory _symbol,\\n    address _gauge,\\n    uint _buffer\\n  ) external;\\n\\n  function setSplitter(address _splitter) external;\\n\\n  function coverLoss(uint amount) external;\\n\\n  function initInsurance(IVaultInsurance _insurance) external;\\n\\n}\\n\",\"keccak256\":\"0xeb1358d2e56a5d71558f6d421fca236ac9bfdc10a5ac804fb5b8a6be51118b6c\",\"license\":\"MIT\"},\"@tetu_io/tetu-contracts-v2/contracts/interfaces/IVaultInsurance.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity 0.8.17;\\n\\ninterface IVaultInsurance {\\n\\n  function init(address _vault, address _asset) external;\\n\\n  function vault() external view returns (address);\\n\\n  function asset() external view returns (address);\\n\\n  function transferToVault(uint amount) external;\\n\\n}\\n\",\"keccak256\":\"0x6461572763b1f6decec1dee9d2ffe8ca152369bdc68255ec083cb3da3ce507a1\",\"license\":\"MIT\"},\"@tetu_io/tetu-contracts-v2/contracts/openzeppelin/Address.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.8.0) (utils/Address.sol)\\n\\npragma solidity 0.8.17;\\n\\n/**\\n * @dev Collection of functions related to the address type\\n */\\nlibrary Address {\\n  /**\\n   * @dev Returns true if `account` is a contract.\\n     *\\n     * [IMPORTANT]\\n     * ====\\n     * It is unsafe to assume that an address for which this function returns\\n     * false is an externally-owned account (EOA) and not a contract.\\n     *\\n     * Among others, `isContract` will return false for the following\\n     * types of addresses:\\n     *\\n     *  - an externally-owned account\\n     *  - a contract in construction\\n     *  - an address where a contract will be created\\n     *  - an address where a contract lived, but was destroyed\\n     * ====\\n     *\\n     * [IMPORTANT]\\n     * ====\\n     * You shouldn't rely on `isContract` to protect against flash loan attacks!\\n     *\\n     * Preventing calls from contracts is highly discouraged. It breaks composability, breaks support for smart wallets\\n     * like Gnosis Safe, and does not provide security since it can be circumvented by calling from a contract\\n     * constructor.\\n     * ====\\n     */\\n  function isContract(address account) internal view returns (bool) {\\n    // This method relies on extcodesize/address.code.length, which returns 0\\n    // for contracts in construction, since the code is only stored at the end\\n    // of the constructor execution.\\n\\n    return account.code.length > 0;\\n  }\\n\\n  /**\\n   * @dev Replacement for Solidity's `transfer`: sends `amount` wei to\\n     * `recipient`, forwarding all available gas and reverting on errors.\\n     *\\n     * https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost\\n     * of certain opcodes, possibly making contracts go over the 2300 gas limit\\n     * imposed by `transfer`, making them unable to receive funds via\\n     * `transfer`. {sendValue} removes this limitation.\\n     *\\n     * https://consensys.net/diligence/blog/2019/09/stop-using-soliditys-transfer-now/[Learn more].\\n     *\\n     * IMPORTANT: because control is transferred to `recipient`, care must be\\n     * taken to not create reentrancy vulnerabilities. Consider using\\n     * {ReentrancyGuard} or the\\n     * https://solidity.readthedocs.io/en/v0.5.11/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].\\n     */\\n  function sendValue(address payable recipient, uint256 amount) internal {\\n    require(address(this).balance >= amount, \\\"Address: insufficient balance\\\");\\n\\n    (bool success, ) = recipient.call{value: amount}(\\\"\\\");\\n    require(success, \\\"Address: unable to send value, recipient may have reverted\\\");\\n  }\\n\\n  /**\\n   * @dev Performs a Solidity function call using a low level `call`. A\\n     * plain `call` is an unsafe replacement for a function call: use this\\n     * function instead.\\n     *\\n     * If `target` reverts with a revert reason, it is bubbled up by this\\n     * function (like regular Solidity function calls).\\n     *\\n     * Returns the raw returned data. To convert to the expected return value,\\n     * use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[`abi.decode`].\\n     *\\n     * Requirements:\\n     *\\n     * - `target` must be a contract.\\n     * - calling `target` with `data` must not revert.\\n     *\\n     * _Available since v3.1._\\n     */\\n  function functionCall(address target, bytes memory data) internal returns (bytes memory) {\\n    return functionCallWithValue(target, data, 0, \\\"Address: low-level call failed\\\");\\n  }\\n\\n  /**\\n   * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`], but with\\n     * `errorMessage` as a fallback revert reason when `target` reverts.\\n     *\\n     * _Available since v3.1._\\n     */\\n  function functionCall(\\n    address target,\\n    bytes memory data,\\n    string memory errorMessage\\n  ) internal returns (bytes memory) {\\n    return functionCallWithValue(target, data, 0, errorMessage);\\n  }\\n\\n  /**\\n   * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but also transferring `value` wei to `target`.\\n     *\\n     * Requirements:\\n     *\\n     * - the calling contract must have an ETH balance of at least `value`.\\n     * - the called Solidity function must be `payable`.\\n     *\\n     * _Available since v3.1._\\n     */\\n  function functionCallWithValue(\\n    address target,\\n    bytes memory data,\\n    uint256 value\\n  ) internal returns (bytes memory) {\\n    return functionCallWithValue(target, data, value, \\\"Address: low-level call with value failed\\\");\\n  }\\n\\n  /**\\n   * @dev Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[`functionCallWithValue`], but\\n     * with `errorMessage` as a fallback revert reason when `target` reverts.\\n     *\\n     * _Available since v3.1._\\n     */\\n  function functionCallWithValue(\\n    address target,\\n    bytes memory data,\\n    uint256 value,\\n    string memory errorMessage\\n  ) internal returns (bytes memory) {\\n    require(address(this).balance >= value, \\\"Address: insufficient balance for call\\\");\\n    (bool success, bytes memory returndata) = target.call{value: value}(data);\\n    return verifyCallResultFromTarget(target, success, returndata, errorMessage);\\n  }\\n\\n  /**\\n   * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but performing a static call.\\n     *\\n     * _Available since v3.3._\\n     */\\n  function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory) {\\n    return functionStaticCall(target, data, \\\"Address: low-level static call failed\\\");\\n  }\\n\\n  /**\\n   * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],\\n     * but performing a static call.\\n     *\\n     * _Available since v3.3._\\n     */\\n  function functionStaticCall(\\n    address target,\\n    bytes memory data,\\n    string memory errorMessage\\n  ) internal view returns (bytes memory) {\\n    (bool success, bytes memory returndata) = target.staticcall(data);\\n    return verifyCallResultFromTarget(target, success, returndata, errorMessage);\\n  }\\n\\n  /**\\n   * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but performing a delegate call.\\n     *\\n     * _Available since v3.4._\\n     */\\n  function functionDelegateCall(address target, bytes memory data) internal returns (bytes memory) {\\n    return functionDelegateCall(target, data, \\\"Address: low-level delegate call failed\\\");\\n  }\\n\\n  /**\\n   * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],\\n     * but performing a delegate call.\\n     *\\n     * _Available since v3.4._\\n     */\\n  function functionDelegateCall(\\n    address target,\\n    bytes memory data,\\n    string memory errorMessage\\n  ) internal returns (bytes memory) {\\n    (bool success, bytes memory returndata) = target.delegatecall(data);\\n    return verifyCallResultFromTarget(target, success, returndata, errorMessage);\\n  }\\n\\n  /**\\n   * @dev Tool to verify that a low level call to smart-contract was successful, and revert (either by bubbling\\n     * the revert reason or using the provided one) in case of unsuccessful call or if target was not a contract.\\n     *\\n     * _Available since v4.8._\\n     */\\n  function verifyCallResultFromTarget(\\n    address target,\\n    bool success,\\n    bytes memory returndata,\\n    string memory errorMessage\\n  ) internal view returns (bytes memory) {\\n    if (success) {\\n      if (returndata.length == 0) {\\n        // only check isContract if the call was successful and the return data is empty\\n        // otherwise we already know that it was a contract\\n        require(isContract(target), \\\"Address: call to non-contract\\\");\\n      }\\n      return returndata;\\n    } else {\\n      _revert(returndata, errorMessage);\\n    }\\n  }\\n\\n  /**\\n   * @dev Tool to verify that a low level call was successful, and revert if it wasn't, either by bubbling the\\n     * revert reason or using the provided one.\\n     *\\n     * _Available since v4.3._\\n     */\\n  function verifyCallResult(\\n    bool success,\\n    bytes memory returndata,\\n    string memory errorMessage\\n  ) internal pure returns (bytes memory) {\\n    if (success) {\\n      return returndata;\\n    } else {\\n      _revert(returndata, errorMessage);\\n    }\\n  }\\n\\n  function _revert(bytes memory returndata, string memory errorMessage) private pure {\\n    // Look for revert reason and bubble it up if present\\n    if (returndata.length > 0) {\\n      // The easiest way to bubble the revert reason is using memory via assembly\\n      /// @solidity memory-safe-assembly\\n      assembly {\\n        let returndata_size := mload(returndata)\\n        revert(add(32, returndata), returndata_size)\\n      }\\n    } else {\\n      revert(errorMessage);\\n    }\\n  }\\n}\\n\",\"keccak256\":\"0xcc7eeaafd4384e04ff39e0c01f0a6794736c34cad529751b8abd7b088ecc2e83\",\"license\":\"MIT\"},\"@tetu_io/tetu-contracts-v2/contracts/openzeppelin/Math.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.8.0) (utils/math/Math.sol)\\n\\npragma solidity 0.8.17;\\n\\n/**\\n * @dev Standard math utilities missing in the Solidity language.\\n */\\nlibrary Math {\\n  enum Rounding {\\n    Down, // Toward negative infinity\\n    Up, // Toward infinity\\n    Zero // Toward zero\\n  }\\n\\n  /**\\n   * @dev Returns the largest of two numbers.\\n     */\\n  function max(uint256 a, uint256 b) internal pure returns (uint256) {\\n    return a > b ? a : b;\\n  }\\n\\n  /**\\n   * @dev Returns the smallest of two numbers.\\n     */\\n  function min(uint256 a, uint256 b) internal pure returns (uint256) {\\n    return a < b ? a : b;\\n  }\\n\\n  /**\\n   * @dev Returns the average of two numbers. The result is rounded towards\\n     * zero.\\n     */\\n  function average(uint256 a, uint256 b) internal pure returns (uint256) {\\n    // (a + b) / 2 can overflow.\\n    return (a & b) + (a ^ b) / 2;\\n  }\\n\\n  /**\\n   * @dev Returns the ceiling of the division of two numbers.\\n     *\\n     * This differs from standard division with `/` in that it rounds up instead\\n     * of rounding down.\\n     */\\n  function ceilDiv(uint256 a, uint256 b) internal pure returns (uint256) {\\n    // (a + b - 1) / b can overflow on addition, so we distribute.\\n    return a == 0 ? 0 : (a - 1) / b + 1;\\n  }\\n\\n  /**\\n   * @notice Calculates floor(x * y / denominator) with full precision. Throws if result overflows a uint256 or denominator == 0\\n     * @dev Original credit to Remco Bloemen under MIT license (https://xn--2-umb.com/21/muldiv)\\n     * with further edits by Uniswap Labs also under MIT license.\\n     */\\n  function mulDiv(\\n    uint256 x,\\n    uint256 y,\\n    uint256 denominator\\n  ) internal pure returns (uint256 result) {\\n  unchecked {\\n    // 512-bit multiply [prod1 prod0] = x * y. Compute the product mod 2^256 and mod 2^256 - 1, then use\\n    // use the Chinese Remainder Theorem to reconstruct the 512 bit result. The result is stored in two 256\\n    // variables such that product = prod1 * 2^256 + prod0.\\n    uint256 prod0; // Least significant 256 bits of the product\\n    uint256 prod1; // Most significant 256 bits of the product\\n    assembly {\\n      let mm := mulmod(x, y, not(0))\\n      prod0 := mul(x, y)\\n      prod1 := sub(sub(mm, prod0), lt(mm, prod0))\\n    }\\n\\n    // Handle non-overflow cases, 256 by 256 division.\\n    if (prod1 == 0) {\\n      return prod0 / denominator;\\n    }\\n\\n    // Make sure the result is less than 2^256. Also prevents denominator == 0.\\n    require(denominator > prod1, \\\"Math: mulDiv overflow\\\");\\n\\n    ///////////////////////////////////////////////\\n    // 512 by 256 division.\\n    ///////////////////////////////////////////////\\n\\n    // Make division exact by subtracting the remainder from [prod1 prod0].\\n    uint256 remainder;\\n    assembly {\\n    // Compute remainder using mulmod.\\n      remainder := mulmod(x, y, denominator)\\n\\n    // Subtract 256 bit number from 512 bit number.\\n      prod1 := sub(prod1, gt(remainder, prod0))\\n      prod0 := sub(prod0, remainder)\\n    }\\n\\n    // Factor powers of two out of denominator and compute largest power of two divisor of denominator. Always >= 1.\\n    // See https://cs.stackexchange.com/q/138556/92363.\\n\\n    // Does not overflow because the denominator cannot be zero at this stage in the function.\\n    uint256 twos = denominator & (~denominator + 1);\\n    assembly {\\n    // Divide denominator by twos.\\n      denominator := div(denominator, twos)\\n\\n    // Divide [prod1 prod0] by twos.\\n      prod0 := div(prod0, twos)\\n\\n    // Flip twos such that it is 2^256 / twos. If twos is zero, then it becomes one.\\n      twos := add(div(sub(0, twos), twos), 1)\\n    }\\n\\n    // Shift in bits from prod1 into prod0.\\n    prod0 |= prod1 * twos;\\n\\n    // Invert denominator mod 2^256. Now that denominator is an odd number, it has an inverse modulo 2^256 such\\n    // that denominator * inv = 1 mod 2^256. Compute the inverse by starting with a seed that is correct for\\n    // four bits. That is, denominator * inv = 1 mod 2^4.\\n    uint256 inverse = (3 * denominator) ^ 2;\\n\\n    // Use the Newton-Raphson iteration to improve the precision. Thanks to Hensel's lifting lemma, this also works\\n    // in modular arithmetic, doubling the correct bits in each step.\\n    inverse *= 2 - denominator * inverse; // inverse mod 2^8\\n    inverse *= 2 - denominator * inverse; // inverse mod 2^16\\n    inverse *= 2 - denominator * inverse; // inverse mod 2^32\\n    inverse *= 2 - denominator * inverse; // inverse mod 2^64\\n    inverse *= 2 - denominator * inverse; // inverse mod 2^128\\n    inverse *= 2 - denominator * inverse; // inverse mod 2^256\\n\\n    // Because the division is now exact we can divide by multiplying with the modular inverse of denominator.\\n    // This will give us the correct result modulo 2^256. Since the preconditions guarantee that the outcome is\\n    // less than 2^256, this is the final result. We don't need to compute the high bits of the result and prod1\\n    // is no longer required.\\n    result = prod0 * inverse;\\n    return result;\\n  }\\n  }\\n\\n  /**\\n   * @notice Calculates x * y / denominator with full precision, following the selected rounding direction.\\n     */\\n  function mulDiv(\\n    uint256 x,\\n    uint256 y,\\n    uint256 denominator,\\n    Rounding rounding\\n  ) internal pure returns (uint256) {\\n    uint256 result = mulDiv(x, y, denominator);\\n    if (rounding == Rounding.Up && mulmod(x, y, denominator) > 0) {\\n      result += 1;\\n    }\\n    return result;\\n  }\\n\\n  /**\\n   * @dev Returns the square root of a number. If the number is not a perfect square, the value is rounded down.\\n     *\\n     * Inspired by Henry S. Warren, Jr.'s \\\"Hacker's Delight\\\" (Chapter 11).\\n     */\\n  function sqrt(uint256 a) internal pure returns (uint256) {\\n    if (a == 0) {\\n      return 0;\\n    }\\n\\n    // For our first guess, we get the biggest power of 2 which is smaller than the square root of the target.\\n    //\\n    // We know that the \\\"msb\\\" (most significant bit) of our target number `a` is a power of 2 such that we have\\n    // `msb(a) <= a < 2*msb(a)`. This value can be written `msb(a)=2**k` with `k=log2(a)`.\\n    //\\n    // This can be rewritten `2**log2(a) <= a < 2**(log2(a) + 1)`\\n    // \\u2192 `sqrt(2**k) <= sqrt(a) < sqrt(2**(k+1))`\\n    // \\u2192 `2**(k/2) <= sqrt(a) < 2**((k+1)/2) <= 2**(k/2 + 1)`\\n    //\\n    // Consequently, `2**(log2(a) / 2)` is a good first approximation of `sqrt(a)` with at least 1 correct bit.\\n    uint256 result = 1 << (log2(a) >> 1);\\n\\n    // At this point `result` is an estimation with one bit of precision. We know the true value is a uint128,\\n    // since it is the square root of a uint256. Newton's method converges quadratically (precision doubles at\\n    // every iteration). We thus need at most 7 iteration to turn our partial result with one bit of precision\\n    // into the expected uint128 result.\\n  unchecked {\\n    result = (result + a / result) >> 1;\\n    result = (result + a / result) >> 1;\\n    result = (result + a / result) >> 1;\\n    result = (result + a / result) >> 1;\\n    result = (result + a / result) >> 1;\\n    result = (result + a / result) >> 1;\\n    result = (result + a / result) >> 1;\\n    return min(result, a / result);\\n  }\\n  }\\n\\n  /**\\n   * @notice Calculates sqrt(a), following the selected rounding direction.\\n     */\\n  function sqrt(uint256 a, Rounding rounding) internal pure returns (uint256) {\\n  unchecked {\\n    uint256 result = sqrt(a);\\n    return result + (rounding == Rounding.Up && result * result < a ? 1 : 0);\\n  }\\n  }\\n\\n  /**\\n   * @dev Return the log in base 2, rounded down, of a positive value.\\n     * Returns 0 if given 0.\\n     */\\n  function log2(uint256 value) internal pure returns (uint256) {\\n    uint256 result = 0;\\n  unchecked {\\n    if (value >> 128 > 0) {\\n      value >>= 128;\\n      result += 128;\\n    }\\n    if (value >> 64 > 0) {\\n      value >>= 64;\\n      result += 64;\\n    }\\n    if (value >> 32 > 0) {\\n      value >>= 32;\\n      result += 32;\\n    }\\n    if (value >> 16 > 0) {\\n      value >>= 16;\\n      result += 16;\\n    }\\n    if (value >> 8 > 0) {\\n      value >>= 8;\\n      result += 8;\\n    }\\n    if (value >> 4 > 0) {\\n      value >>= 4;\\n      result += 4;\\n    }\\n    if (value >> 2 > 0) {\\n      value >>= 2;\\n      result += 2;\\n    }\\n    if (value >> 1 > 0) {\\n      result += 1;\\n    }\\n  }\\n    return result;\\n  }\\n\\n  /**\\n   * @dev Return the log in base 2, following the selected rounding direction, of a positive value.\\n     * Returns 0 if given 0.\\n     */\\n  function log2(uint256 value, Rounding rounding) internal pure returns (uint256) {\\n  unchecked {\\n    uint256 result = log2(value);\\n    return result + (rounding == Rounding.Up && 1 << result < value ? 1 : 0);\\n  }\\n  }\\n\\n  /**\\n   * @dev Return the log in base 10, rounded down, of a positive value.\\n     * Returns 0 if given 0.\\n     */\\n  function log10(uint256 value) internal pure returns (uint256) {\\n    uint256 result = 0;\\n  unchecked {\\n    if (value >= 10**64) {\\n      value /= 10**64;\\n      result += 64;\\n    }\\n    if (value >= 10**32) {\\n      value /= 10**32;\\n      result += 32;\\n    }\\n    if (value >= 10**16) {\\n      value /= 10**16;\\n      result += 16;\\n    }\\n    if (value >= 10**8) {\\n      value /= 10**8;\\n      result += 8;\\n    }\\n    if (value >= 10**4) {\\n      value /= 10**4;\\n      result += 4;\\n    }\\n    if (value >= 10**2) {\\n      value /= 10**2;\\n      result += 2;\\n    }\\n    if (value >= 10**1) {\\n      result += 1;\\n    }\\n  }\\n    return result;\\n  }\\n\\n  /**\\n   * @dev Return the log in base 10, following the selected rounding direction, of a positive value.\\n     * Returns 0 if given 0.\\n     */\\n  function log10(uint256 value, Rounding rounding) internal pure returns (uint256) {\\n  unchecked {\\n    uint256 result = log10(value);\\n    return result + (rounding == Rounding.Up && 10**result < value ? 1 : 0);\\n  }\\n  }\\n\\n  /**\\n   * @dev Return the log in base 256, rounded down, of a positive value.\\n     * Returns 0 if given 0.\\n     *\\n     * Adding one to the result gives the number of pairs of hex symbols needed to represent `value` as a hex string.\\n     */\\n  function log256(uint256 value) internal pure returns (uint256) {\\n    uint256 result = 0;\\n  unchecked {\\n    if (value >> 128 > 0) {\\n      value >>= 128;\\n      result += 16;\\n    }\\n    if (value >> 64 > 0) {\\n      value >>= 64;\\n      result += 8;\\n    }\\n    if (value >> 32 > 0) {\\n      value >>= 32;\\n      result += 4;\\n    }\\n    if (value >> 16 > 0) {\\n      value >>= 16;\\n      result += 2;\\n    }\\n    if (value >> 8 > 0) {\\n      result += 1;\\n    }\\n  }\\n    return result;\\n  }\\n\\n  /**\\n   * @dev Return the log in base 10, following the selected rounding direction, of a positive value.\\n     * Returns 0 if given 0.\\n     */\\n  function log256(uint256 value, Rounding rounding) internal pure returns (uint256) {\\n  unchecked {\\n    uint256 result = log256(value);\\n    return result + (rounding == Rounding.Up && 1 << (result << 3) < value ? 1 : 0);\\n  }\\n  }\\n}\\n\",\"keccak256\":\"0x2c5be0f4a60126b08e20f40586958ec1b76a27b69406c4b0db19e9dc6f771cfc\",\"license\":\"MIT\"},\"@tetu_io/tetu-contracts-v2/contracts/openzeppelin/SafeERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.8.0) (token/ERC20/utils/SafeERC20.sol)\\n\\npragma solidity 0.8.17;\\n\\nimport \\\"../interfaces/IERC20.sol\\\";\\nimport \\\"../interfaces/IERC20Permit.sol\\\";\\nimport \\\"./Address.sol\\\";\\n\\n/**\\n * @title SafeERC20\\n * @dev Wrappers around ERC20 operations that throw on failure (when the token\\n * contract returns false). Tokens that return no value (and instead revert or\\n * throw on failure) are also supported, non-reverting calls are assumed to be\\n * successful.\\n * To use this library you can add a `using SafeERC20 for IERC20;` statement to your contract,\\n * which allows you to call the safe operations as `token.safeTransfer(...)`, etc.\\n */\\nlibrary SafeERC20 {\\n  using Address for address;\\n\\n  function safeTransfer(\\n    IERC20 token,\\n    address to,\\n    uint256 value\\n  ) internal {\\n    _callOptionalReturn(token, abi.encodeWithSelector(token.transfer.selector, to, value));\\n  }\\n\\n  function safeTransferFrom(\\n    IERC20 token,\\n    address from,\\n    address to,\\n    uint256 value\\n  ) internal {\\n    _callOptionalReturn(token, abi.encodeWithSelector(token.transferFrom.selector, from, to, value));\\n  }\\n\\n  /**\\n   * @dev Deprecated. This function has issues similar to the ones found in\\n     * {IERC20-approve}, and its usage is discouraged.\\n     *\\n     * Whenever possible, use {safeIncreaseAllowance} and\\n     * {safeDecreaseAllowance} instead.\\n     */\\n  function safeApprove(\\n    IERC20 token,\\n    address spender,\\n    uint256 value\\n  ) internal {\\n    // safeApprove should only be called when setting an initial allowance,\\n    // or when resetting it to zero. To increase and decrease it, use\\n    // 'safeIncreaseAllowance' and 'safeDecreaseAllowance'\\n    require(\\n      (value == 0) || (token.allowance(address(this), spender) == 0),\\n      \\\"SafeERC20: approve from non-zero to non-zero allowance\\\"\\n    );\\n    _callOptionalReturn(token, abi.encodeWithSelector(token.approve.selector, spender, value));\\n  }\\n\\n  function safeIncreaseAllowance(\\n    IERC20 token,\\n    address spender,\\n    uint256 value\\n  ) internal {\\n    uint256 newAllowance = token.allowance(address(this), spender) + value;\\n    _callOptionalReturn(token, abi.encodeWithSelector(token.approve.selector, spender, newAllowance));\\n  }\\n\\n  function safeDecreaseAllowance(\\n    IERC20 token,\\n    address spender,\\n    uint256 value\\n  ) internal {\\n  unchecked {\\n    uint256 oldAllowance = token.allowance(address(this), spender);\\n    require(oldAllowance >= value, \\\"SafeERC20: decreased allowance below zero\\\");\\n    uint256 newAllowance = oldAllowance - value;\\n    _callOptionalReturn(token, abi.encodeWithSelector(token.approve.selector, spender, newAllowance));\\n  }\\n  }\\n\\n  function safePermit(\\n    IERC20Permit token,\\n    address owner,\\n    address spender,\\n    uint256 value,\\n    uint256 deadline,\\n    uint8 v,\\n    bytes32 r,\\n    bytes32 s\\n  ) internal {\\n    uint256 nonceBefore = token.nonces(owner);\\n    token.permit(owner, spender, value, deadline, v, r, s);\\n    uint256 nonceAfter = token.nonces(owner);\\n    require(nonceAfter == nonceBefore + 1, \\\"SafeERC20: permit did not succeed\\\");\\n  }\\n\\n  /**\\n   * @dev Imitates a Solidity high-level call (i.e. a regular function call to a contract), relaxing the requirement\\n     * on the return value: the return value is optional (but if data is returned, it must not be false).\\n     * @param token The token targeted by the call.\\n     * @param data The call data (encoded using abi.encode or one of its variants).\\n     */\\n  function _callOptionalReturn(IERC20 token, bytes memory data) private {\\n    // We need to perform a low level call here, to bypass Solidity's return data size checking mechanism, since\\n    // we're implementing it ourselves. We use {Address-functionCall} to perform this call, which verifies that\\n    // the target address contains contract code and also asserts for success in the low-level call.\\n\\n    bytes memory returndata = address(token).functionCall(data, \\\"SafeERC20: low-level call failed\\\");\\n    if (returndata.length > 0) {\\n      // Return data is optional\\n      require(abi.decode(returndata, (bool)), \\\"SafeERC20: ERC20 operation did not succeed\\\");\\n    }\\n  }\\n}\\n\",\"keccak256\":\"0x2378ee07b24e40c75781b27b2aa0812769c0000964e2d2501e3d234d3285dd18\",\"license\":\"MIT\"},\"@tetu_io/tetu-contracts-v2/contracts/strategy/StrategyLib.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity 0.8.17;\\n\\nimport \\\"../openzeppelin/SafeERC20.sol\\\";\\nimport \\\"../interfaces/IController.sol\\\";\\nimport \\\"../interfaces/ITetuVaultV2.sol\\\";\\nimport \\\"../interfaces/ISplitter.sol\\\";\\n\\nlibrary StrategyLib {\\n  using SafeERC20 for IERC20;\\n\\n  // *************************************************************\\n  //                        CONSTANTS\\n  // *************************************************************\\n\\n  /// @dev Denominator for fee calculation.\\n  uint internal constant FEE_DENOMINATOR = 100_000;\\n\\n  // *************************************************************\\n  //                        ERRORS\\n  // *************************************************************\\n\\n  string internal constant DENIED = \\\"SB: Denied\\\";\\n  string internal constant TOO_HIGH = \\\"SB: Too high\\\";\\n  string internal constant WRONG_VALUE = \\\"SB: Wrong value\\\";\\n\\n  // *************************************************************\\n  //                     RESTRICTIONS\\n  // *************************************************************\\n\\n  /// @dev Restrict access only for operators\\n  function onlyOperators(address controller) external view {\\n    require(IController(controller).isOperator(msg.sender), DENIED);\\n  }\\n\\n  /// @dev Restrict access only for governance\\n  function onlyGovernance(address controller) external view {\\n    require(IController(controller).governance() == msg.sender, DENIED);\\n  }\\n\\n  /// @dev Restrict access only for platform voter\\n  function onlyPlatformVoter(address controller) external view {\\n    require(IController(controller).platformVoter() == msg.sender, DENIED);\\n  }\\n\\n  /// @dev Restrict access only for splitter\\n  function onlySplitter(address splitter) external view {\\n    require(splitter == msg.sender, DENIED);\\n  }\\n\\n  // *************************************************************\\n  //                       HELPERS\\n  // *************************************************************\\n\\n  /// @notice Calculate withdrawn amount in USD using the {assetPrice}.\\n  ///         Revert if the amount is different from expected too much (high price impact)\\n  /// @param balanceBefore Asset balance of the strategy before withdrawing\\n  /// @param investedAssetsUSD Expected amount in USD, decimals are same to {_asset}\\n  /// @param assetPrice Price of the asset, decimals 18\\n  /// @return balance Current asset balance of the strategy\\n  function checkWithdrawImpact(\\n    address _asset,\\n    uint balanceBefore,\\n    uint investedAssetsUSD,\\n    uint assetPrice,\\n    address _splitter\\n  ) external view returns (uint balance) {\\n    balance = IERC20(_asset).balanceOf(address(this));\\n    if (assetPrice != 0 && investedAssetsUSD != 0) {\\n\\n      uint withdrew = balance > balanceBefore ? balance - balanceBefore : 0;\\n      uint withdrewUSD = withdrew * assetPrice / 1e18;\\n      uint priceChangeTolerance = ITetuVaultV2(ISplitter(_splitter).vault()).withdrawFee();\\n      uint difference = investedAssetsUSD > withdrewUSD ? investedAssetsUSD - withdrewUSD : 0;\\n\\n      require(difference * FEE_DENOMINATOR / investedAssetsUSD <= priceChangeTolerance, TOO_HIGH);\\n    }\\n  }\\n\\n}\\n\",\"keccak256\":\"0x85c3c76c9c4f944411889ee7c13ff8a94248317432294571b15874cee83449b7\",\"license\":\"MIT\"},\"@tetu_io/tetu-converter/contracts/interfaces/IConverterController.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity 0.8.17;\\n\\n/// @notice Keep and provide addresses of all application contracts\\ninterface IConverterController {\\n  function governance() external view returns (address);\\n\\n  /// ********************* Health factor explanation  ****************\\n  /// For example, a landing platform has: liquidity threshold = 0.85, LTV=0.8, LTV / LT = 1.0625\\n  /// For collateral $100 we can borrow $80. A liquidation happens if the cost of collateral will reduce below $85.\\n  /// We set min-health-factor = 1.1, target-health-factor = 1.3\\n  /// For collateral 100 we will borrow 100/1.3 = 76.92\\n  ///\\n  /// Collateral value   100        77            assume that collateral value is decreased at 100/77=1.3 times\\n  /// Collateral * LT    85         65.45\\n  /// Borrow value       65.38      65.38         but borrow value is the same as before\\n  /// Health factor      1.3        1.001         liquidation almost happens here (!)\\n  ///\\n  /// So, if we have target factor 1.3, it means, that if collateral amount will decreases at 1.3 times\\n  /// and the borrow value won't change at the same time, the liquidation happens at that point.\\n  /// Min health factor marks the point at which a rebalancing must be made asap.\\n  /// *****************************************************************\\n\\n  /// @notice min allowed health factor with decimals 2, must be >= 1e2\\n  function minHealthFactor2() external view returns (uint16);\\n  function setMinHealthFactor2(uint16 value_) external;\\n\\n  /// @notice target health factor with decimals 2\\n  /// @dev If the health factor is below/above min/max threshold, we need to make repay\\n  ///      or additional borrow and restore the health factor to the given target value\\n  function targetHealthFactor2() external view returns (uint16);\\n  function setTargetHealthFactor2(uint16 value_) external;\\n\\n  /// @notice max allowed health factor with decimals 2\\n  /// @dev For future versions, currently max health factor is not used\\n  function maxHealthFactor2() external view returns (uint16);\\n  /// @dev For future versions, currently max health factor is not used\\n  function setMaxHealthFactor2(uint16 value_) external;\\n\\n  /// @notice get current value of blocks per day. The value is set manually at first and can be auto-updated later\\n  function blocksPerDay() external view returns (uint);\\n  /// @notice set value of blocks per day manually and enable/disable auto update of this value\\n  function setBlocksPerDay(uint blocksPerDay_, bool enableAutoUpdate_) external;\\n  /// @notice Check if it's time to call updateBlocksPerDay()\\n  /// @param periodInSeconds_ Period of auto-update in seconds\\n  function isBlocksPerDayAutoUpdateRequired(uint periodInSeconds_) external view returns (bool);\\n  /// @notice Recalculate blocksPerDay value\\n  /// @param periodInSeconds_ Period of auto-update in seconds\\n  function updateBlocksPerDay(uint periodInSeconds_) external;\\n\\n  /// @notice 0 - new borrows are allowed, 1 - any new borrows are forbidden\\n  function paused() external view returns (bool);\\n\\n  /// @notice the given user is whitelisted and is allowed to make borrow/swap using TetuConverter\\n  function isWhitelisted(address user_) external view returns (bool);\\n\\n  ///////////////////////////////////////////////////////\\n  ///        Core application contracts\\n  ///////////////////////////////////////////////////////\\n\\n  function tetuConverter() external view returns (address);\\n  function borrowManager() external view returns (address);\\n  function debtMonitor() external view returns (address);\\n  function tetuLiquidator() external view returns (address);\\n  function swapManager() external view returns (address);\\n  function priceOracle() external view returns (address);\\n\\n  ///////////////////////////////////////////////////////\\n  ///        External contracts\\n  ///////////////////////////////////////////////////////\\n  /// @notice A keeper to control health and efficiency of the borrows\\n  function keeper() external view returns (address);\\n\\n}\\n\",\"keccak256\":\"0xfcecdf13c93dcd7c5c455a8f65c4222665be0cf9f8d675e648cc9e9afd472ef5\",\"license\":\"MIT\"},\"@tetu_io/tetu-converter/contracts/interfaces/IPriceOracle.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity 0.8.17;\\n\\ninterface IPriceOracle {\\n  /// @notice Return asset price in USD, decimals 18\\n  function getAssetPrice(address asset) external view returns (uint256);\\n}\\n\",\"keccak256\":\"0xb11e653eb4d6d7c41f29ee1e3e498253cfa8df1aec3ff31ab527009b79bdb705\",\"license\":\"MIT\"},\"@tetu_io/tetu-converter/contracts/interfaces/ITetuConverter.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity 0.8.17;\\n\\nimport \\\"./IConverterController.sol\\\";\\n\\n/// @notice Main contract of the TetuConverter application\\n/// @dev Borrower (strategy) makes all operations via this contract only.\\ninterface ITetuConverter {\\n\\n  function controller() external view returns (IConverterController);\\n\\n  /// @notice Find possible borrow strategies and provide \\\"cost of money\\\" as interest for the period for each strategy\\n  ///         Result arrays of the strategy are ordered in ascending order of APR.\\n  /// @param entryData_ Encoded entry kind and additional params if necessary (set of params depends on the kind)\\n  ///                   See EntryKinds.sol\\\\ENTRY_KIND_XXX constants for possible entry kinds\\n  ///                   0 is used by default\\n  /// @param amountIn_  The meaning depends on entryData\\n  ///                   For entryKind=0 it's max available amount of collateral\\n  /// @param periodInBlocks_ Estimated period to keep target amount. It's required to compute APR\\n  /// @return converters Array of available converters ordered in ascending order of APR.\\n  ///                    Each item contains a result contract that should be used for conversion; it supports IConverter\\n  ///                    This address should be passed to borrow-function during conversion.\\n  ///                    The length of array is always equal to the count of available lending platforms.\\n  ///                    Last items in array can contain zero addresses (it means they are not used)\\n  /// @return collateralAmountsOut Amounts that should be provided as a collateral\\n  /// @return amountToBorrowsOut Amounts that should be borrowed\\n  ///                            This amount is not zero if corresponded converter is not zero.\\n  /// @return aprs18 Interests on the use of {amountIn_} during the given period, decimals 18\\n  function findBorrowStrategies(\\n    bytes memory entryData_,\\n    address sourceToken_,\\n    uint amountIn_,\\n    address targetToken_,\\n    uint periodInBlocks_\\n  ) external view returns (\\n    address[] memory converters,\\n    uint[] memory collateralAmountsOut,\\n    uint[] memory amountToBorrowsOut,\\n    int[] memory aprs18\\n  );\\n\\n  /// @notice Find best swap strategy and provide \\\"cost of money\\\" as interest for the period\\n  /// @dev This is writable function with read-only behavior.\\n  ///      It should be writable to be able to simulate real swap and get a real APR.\\n  /// @param entryData_ Encoded entry kind and additional params if necessary (set of params depends on the kind)\\n  ///                   See EntryKinds.sol\\\\ENTRY_KIND_XXX constants for possible entry kinds\\n  ///                   0 is used by default\\n  /// @param amountIn_  The meaning depends on entryData\\n  ///                   For entryKind=0 it's max available amount of collateral\\n  ///                   This amount must be approved to TetuConverter before the call.\\n  ///                   For entryKind=2 we don't know amount of collateral before the call,\\n  ///                   so it's necessary to approve large enough amount (or make infinity approve)\\n  /// @return converter Result contract that should be used for conversion to be passed to borrow()\\n  /// @return sourceAmountOut Amount of {sourceToken_} that should be swapped to get {targetToken_}\\n  ///                         It can be different from the {sourceAmount_} for some entry kinds.\\n  /// @return targetAmountOut Result amount of {targetToken_} after swap\\n  /// @return apr18 Interest on the use of {outMaxTargetAmount} during the given period, decimals 18\\n  function findSwapStrategy(\\n    bytes memory entryData_,\\n    address sourceToken_,\\n    uint amountIn_,\\n    address targetToken_\\n  ) external returns (\\n    address converter,\\n    uint sourceAmountOut,\\n    uint targetAmountOut,\\n    int apr18\\n  );\\n\\n  /// @notice Find best conversion strategy (swap or borrow) and provide \\\"cost of money\\\" as interest for the period.\\n  ///         It calls both findBorrowStrategy and findSwapStrategy and selects a best strategy.\\n  /// @dev This is writable function with read-only behavior.\\n  ///      It should be writable to be able to simulate real swap and get a real APR for swapping.\\n  /// @param entryData_ Encoded entry kind and additional params if necessary (set of params depends on the kind)\\n  ///                   See EntryKinds.sol\\\\ENTRY_KIND_XXX constants for possible entry kinds\\n  ///                   0 is used by default\\n  /// @param amountIn_  The meaning depends on entryData\\n  ///                   For entryKind=0 it's max available amount of collateral\\n  ///                   This amount must be approved to TetuConverter before the call.\\n  ///                   For entryKind=2 we don't know amount of collateral before the call,\\n  ///                   so it's necessary to approve large enough amount (or make infinity approve)\\n  /// @param periodInBlocks_ Estimated period to keep target amount. It's required to compute APR\\n  /// @return converter Result contract that should be used for conversion to be passed to borrow().\\n  /// @return collateralAmountOut Amount of {sourceToken_} that should be swapped to get {targetToken_}\\n  ///                             It can be different from the {sourceAmount_} for some entry kinds.\\n  /// @return amountToBorrowOut Result amount of {targetToken_} after conversion\\n  /// @return apr18 Interest on the use of {outMaxTargetAmount} during the given period, decimals 18\\n  function findConversionStrategy(\\n    bytes memory entryData_,\\n    address sourceToken_,\\n    uint amountIn_,\\n    address targetToken_,\\n    uint periodInBlocks_\\n  ) external returns (\\n    address converter,\\n    uint collateralAmountOut,\\n    uint amountToBorrowOut,\\n    int apr18\\n  );\\n\\n  /// @notice Convert {collateralAmount_} to {amountToBorrow_} using {converter_}\\n  ///         Target amount will be transferred to {receiver_}. No re-balancing here.\\n  /// @dev Transferring of {collateralAmount_} by TetuConverter-contract must be approved by the caller before the call\\n  ///      Only whitelisted users are allowed to make borrows\\n  /// @param converter_ A converter received from findBestConversionStrategy.\\n  /// @param collateralAmount_ Amount of {collateralAsset_} to be converted.\\n  ///                          This amount must be approved to TetuConverter before the call.\\n  /// @param amountToBorrow_ Amount of {borrowAsset_} to be borrowed and sent to {receiver_}\\n  /// @param receiver_ A receiver of borrowed amount\\n  /// @return borrowedAmountOut Exact borrowed amount transferred to {receiver_}\\n  function borrow(\\n    address converter_,\\n    address collateralAsset_,\\n    uint collateralAmount_,\\n    address borrowAsset_,\\n    uint amountToBorrow_,\\n    address receiver_\\n  ) external returns (\\n    uint borrowedAmountOut\\n  );\\n\\n  /// @notice Full or partial repay of the borrow\\n  /// @dev A user should transfer {amountToRepay_} to TetuConverter before calling repay()\\n  /// @param amountToRepay_ Amount of borrowed asset to repay.\\n  ///                       You can know exact total amount of debt using {getStatusCurrent}.\\n  ///                       if the amount exceed total amount of the debt:\\n  ///                       - the debt will be fully repaid\\n  ///                       - remain amount will be swapped from {borrowAsset_} to {collateralAsset_}\\n  /// @param receiver_ A receiver of the collateral that will be withdrawn after the repay\\n  ///                  The remained amount of borrow asset will be returned to the {receiver_} too\\n  /// @return collateralAmountOut Exact collateral amount transferred to {collateralReceiver_}\\n  ///         If TetuConverter is not able to make the swap, it reverts\\n  /// @return returnedBorrowAmountOut A part of amount-to-repay that wasn't converted to collateral asset\\n  ///                                 because of any reasons (i.e. there is no available conversion strategy)\\n  ///                                 This amount is returned back to the collateralReceiver_\\n  /// @return swappedLeftoverCollateralOut A part of collateral received through the swapping\\n  /// @return swappedLeftoverBorrowOut A part of amountToRepay_ that was swapped\\n  function repay(\\n    address collateralAsset_,\\n    address borrowAsset_,\\n    uint amountToRepay_,\\n    address receiver_\\n  ) external returns (\\n    uint collateralAmountOut,\\n    uint returnedBorrowAmountOut,\\n    uint swappedLeftoverCollateralOut,\\n    uint swappedLeftoverBorrowOut\\n  );\\n\\n  /// @notice Estimate result amount after making full or partial repay\\n  /// @dev It works in exactly same way as repay() but don't make actual repay\\n  ///      Anyway, the function is write, not read-only, because it makes updateStatus()\\n  /// @param user_ user whose amount-to-repay will be calculated\\n  /// @param amountToRepay_ Amount of borrowed asset to repay.\\n  /// @return collateralAmountOut Total collateral amount to be returned after repay in exchange of {amountToRepay_}\\n  function quoteRepay(\\n    address user_,\\n    address collateralAsset_,\\n    address borrowAsset_,\\n    uint amountToRepay_\\n  ) external returns (\\n    uint collateralAmountOut\\n  );\\n\\n  /// @notice Update status in all opened positions\\n  ///         and calculate exact total amount of borrowed and collateral assets\\n  /// @param user_ user whose debts will be updated and returned\\n  /// @return totalDebtAmountOut Borrowed amount that should be repaid to pay off the loan in full\\n  /// @return totalCollateralAmountOut Amount of collateral that should be received after paying off the loan\\n  function getDebtAmountCurrent(\\n    address user_,\\n    address collateralAsset_,\\n    address borrowAsset_\\n  ) external returns (\\n    uint totalDebtAmountOut,\\n    uint totalCollateralAmountOut\\n  );\\n\\n  /// @notice Total amount of borrow tokens that should be repaid to close the borrow completely.\\n  /// @dev Actual debt amount can be a little LESS then the amount returned by this function.\\n  ///      I.e. AAVE's pool adapter returns (amount of debt + tiny addon ~ 1 cent)\\n  ///      The addon is required to workaround dust-tokens problem.\\n  ///      After repaying the remaining amount is transferred back on the balance of the caller strategy.\\n  /// @param user_ user whose debts will be returned\\n  /// @return totalDebtAmountOut Borrowed amount that should be repaid to pay off the loan in full\\n  /// @return totalCollateralAmountOut Amount of collateral that should be received after paying off the loan\\n  function getDebtAmountStored(\\n    address user_,\\n    address collateralAsset_,\\n    address borrowAsset_\\n  ) external view returns (\\n    uint totalDebtAmountOut,\\n    uint totalCollateralAmountOut\\n  );\\n\\n  /// @notice User needs to redeem some collateral amount. Calculate an amount of borrow token that should be repaid\\n  /// @param user_ user whose debts will be returned\\n  /// @param collateralAmountRequired_ Amount of collateral required by the user\\n  /// @return borrowAssetAmount Borrowed amount that should be repaid to receive back following amount of collateral:\\n  ///                           amountToReceive = collateralAmountRequired_ - unobtainableCollateralAssetAmount\\n  /// @return unobtainableCollateralAssetAmount A part of collateral that cannot be obtained in any case\\n  ///                                           even if all borrowed amount will be returned.\\n  ///                                           If this amount is not 0, you ask to get too much collateral.\\n  function estimateRepay(\\n    address user_,\\n    address collateralAsset_,\\n    uint collateralAmountRequired_,\\n    address borrowAsset_\\n  ) external view returns (\\n    uint borrowAssetAmount,\\n    uint unobtainableCollateralAssetAmount\\n  );\\n\\n  /// @notice Transfer all reward tokens to {receiver_}\\n  /// @return rewardTokensOut What tokens were transferred. Same reward token can appear in the array several times\\n  /// @return amountsOut Amounts of transferred rewards, the array is synced with {rewardTokens}\\n  function claimRewards(address receiver_) external returns (\\n    address[] memory rewardTokensOut,\\n    uint[] memory amountsOut\\n  );\\n\\n  /// @notice Swap {amountIn_} of {assetIn_} to {assetOut_} and send result amount to {receiver_}\\n  ///         The swapping is made using TetuLiquidator with checking price impact using embedded price oracle.\\n  /// @param amountIn_ Amount of {assetIn_} to be swapped.\\n  ///                      It should be transferred on balance of the TetuConverter before the function call\\n  /// @param receiver_ Result amount will be sent to this address\\n  /// @param priceImpactToleranceSource_ Price impact tolerance for liquidate-call, decimals = 100_000\\n  /// @param priceImpactToleranceTarget_ Price impact tolerance for price-oracle-check, decimals = 100_000\\n  /// @return amountOut The amount of {assetOut_} that has been sent to the receiver\\n  function safeLiquidate(\\n    address assetIn_,\\n    uint amountIn_,\\n    address assetOut_,\\n    address receiver_,\\n    uint priceImpactToleranceSource_,\\n    uint priceImpactToleranceTarget_\\n  ) external returns (\\n    uint amountOut\\n  );\\n\\n  /// @notice Check if {amountOut_} is too different from the value calculated directly using price oracle prices\\n  /// @return Price difference is ok for the given {priceImpactTolerance_}\\n  function isConversionValid(\\n    address assetIn_,\\n    uint amountIn_,\\n    address assetOut_,\\n    uint amountOut_,\\n    uint priceImpactTolerance_\\n  ) external view returns (bool);\\n\\n  /// @notice Close given borrow and return collateral back to the user, governance only\\n  /// @dev The pool adapter asks required amount-to-repay from the user internally\\n  /// @param poolAdapter_ The pool adapter that represents the borrow\\n  /// @param closePosition Close position after repay\\n  ///        Usually it should be true, because the function always tries to repay all debt\\n  ///        false can be used if user doesn't have enough amount to pay full debt\\n  ///              and we are trying to pay \\\"as much as possible\\\"\\n  /// @return collateralAmountOut Amount of collateral returned to the user\\n  /// @return repaidAmountOut Amount of borrow asset repaid to the lending platform\\n  function repayTheBorrow(address poolAdapter_, bool closePosition) external returns (\\n    uint collateralAmountOut,\\n    uint repaidAmountOut\\n  );\\n}\\n\",\"keccak256\":\"0x4914317254cf1c63672fc6d21c2ff484a26e76c89445c1b500d282ecd1027c9a\",\"license\":\"MIT\"},\"contracts/libs/AppErrors.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.17;\\n\\n/// @notice List of all errors generated by the application\\n///         Each error should have unique code TS-XXX and descriptive comment\\nlibrary AppErrors {\\n  /// @notice Provided address should be not zero\\n  string public constant ZERO_ADDRESS = \\\"TS-1 zero address\\\";\\n\\n  /// @notice A pair of the tokens cannot be found in the factory of uniswap pairs\\n  string public constant UNISWAP_PAIR_NOT_FOUND = \\\"TS-2 pair not found\\\";\\n\\n  /// @notice Lengths not matched\\n  string public constant WRONG_LENGTHS = \\\"TS-4 wrong lengths\\\";\\n\\n  /// @notice Unexpected zero balance\\n  string public constant ZERO_BALANCE = \\\"TS-5 zero balance\\\";\\n\\n  string public constant ITEM_NOT_FOUND = \\\"TS-6 not found\\\";\\n\\n  string public constant NOT_ENOUGH_BALANCE = \\\"TS-7 not enough balance\\\";\\n\\n  /// @notice Price oracle returns zero price\\n  string public constant ZERO_PRICE = \\\"TS-8 zero price\\\";\\n\\n  string public constant WRONG_VALUE = \\\"TS-9 wrong value\\\";\\n\\n  /// @notice TetuConvertor wasn't able to make borrow, i.e. borrow-strategy wasn't found\\n  string public constant ZERO_AMOUNT_BORROWED = \\\"TS-10 zero borrowed amount\\\";\\n\\n  string public constant WITHDRAW_TOO_MUCH = \\\"TS-11 try to withdraw too much\\\";\\n\\n  string public constant UNKNOWN_ENTRY_KIND = \\\"TS-12 unknown entry kind\\\";\\n\\n  string public constant ONLY_TETU_CONVERTER = \\\"TS-13 only TetuConverter\\\";\\n\\n  string public constant WRONG_ASSET = \\\"TS-14 wrong asset\\\";\\n\\n  string public constant NO_LIQUIDATION_ROUTE = \\\"TS-15 No liquidation route\\\";\\n\\n  string public constant PRICE_IMPACT = \\\"TS-16 price impact\\\";\\n\\n  /// @notice tetuConverter_.repay makes swap internally. It's not efficient and not allowed\\n  string public constant REPAY_MAKES_SWAP = \\\"TS-17 can not convert back\\\";\\n\\n  string public constant NO_INVESTMENTS = \\\"TS-18 no investments\\\";\\n}\\n\",\"keccak256\":\"0xd3579c5994f006bd7b4a4929b0cde43c74e346539d7a827f47d45775a5d5d165\",\"license\":\"MIT\"},\"contracts/libs/AppLib.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.17;\\n\\nimport \\\"@tetu_io/tetu-contracts-v2/contracts/interfaces/IERC20.sol\\\";\\nimport \\\"@tetu_io/tetu-contracts-v2/contracts/interfaces/IERC20Metadata.sol\\\";\\nimport \\\"@tetu_io/tetu-contracts-v2/contracts/openzeppelin/SafeERC20.sol\\\";\\n\\n/// @notice Common internal utils\\nlibrary AppLib {\\n  using SafeERC20 for IERC20;\\n\\n  /// @notice Unchecked increment for for-cycles\\n  function uncheckedInc(uint i) internal pure returns (uint) {\\n  unchecked {\\n    return i + 1;\\n  }\\n  }\\n\\n  /// @notice Make infinite approve of {token} to {spender} if the approved amount is less than {amount}\\n  /// @dev Should NOT be used for third-party pools\\n  function approveIfNeeded(address token, uint amount, address spender) internal {\\n    if (IERC20(token).allowance(address(this), spender) < amount) {\\n      IERC20(token).safeApprove(spender, 0);\\n      // infinite approve, 2*255 is more gas efficient then type(uint).max\\n      IERC20(token).safeApprove(spender, 2 ** 255);\\n    }\\n  }\\n}\\n\",\"keccak256\":\"0xb1933003632a71f0545ba76959b0dcbb3a3f60043149c456d33e52e46649ee7e\",\"license\":\"MIT\"},\"contracts/libs/ConverterEntryKinds.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.17;\\n\\n/// @notice Utils and constants related to entryKind param of ITetuConverter.findBorrowStrategy\\nlibrary ConverterEntryKinds {\\n  /// @notice Amount of collateral is fixed. Amount of borrow should be max possible.\\n  uint constant public ENTRY_KIND_EXACT_COLLATERAL_IN_FOR_MAX_BORROW_OUT_0 = 0;\\n\\n  /// @notice Split provided source amount S on two parts: C1 and C2 (C1 + C2 = S)\\n  ///         C2 should be used as collateral to make a borrow B.\\n  ///         Results amounts of C1 and B (both in terms of USD) must be in the given proportion\\n  uint constant public ENTRY_KIND_EXACT_PROPORTION_1 = 1;\\n\\n  /// @notice Borrow given amount using min possible collateral\\n  uint constant public ENTRY_KIND_EXACT_BORROW_OUT_FOR_MIN_COLLATERAL_IN_2 = 2;\\n\\n  /// @notice Decode entryData, extract first uint - entry kind\\n  ///         Valid values of entry kinds are given by ENTRY_KIND_XXX constants above\\n  function getEntryKind(bytes memory entryData_) internal pure returns (uint) {\\n    if (entryData_.length == 0) {\\n      return ENTRY_KIND_EXACT_COLLATERAL_IN_FOR_MAX_BORROW_OUT_0;\\n    }\\n    return abi.decode(entryData_, (uint));\\n  }\\n}\\n\",\"keccak256\":\"0x42e53e67f20fe11a5f5209e21f2d9b2ebeacdb197ae506ac796920907ea679a2\",\"license\":\"MIT\"},\"contracts/libs/TokenAmountsLib.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.17;\\n\\n/// @title Library for clearing / joining token addresses & amounts arrays\\n/// @author bogdoslav\\nlibrary TokenAmountsLib {\\n\\n  function uncheckedInc(uint i) internal pure returns (uint) {\\n  unchecked {\\n    return i + 1;\\n  }\\n  }\\n\\n  /// @notice Version of the contract\\n  /// @dev Should be incremented when contract changed\\n  string internal constant TOKEN_AMOUNTS_LIB_VERSION = \\\"1.0.0\\\";\\n\\n  function filterZeroAmounts(\\n    address[] memory tokens,\\n    uint[] memory amounts\\n  ) internal pure returns (\\n    address[] memory t,\\n    uint[] memory a\\n  ) {\\n    require(tokens.length == amounts.length, 'TAL: Arrays mismatch');\\n    uint len2 = 0;\\n    uint len = tokens.length;\\n    for (uint i = 0; i < len; i++) {\\n      if (amounts[i] != 0) len2++;\\n    }\\n\\n    t = new address[](len2);\\n    a = new uint[](len2);\\n\\n    uint j = 0;\\n    for (uint i = 0; i < len; i++) {\\n      uint amount = amounts[i];\\n      if (amount != 0) {\\n        t[j] = tokens[i];\\n        a[j] = amount;\\n        j++;\\n      }\\n    }\\n  }\\n\\n  /// @dev unites tokens2 and amounts2 in to tokens & amounts\\n  /// @notice zero amount tokens will be filtered!\\n  function unite(\\n    address[] memory tokens1,\\n    uint[] memory amounts1,\\n    address[] memory tokens2,\\n    uint[] memory amounts2\\n  ) internal pure returns (\\n    address[] memory allTokens,\\n    uint[] memory allAmounts\\n  ) {\\n    uint tokens1Length = tokens1.length;\\n    uint tokens2Length = tokens2.length;\\n\\n    require(tokens1Length == amounts1.length && tokens2Length == amounts2.length, 'TAL: Arrays mismatch');\\n\\n    uint maxLength = tokens1Length + tokens2Length;\\n    address[] memory tokens = new address[](maxLength);\\n    uint[] memory amounts = new uint[](maxLength);\\n\\n    uint unitedLength = 0;\\n\\n    // join tokens1\\n    for (uint i1 = 0; i1 < tokens1Length; i1++) {\\n\\n      uint amount1 = amounts1[i1];\\n      if (amount1 == 0) continue;\\n      address token1 = tokens1[i1];\\n      bool united = false;\\n\\n      for (uint i = 0; i < unitedLength; i++) {\\n        if (token1 == tokens[i]) {\\n          amounts[i] += amount1;\\n          united = true;\\n          break;\\n        }\\n      }\\n      if (!united) {\\n        tokens[unitedLength] = token1;\\n        amounts[unitedLength] = amount1;\\n        unitedLength++;\\n      }\\n    }\\n\\n    // join tokens2\\n    for (uint i2 = 0; i2 < tokens2Length; i2++) {\\n\\n      uint amount2 = amounts2[i2];\\n      if (amount2 == 0) continue;\\n      address token2 = tokens2[i2];\\n      bool united = false;\\n\\n      for (uint i = 0; i < unitedLength; i++) {\\n        if (token2 == tokens[i]) {\\n          amounts[i] += amount2;\\n          united = true;\\n          break;\\n        }\\n      }\\n      if (!united) {\\n        tokens[unitedLength] = token2;\\n        amounts[unitedLength] = amount2;\\n        unitedLength++;\\n      }\\n    }\\n\\n    // copy united tokens to result array\\n    allTokens = new address[](unitedLength);\\n    allAmounts = new uint[](unitedLength);\\n    for (uint i; i < unitedLength; i++) {\\n      allTokens[i] = tokens[i];\\n      allAmounts[i] = amounts[i];\\n    }\\n\\n  }\\n}\\n\",\"keccak256\":\"0x37d5318b6e45cbf42c3a56a14f8a368868a90a8bb4a86887aa4c1286656e5e5c\",\"license\":\"MIT\"},\"contracts/strategies/ConverterStrategyBaseLib.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.17;\\n\\nimport \\\"@tetu_io/tetu-contracts-v2/contracts/interfaces/ITetuLiquidator.sol\\\";\\nimport \\\"@tetu_io/tetu-contracts-v2/contracts/interfaces/IForwarder.sol\\\";\\nimport \\\"@tetu_io/tetu-contracts-v2/contracts/strategy/StrategyLib.sol\\\";\\nimport \\\"@tetu_io/tetu-contracts-v2/contracts/openzeppelin/Math.sol\\\";\\nimport \\\"@tetu_io/tetu-converter/contracts/interfaces/IPriceOracle.sol\\\";\\nimport \\\"@tetu_io/tetu-converter/contracts/interfaces/ITetuConverter.sol\\\";\\nimport \\\"../libs/AppErrors.sol\\\";\\nimport \\\"../libs/AppLib.sol\\\";\\nimport \\\"../libs/TokenAmountsLib.sol\\\";\\nimport \\\"../libs/ConverterEntryKinds.sol\\\";\\n\\nlibrary ConverterStrategyBaseLib {\\n  using SafeERC20 for IERC20;\\n\\n  /////////////////////////////////////////////////////////////////////\\n  ///                        DATA TYPES\\n  /////////////////////////////////////////////////////////////////////\\n  /// @notice Local vars for {_recycle}, workaround for stack too deep\\n  struct RecycleLocalParams {\\n    uint amountToCompound;\\n    uint amountToForward;\\n    address rewardToken;\\n    uint liquidationThresholdAsset;\\n    uint len;\\n    uint baseAmountIn;\\n    uint totalRewardAmounts;\\n    uint spentAmountIn;\\n    uint receivedAmountOut;\\n  }\\n\\n  struct OpenPositionLocal {\\n    uint entryKind;\\n    address[] converters;\\n    uint[] collateralsRequired;\\n    uint[] amountsToBorrow;\\n    uint collateral;\\n    uint amountToBorrow;\\n  }\\n\\n  struct OpenPositionEntryKind1Local {\\n    address[] converters;\\n    uint[] collateralsRequired;\\n    uint[] amountsToBorrow;\\n    uint collateral;\\n    uint amountToBorrow;\\n    uint c1;\\n    uint c3;\\n    uint ratio;\\n    uint alpha;\\n  }\\n\\n  struct CalcInvestedAssetsLocal {\\n    uint len;\\n    uint[] prices;\\n    uint[] decs;\\n    uint[] debts;\\n  }\\n\\n  struct ConvertAfterWithdrawLocalParams {\\n    address asset;\\n    uint collateral;\\n    uint spentAmountIn;\\n    uint receivedAmountOut;\\n  }\\n\\n  struct SwapToGivenAmountInputParams {\\n    uint targetAmount;\\n    address[] tokens;\\n    uint indexTargetAsset;\\n    address underlying;\\n    uint[] amounts;\\n    ITetuConverter converter;\\n    ITetuLiquidator liquidator;\\n    uint liquidationThresholdForTargetAsset;\\n    /// @notice Allow to swap more then required (i.e. 1_000 => +1%)\\n    ///         to avoid additional swap if the swap return amount a bit less than we expected\\n    uint overswap;\\n  }\\n\\n  struct SwapToGivenAmountLocal {\\n    uint len;\\n    uint[] availableAmounts;\\n    uint[] receivedAmounts;\\n    uint i;\\n  }\\n\\n  /////////////////////////////////////////////////////////////////////\\n  ///                        Constants\\n  /////////////////////////////////////////////////////////////////////\\n\\n  /// @notice approx one month for average block time 2 sec\\n  uint internal constant _LOAN_PERIOD_IN_BLOCKS = 30 days / 2;\\n  uint internal constant _REWARD_LIQUIDATION_SLIPPAGE = 5_000; // 5%\\n  uint internal constant COMPOUND_DENOMINATOR = 100_000;\\n  uint internal constant DENOMINATOR = 100_000;\\n  uint internal constant _ASSET_LIQUIDATION_SLIPPAGE = 300;\\n  uint internal constant PRICE_IMPACT_TOLERANCE = 300;\\n  /// @notice borrow/collateral amount cannot be less than given number of tokens\\n  uint internal constant DEFAULT_OPEN_POSITION_AMOUNT_IN_THRESHOLD = 10;\\n  /// @notice Allow to swap more then required (i.e. 1_000 => +1%) inside {swapToGivenAmount}\\n  ///         to avoid additional swap if the swap will return amount a bit less than we expected\\n  uint internal constant OVERSWAP = PRICE_IMPACT_TOLERANCE + _ASSET_LIQUIDATION_SLIPPAGE;\\n\\n  /////////////////////////////////////////////////////////////////////\\n  ///                         Events\\n  /////////////////////////////////////////////////////////////////////\\n  /// @notice A borrow was made\\n  event OpenPosition(\\n    address converter,\\n    address collateralAsset,\\n    uint collateralAmount,\\n    address borrowAsset,\\n    uint borrowedAmount,\\n    address recepient\\n  );\\n\\n  /// @notice Some borrow(s) was/were repaid\\n  event ClosePosition(\\n    address collateralAsset,\\n    address borrowAsset,\\n    uint amountRepay,\\n    address recepient,\\n    uint returnedAssetAmountOut,\\n    uint returnedBorrowAmountOut\\n  );\\n\\n  /// @notice A liquidation was made\\n  event Liquidation(\\n    address tokenIn,\\n    address tokenOut,\\n    uint amountIn,\\n    uint spentAmountIn,\\n    uint receivedAmountOut\\n  );\\n\\n  /////////////////////////////////////////////////////////////////////\\n  ///                      View functions\\n  /////////////////////////////////////////////////////////////////////\\n\\n  /// @notice Get amount of assets that we expect to receive after withdrawing\\n  ///         ratio = amount-LP-tokens-to-withdraw / total-amount-LP-tokens-in-pool\\n  /// @param reserves_ Reserves of the {poolAssets_}, same order, same length (we don't check it)\\n  ///                  The order of tokens should be same as in {_depositorPoolAssets()},\\n  ///                  one of assets must be {asset_}\\n  /// @param liquidityAmount_ Amount of LP tokens that we are going to withdraw\\n  /// @param totalSupply_ Total amount of LP tokens in the depositor\\n  /// @return withdrawnAmountsOut Expected withdrawn amounts (decimals == decimals of the tokens)\\n  function getExpectedWithdrawnAmounts(\\n    uint[] memory reserves_,\\n    uint liquidityAmount_,\\n    uint totalSupply_\\n  ) internal pure returns (\\n    uint[] memory withdrawnAmountsOut\\n  ) {\\n    uint ratio = totalSupply_ == 0\\n      ? 0\\n      : (liquidityAmount_ >= totalSupply_\\n        ? 1e18\\n        : 1e18 * liquidityAmount_ / totalSupply_\\n    );\\n    // we need brackets here for npm.run.coverage\\n\\n    uint len = reserves_.length;\\n    withdrawnAmountsOut = new uint[](len);\\n\\n    if (ratio != 0) {\\n      for (uint i; i < len; ++i) {\\n        withdrawnAmountsOut[i] = reserves_[i] * ratio / 1e18;\\n      }\\n    }\\n  }\\n\\n  /// @notice For each {token_} calculate a part of {amount_} to be used as collateral according to the weights.\\n  ///         I.e. we have 300 USDC, we need to split it on 100 USDC, 100 USDT, 100 DAI\\n  ///         USDC is main asset, USDT and DAI should be borrowed. We check amounts of USDT and DAI on the balance\\n  ///         and return collaterals reduced on that amounts. For main asset, we return full amount always (100 USDC).\\n  function getCollaterals(\\n    uint amount_,\\n    address[] memory tokens_,\\n    uint[] memory weights_,\\n    uint totalWeight_,\\n    uint indexAsset_,\\n    IPriceOracle priceOracle\\n  ) external view returns (\\n    uint[] memory tokenAmountsOut\\n  ) {\\n    uint len = tokens_.length;\\n    tokenAmountsOut = new uint[](len);\\n\\n    // get token prices and decimals\\n    (uint[] memory prices, uint[] memory decs) = _getPricesAndDecs(priceOracle, tokens_, len);\\n\\n    // split the amount on tokens proportionally to the weights\\n    for (uint i; i < len; i = AppLib.uncheckedInc(i)) {\\n      uint amountAssetForToken = amount_ * weights_[i] / totalWeight_;\\n\\n      if (i == indexAsset_) {\\n        tokenAmountsOut[i] = amountAssetForToken;\\n      } else {\\n        // if we have some tokens on balance then we need to use only a part of the collateral\\n        uint tokenAmountToBeBorrowed = amountAssetForToken\\n        * prices[indexAsset_]\\n        * decs[i]\\n        / prices[i]\\n        / decs[indexAsset_];\\n\\n        uint tokenBalance = IERC20(tokens_[i]).balanceOf(address(this));\\n        if (tokenBalance < tokenAmountToBeBorrowed) {\\n          tokenAmountsOut[i] = amountAssetForToken * (tokenAmountToBeBorrowed - tokenBalance) / tokenAmountToBeBorrowed;\\n        }\\n      }\\n    }\\n  }\\n\\n  /// @return prices Prices with decimals 18\\n  /// @return decs 10**decimals\\n  function _getPricesAndDecs(IPriceOracle priceOracle, address[] memory tokens_, uint len) internal view returns (\\n    uint[] memory prices,\\n    uint[] memory decs\\n  ) {\\n    prices = new uint[](len);\\n    decs = new uint[](len);\\n    {\\n      for (uint i; i < len; i = AppLib.uncheckedInc(i)) {\\n        decs[i] = 10 ** IERC20Metadata(tokens_[i]).decimals();\\n        prices[i] = priceOracle.getAssetPrice(tokens_[i]);\\n      }\\n    }\\n  }\\n\\n  /// @notice Find index of the given {asset_} in array {tokens_}, return type(uint).max if not found\\n  function getAssetIndex(address[] memory tokens_, address asset_) internal pure returns (uint) {\\n    uint len = tokens_.length;\\n    for (uint i; i < len; i = AppLib.uncheckedInc(i)) {\\n      if (tokens_[i] == asset_) {\\n        return i;\\n      }\\n    }\\n    return type(uint).max;\\n  }\\n\\n  /// @notice Get balances of the {tokens_} except balance of the token at {indexAsset} position\\n  function getAvailableBalances(\\n    address[] memory tokens_,\\n    uint indexAsset\\n  ) external view returns (uint[] memory) {\\n    uint len = tokens_.length;\\n    uint[] memory amountsToConvert = new uint[](len);\\n    for (uint i; i < len; i = AppLib.uncheckedInc(i)) {\\n      if (i == indexAsset) continue;\\n      amountsToConvert[i] = IERC20(tokens_[i]).balanceOf(address(this));\\n    }\\n    return amountsToConvert;\\n  }\\n\\n  /// @notice Get a ratio to calculate amount of liquidity that should be withdrawn from the pool to get {targetAmount_}\\n  ///               liquidityAmount = _depositorLiquidity() * {liquidityRatioOut} / 1e18\\n  ///         User needs to withdraw {targetAmount_} in main asset.\\n  ///         There are two kinds of available liquidity:\\n  ///         1) liquidity in the pool - {depositorLiquidity_}\\n  ///         2) Converted amounts on balance of the strategy - {baseAmounts_}\\n  ///         To withdraw {targetAmount_} we need\\n  ///         1) Reconvert converted amounts back to main asset\\n  ///         2) IF result amount is not necessary - withdraw some liquidity from the pool\\n  ///            and also convert it to the main asset.\\n  /// @dev This is a writable function with read-only behavior (because of the quote-call)\\n  /// @param targetAmount_ Required amount of main asset to be withdrawn from the strategy\\n  ///                      0 - withdraw all\\n  /// @param baseAmounts_ Available balances of the converted assets\\n  /// @param strategy_ Address of the strategy\\n  function getLiquidityAmountRatio(\\n    uint targetAmount_,\\n    mapping(address => uint) storage baseAmounts_,\\n    address strategy_,\\n    address[] memory tokens,\\n    uint indexAsset,\\n    ITetuConverter converter,\\n    uint investedAssets,\\n    uint depositorLiquidity\\n  ) external returns (\\n    uint liquidityRatioOut,\\n    uint[] memory amountsToConvertOut\\n  ) {\\n    bool all = targetAmount_ == 0;\\n\\n    uint len = tokens.length;\\n    amountsToConvertOut = new uint[](len);\\n    for (uint i; i < len; i = AppLib.uncheckedInc(i)) {\\n      if (i == indexAsset) continue;\\n\\n      uint baseAmount = baseAmounts_[tokens[i]];\\n      if (baseAmount != 0) {\\n        // let's estimate collateral that we received back after repaying baseAmount\\n        uint expectedCollateral = converter.quoteRepay(\\n          strategy_,\\n          tokens[indexAsset],\\n          tokens[i],\\n          baseAmount\\n        );\\n\\n        if (all || targetAmount_ != 0) {\\n          // We always repay WHOLE available baseAmount even if it gives us much more amount then we need.\\n          // We cannot repay a part of it because converter doesn't allow to know\\n          // what amount should be repaid to get given amount of collateral.\\n          // And it's too dangerous to assume that we can calculate this amount\\n          // by reducing baseAmount proportionally to expectedCollateral/targetAmount_\\n          amountsToConvertOut[i] = baseAmount;\\n        }\\n\\n        if (targetAmount_ > expectedCollateral) {\\n          targetAmount_ -= expectedCollateral;\\n        } else {\\n          targetAmount_ = 0;\\n        }\\n\\n        if (investedAssets > expectedCollateral) {\\n          investedAssets -= expectedCollateral;\\n        } else {\\n          investedAssets = 0;\\n        }\\n      }\\n    }\\n\\n    require(all || investedAssets > 0, AppErrors.WITHDRAW_TOO_MUCH);\\n\\n    liquidityRatioOut = all\\n      ? 1e18\\n      : ((targetAmount_ == 0)\\n        ? 0\\n        : 1e18\\n          * 101 // add 1% on top...\\n          * targetAmount_ / investedAssets // a part of amount that we are going to withdraw\\n          / 100 // .. add 1% on top\\n    );\\n\\n    if (liquidityRatioOut != 0) {\\n      // liquidityAmount temporary contains ratio...\\n      liquidityRatioOut = liquidityRatioOut * depositorLiquidity / 1e18;\\n    }\\n  }\\n\\n  /////////////////////////////////////////////////////////////////////\\n  ///                   Borrow and close positions\\n  /////////////////////////////////////////////////////////////////////\\n  /// @notice Make one or several borrow necessary to supply/borrow required {amountIn_} according to {entryData_}\\n  ///         Max possible collateral should be approved before calling of this function.\\n  /// @param entryData_ Encoded entry kind and additional params if necessary (set of params depends on the kind)\\n  ///                   See TetuConverter\\\\EntryKinds.sol\\\\ENTRY_KIND_XXX constants for possible entry kinds\\n  ///                   0 or empty: Amount of collateral {amountIn_} is fixed, amount of borrow should be max possible.\\n  /// @param amountIn_ Meaning depends on {entryData_}.\\n  function openPosition(\\n    ITetuConverter tetuConverter_,\\n    bytes memory entryData_,\\n    address collateralAsset_,\\n    address borrowAsset_,\\n    uint amountIn_,\\n    uint thresholdAmountIn_\\n  ) external returns (\\n    uint collateralAmountOut,\\n    uint borrowedAmountOut\\n  ) {\\n    return _openPosition(tetuConverter_, entryData_, collateralAsset_, borrowAsset_, amountIn_, thresholdAmountIn_);\\n  }\\n\\n  /// @notice Make one or several borrow necessary to supply/borrow required {amountIn_} according to {entryData_}\\n  ///         Max possible collateral should be approved before calling of this function.\\n  /// @param entryData_ Encoded entry kind and additional params if necessary (set of params depends on the kind)\\n  ///                   See TetuConverter\\\\EntryKinds.sol\\\\ENTRY_KIND_XXX constants for possible entry kinds\\n  ///                   0 or empty: Amount of collateral {amountIn_} is fixed, amount of borrow should be max possible.\\n  /// @param amountIn_ Meaning depends on {entryData_}.\\n  /// @param thresholdAmountIn_ Min value of amountIn allowed for the second and subsequent conversions.\\n  ///        0 - use default min value\\n  ///        If amountIn becomes too low, no additional borrows are possible, so\\n  ///        the rest amountIn is just added to collateral/borrow amount of previous conversion.\\n  function _openPosition(\\n    ITetuConverter tetuConverter_,\\n    bytes memory entryData_,\\n    address collateralAsset_,\\n    address borrowAsset_,\\n    uint amountIn_,\\n    uint thresholdAmountIn_\\n  ) internal returns (\\n    uint collateralAmountOut,\\n    uint borrowedAmountOut\\n  ) {\\n    if (thresholdAmountIn_ == 0) {\\n      // zero threshold is not allowed because round-issues are possible, see openPosition.dust test\\n      // we assume here, that it's useless to borrow amount using collateral/borrow amount\\n      // less than given number of tokens (event for BTC)\\n      thresholdAmountIn_ = DEFAULT_OPEN_POSITION_AMOUNT_IN_THRESHOLD;\\n    }\\n    require(amountIn_ > thresholdAmountIn_, AppErrors.WRONG_VALUE);\\n\\n    OpenPositionLocal memory vars;\\n    // we assume here, that max possible collateral amount is already approved (as it's required by TetuConverter)\\n    vars.entryKind = ConverterEntryKinds.getEntryKind(entryData_);\\n    if (vars.entryKind == ConverterEntryKinds.ENTRY_KIND_EXACT_PROPORTION_1) {\\n      return openPositionEntryKind1(\\n        tetuConverter_,\\n        entryData_,\\n        collateralAsset_,\\n        borrowAsset_,\\n        amountIn_,\\n        thresholdAmountIn_\\n      );\\n    } else {\\n      (vars.converters, vars.collateralsRequired, vars.amountsToBorrow,) = tetuConverter_.findBorrowStrategies(\\n        entryData_,\\n        collateralAsset_,\\n        amountIn_,\\n        borrowAsset_,\\n        _LOAN_PERIOD_IN_BLOCKS\\n      );\\n\\n      uint len = vars.converters.length;\\n      if (len > 0) {\\n        for (uint i; i < len; i = AppLib.uncheckedInc(i)) {\\n          // we need to approve collateralAmount before the borrow-call but it's already approved, see above comments\\n          vars.collateral;\\n          vars.amountToBorrow;\\n          if (vars.entryKind == ConverterEntryKinds.ENTRY_KIND_EXACT_COLLATERAL_IN_FOR_MAX_BORROW_OUT_0) {\\n            // we have exact amount of total collateral amount\\n            // Case ENTRY_KIND_EXACT_PROPORTION_1 is here too because we consider first platform only\\n            vars.collateral = amountIn_ < vars.collateralsRequired[i]\\n            ? amountIn_\\n            : vars.collateralsRequired[i];\\n            vars.amountToBorrow = amountIn_ < vars.collateralsRequired[i]\\n            ? vars.amountsToBorrow[i] * amountIn_ / vars.collateralsRequired[i]\\n            : vars.amountsToBorrow[i];\\n            amountIn_ -= vars.collateral;\\n          } else {\\n            // assume here that entryKind == EntryKinds.ENTRY_KIND_EXACT_BORROW_OUT_FOR_MIN_COLLATERAL_IN_2\\n            // we have exact amount of total amount-to-borrow\\n            vars.amountToBorrow = amountIn_ < vars.amountsToBorrow[i]\\n            ? amountIn_\\n            : vars.amountsToBorrow[i];\\n            vars.collateral = amountIn_ < vars.amountsToBorrow[i]\\n            ? vars.collateralsRequired[i] * amountIn_ / vars.amountsToBorrow[i]\\n            : vars.collateralsRequired[i];\\n            amountIn_ -= vars.amountToBorrow;\\n          }\\n\\n          if (amountIn_ < thresholdAmountIn_ && amountIn_ != 0) {\\n            // dust amount is left, just leave it unused\\n            // we cannot add it to collateral/borrow amounts - there is a risk to exceed max allowed amounts\\n            amountIn_ = 0;\\n          }\\n\\n          if (vars.amountToBorrow != 0) {\\n            borrowedAmountOut += tetuConverter_.borrow(\\n              vars.converters[i],\\n              collateralAsset_,\\n              vars.collateral,\\n              borrowAsset_,\\n              vars.amountToBorrow,\\n              address(this)\\n            );\\n            collateralAmountOut += vars.collateral;\\n            emit OpenPosition(\\n              vars.converters[i],\\n              collateralAsset_,\\n              vars.collateral,\\n              borrowAsset_,\\n              vars.amountToBorrow,\\n              address(this)\\n            );\\n          }\\n\\n          if (amountIn_ == 0) break;\\n        }\\n      }\\n\\n      return (collateralAmountOut, borrowedAmountOut);\\n    }\\n  }\\n\\n  function openPositionEntryKind1(\\n    ITetuConverter tetuConverter_,\\n    bytes memory entryData_,\\n    address collateralAsset_,\\n    address borrowAsset_,\\n    uint amountIn_,\\n    uint collateralThreshold_\\n  ) internal returns (\\n    uint collateralAmountOut,\\n    uint borrowedAmountOut\\n  ) {\\n    OpenPositionEntryKind1Local memory vars;\\n    (vars.converters, vars.collateralsRequired, vars.amountsToBorrow,) = tetuConverter_.findBorrowStrategies(\\n      entryData_,\\n      collateralAsset_,\\n      amountIn_,\\n      borrowAsset_,\\n      _LOAN_PERIOD_IN_BLOCKS\\n    );\\n\\n    collateralAmountOut = 0;\\n    borrowedAmountOut = 0;\\n\\n    uint len = vars.converters.length;\\n    if (len > 0) {\\n      // we should split amountIn on two amounts with proportions x:y\\n      (, uint x, uint y) = abi.decode(entryData_, (uint, uint, uint));\\n      // calculate prices conversion ratio using price oracle, decimals 18\\n      // i.e. alpha = 1e18 * 75e6 usdc / 25e18 matic = 3e6 usdc/matic\\n      vars.alpha = _getCollateralToBorrowRatio(tetuConverter_, collateralAsset_, borrowAsset_);\\n\\n      for (uint i; i < len; i = AppLib.uncheckedInc(i)) {\\n        // the lending platform allows to convert {collateralsRequired[i]} to {amountsToBorrow[i]}\\n        // and give us required proportions in result\\n        // C = C1 + C2, C2 => B2, B2 * alpha = C3, C1/C3 must be equal to x/y\\n        // C2 is collateral amount, that is converted to B2\\n        // but if lending platform doesn't have enough liquidity\\n        // it reduces {collateralsRequired[i]} and {amountsToBorrow[i]} proportionally to fit the limits\\n        // as result, remaining C1 will be too big after conversion and we need to make another borrow\\n        vars.c3 = vars.alpha * vars.amountsToBorrow[i] / 1e18;\\n        vars.c1 = x * vars.c3 / y;\\n        vars.ratio = vars.collateralsRequired[i] + vars.c1 > amountIn_\\n        ? 1e18 * amountIn_ / (vars.collateralsRequired[i] + vars.c1)\\n        : 1e18;\\n        // c2\\n        vars.collateral = vars.collateralsRequired[i] * vars.ratio / 1e18;\\n        vars.amountToBorrow = vars.amountsToBorrow[i] * vars.ratio / 1e18;\\n\\n        vars.c3 = vars.alpha * vars.amountToBorrow / 1e18;\\n        vars.c1 = x * vars.c3 / y;\\n\\n        if (amountIn_ > vars.c1 + vars.collateral) {\\n          // we have some amount for next converter\\n          amountIn_ -= (vars.c1 + vars.collateral);\\n\\n          // protection against dust amounts, see \\\"openPosition.dust\\\", just leave dust amount unused\\n          // we CAN NOT add it to collateral/borrow amounts - there is a risk to exceed max allowed amounts\\n          if (amountIn_ < collateralThreshold_) {\\n            amountIn_ = 0;\\n          }\\n        } else {\\n          amountIn_ = 0;\\n        }\\n\\n        require(\\n          tetuConverter_.borrow(\\n            vars.converters[i],\\n            collateralAsset_,\\n            vars.collateral,\\n            borrowAsset_,\\n            vars.amountToBorrow,\\n            address(this)\\n          ) == vars.amountToBorrow,\\n          StrategyLib.WRONG_VALUE\\n        );\\n        emit OpenPosition(\\n          vars.converters[i],\\n          collateralAsset_,\\n          vars.collateral,\\n          borrowAsset_,\\n          vars.amountToBorrow,\\n          address(this)\\n        );\\n\\n        borrowedAmountOut += vars.amountToBorrow;\\n        collateralAmountOut += vars.collateral;\\n\\n        if (amountIn_ == 0) {\\n          break;\\n        }\\n      }\\n    }\\n\\n    return (collateralAmountOut, borrowedAmountOut);\\n  }\\n\\n  /// @notice Get ratio18 = collateral / borrow\\n  function _getCollateralToBorrowRatio(\\n    ITetuConverter tetuConverter_,\\n    address collateralAsset_,\\n    address borrowAsset_\\n  ) internal view returns (uint){\\n    IPriceOracle priceOracle = IPriceOracle(IConverterController(tetuConverter_.controller()).priceOracle());\\n    uint priceCollateral = priceOracle.getAssetPrice(collateralAsset_);\\n    uint priceBorrow = priceOracle.getAssetPrice(borrowAsset_);\\n    return 1e18 * priceBorrow * 10 ** IERC20Metadata(collateralAsset_).decimals()\\n    / priceCollateral / 10 ** IERC20Metadata(borrowAsset_).decimals();\\n  }\\n\\n  /// @notice Close the given position, pay {amountToRepay}, return collateral amount in result\\n  /// @param amountToRepay Amount to repay in terms of {borrowAsset}\\n  /// @return returnedAssetAmountOut Amount of collateral received back after repaying\\n  /// @return repaidAmountOut Amount that was actually repaid\\n  function _closePosition(\\n    ITetuConverter tetuConverter_,\\n    address collateralAsset,\\n    address borrowAsset,\\n    uint amountToRepay\\n  ) internal returns (\\n    uint returnedAssetAmountOut,\\n    uint repaidAmountOut\\n  ) {\\n\\n    // We shouldn't try to pay more than we actually need to repay\\n    // The leftover will be swapped inside TetuConverter, it's inefficient.\\n    // Let's limit amountToRepay by needToRepay-amount\\n    (uint needToRepay,) = tetuConverter_.getDebtAmountCurrent(address(this), collateralAsset, borrowAsset);\\n\\n    uint amountRepay = amountToRepay < needToRepay\\n    ? amountToRepay\\n    : needToRepay;\\n\\n    // Make full/partial repayment\\n    uint balanceBefore = IERC20(borrowAsset).balanceOf(address(this));\\n    IERC20(borrowAsset).safeTransfer(address(tetuConverter_), amountRepay);\\n    uint returnedBorrowAmountOut;\\n\\n    (returnedAssetAmountOut, returnedBorrowAmountOut,,) = tetuConverter_.repay(\\n      collateralAsset,\\n      borrowAsset,\\n      amountRepay,\\n      address(this)\\n    );\\n    emit ClosePosition(\\n      collateralAsset,\\n      borrowAsset,\\n      amountRepay,\\n      address(this),\\n      returnedAssetAmountOut,\\n      returnedBorrowAmountOut\\n    );\\n    uint balanceAfter = IERC20(borrowAsset).balanceOf(address(this));\\n\\n    // we cannot use amountRepay here because AAVE pool adapter is able to send tiny amount back (dust tokens)\\n    repaidAmountOut = balanceBefore > balanceAfter\\n    ? balanceBefore - balanceAfter\\n    : 0;\\n\\n    require(returnedBorrowAmountOut == 0, StrategyLib.WRONG_VALUE);\\n  }\\n\\n  /// @notice Close the given position, pay {amountToRepay}, return collateral amount in result\\n  /// @param amountToRepay Amount to repay in terms of {borrowAsset}\\n  /// @return returnedAssetAmountOut Amount of collateral received back after repaying\\n  /// @return repaidAmountOut Amount that was actually repaid\\n  function closePosition(\\n    ITetuConverter tetuConverter_,\\n    address collateralAsset,\\n    address borrowAsset,\\n    uint amountToRepay\\n  ) external returns (\\n    uint returnedAssetAmountOut,\\n    uint repaidAmountOut\\n  ) {\\n    return _closePosition(tetuConverter_, collateralAsset, borrowAsset, amountToRepay);\\n  }\\n\\n  /////////////////////////////////////////////////////////////////////\\n  ///                         Liquidation\\n  /////////////////////////////////////////////////////////////////////\\n\\n  /// @notice Make liquidation if estimated amountOut exceeds the given threshold\\n  /// @param spentAmountIn Amount of {tokenIn} has been consumed by the liquidator\\n  /// @param receivedAmountOut Amount of {tokenOut_} has been returned by the liquidator\\n  function liquidate(\\n    ITetuLiquidator liquidator_,\\n    address tokenIn_,\\n    address tokenOut_,\\n    uint amountIn_,\\n    uint slippage_,\\n    uint liquidationThresholdForTokenOut_\\n  ) external returns (\\n    uint spentAmountIn,\\n    uint receivedAmountOut\\n  ) {\\n    return _liquidate(liquidator_, tokenIn_, tokenOut_, amountIn_, slippage_, liquidationThresholdForTokenOut_);\\n  }\\n\\n  /// @notice Make liquidation if estimated amountOut exceeds the given threshold\\n  /// @param spentAmountIn Amount of {tokenIn} has been consumed by the liquidator\\n  /// @param receivedAmountOut Amount of {tokenOut_} has been returned by the liquidator\\n  function _liquidate(\\n    ITetuLiquidator liquidator_,\\n    address tokenIn_,\\n    address tokenOut_,\\n    uint amountIn_,\\n    uint slippage_,\\n    uint liquidationThresholdForTokenOut_\\n  ) internal returns (\\n    uint spentAmountIn,\\n    uint receivedAmountOut\\n  ) {\\n    (ITetuLiquidator.PoolData[] memory route,) = liquidator_.buildRoute(tokenIn_, tokenOut_);\\n\\n    require(route.length != 0, AppErrors.NO_LIQUIDATION_ROUTE);\\n\\n    // calculate balance in out value for check threshold\\n    uint amountOut = liquidator_.getPriceForRoute(route, amountIn_);\\n\\n    // if the expected value is higher than threshold distribute to destinations\\n    if (amountOut > liquidationThresholdForTokenOut_) {\\n      // we need to approve each time, liquidator address can be changed in controller\\n      AppLib.approveIfNeeded(tokenIn_, amountIn_, address(liquidator_));\\n\\n      uint balanceBefore = IERC20(tokenOut_).balanceOf(address(this));\\n\\n      liquidator_.liquidateWithRoute(route, amountIn_, slippage_);\\n\\n      // temporary save balance of token out after  liquidation to spentAmountIn\\n      uint balanceAfter = IERC20(tokenOut_).balanceOf(address(this));\\n\\n      // assign correct values to\\n      receivedAmountOut = balanceAfter > balanceBefore\\n      ? balanceAfter - balanceBefore\\n      : 0;\\n      spentAmountIn = amountIn_;\\n\\n      emit Liquidation(\\n        tokenIn_,\\n        tokenOut_,\\n        amountIn_,\\n        spentAmountIn,\\n        receivedAmountOut\\n      );\\n    }\\n\\n    return (spentAmountIn, receivedAmountOut);\\n  }\\n\\n  /////////////////////////////////////////////////////////////////////\\n  ///                 requirePayAmountBack\\n  /////////////////////////////////////////////////////////////////////\\n\\n  /// @notice Swap available {amounts_} of {tokens_} to receive {targetAmount_} of {tokens[indexTheAsset_]}\\n  /// @param targetAmount_ Required amount of tokens[indexTheAsset_] that should be received by swap(s)\\n  /// @param tokens_ tokens received from {_depositorPoolAssets}\\n  /// @param indexTargetAsset_ Index of target asset in tokens_ array\\n  /// @param underlying_ Index of underlying\\n  /// @param withdrawnAmounts_ Amounts withdrawn from the pool\\n  /// @param liquidationThresholdForTargetAsset_ Liquidation thresholds for the target asset\\n  /// @param overswap_ Allow to swap more then required (i.e. 1_000 => +1%)\\n  ///                  to avoid additional swap if the swap return amount a bit less than we expected\\n  /// @return spentAmounts Any amounts spent during the swaps\\n  /// @return withdrawnAmountsOut withdrawnAmounts + any amounts received during the swaps\\n  function swapToGivenAmount(\\n    uint targetAmount_,\\n    address[] memory tokens_,\\n    uint indexTargetAsset_,\\n    address underlying_,\\n    uint[] memory withdrawnAmounts_,\\n    ITetuConverter converter_,\\n    ITetuLiquidator liquidator_,\\n    uint liquidationThresholdForTargetAsset_,\\n    uint overswap_,\\n    mapping(address => uint) storage baseAmounts_\\n  ) external returns (\\n    uint[] memory spentAmounts,\\n    uint[] memory withdrawnAmountsOut\\n  ) {\\n    SwapToGivenAmountLocal memory v;\\n    v.len = tokens_.length;\\n\\n    spentAmounts = new uint[](v.len);\\n    withdrawnAmountsOut = new uint[](v.len);\\n\\n    v.availableAmounts = new uint[](v.len);\\n    for (; v.i < v.len; v.i = AppLib.uncheckedInc(v.i)) {\\n      v.availableAmounts[v.i] = withdrawnAmounts_[v.i] + baseAmounts_[tokens_[v.i]];\\n    }\\n    (spentAmounts, v.receivedAmounts) = _swapToGivenAmount(\\n      SwapToGivenAmountInputParams({\\n        targetAmount: targetAmount_,\\n        tokens: tokens_,\\n        indexTargetAsset: indexTargetAsset_,\\n        underlying: underlying_,\\n        amounts: v.availableAmounts,\\n        converter: converter_,\\n        liquidator: liquidator_,\\n        liquidationThresholdForTargetAsset: liquidationThresholdForTargetAsset_,\\n        overswap: overswap_\\n      })\\n    );\\n    for (v.i = 0; v.i < v.len; v.i = AppLib.uncheckedInc(v.i)) {\\n      withdrawnAmountsOut[v.i] = withdrawnAmounts_[v.i] + v.receivedAmounts[v.i];\\n    }\\n  }\\n\\n  /// @notice Swap available {amounts_} of {tokens_} to receive {targetAmount_} of {tokens[indexTheAsset_]}\\n  /// @return spentAmounts Any amounts spent during the swaps\\n  /// @return receivedAmounts Any amounts received during the swaps\\n  function _swapToGivenAmount(SwapToGivenAmountInputParams memory p) internal returns (\\n    uint[] memory spentAmounts,\\n    uint[] memory receivedAmounts\\n  ) {\\n    CalcInvestedAssetsLocal memory v;\\n    v.len = p.tokens.length;\\n    receivedAmounts = new uint[](v.len);\\n    spentAmounts = new uint[](v.len);\\n\\n    // calculate prices, decimals\\n    (v.prices, v.decs) = _getPricesAndDecs(\\n      IPriceOracle(IConverterController(p.converter.controller()).priceOracle()),\\n      p.tokens,\\n      v.len\\n    );\\n\\n    // we need to swap other assets to the asset\\n    // at first we should swap NOT underlying.\\n    // if it would be not enough, we can swap underlying too.\\n\\n    // swap NOT underlying, initialize {indexUnderlying}\\n    uint indexUnderlying;\\n    for (uint i; i < v.len; i = AppLib.uncheckedInc(i)) {\\n      if (p.underlying == p.tokens[i]) {\\n        indexUnderlying = i;\\n        continue;\\n      }\\n      if (p.indexTargetAsset == i) continue;\\n\\n      (uint spent, uint received) = _swapToGetAmount(receivedAmounts[p.indexTargetAsset], p, v, i);\\n      spentAmounts[i] += spent;\\n      receivedAmounts[p.indexTargetAsset] += received;\\n\\n      if (receivedAmounts[p.indexTargetAsset] >= p.targetAmount) break;\\n    }\\n\\n    // swap underlying\\n    if (receivedAmounts[p.indexTargetAsset] < p.targetAmount && p.indexTargetAsset != indexUnderlying) {\\n      (uint spent, uint received) = _swapToGetAmount(receivedAmounts[p.indexTargetAsset], p, v, indexUnderlying);\\n      spentAmounts[indexUnderlying] += spent;\\n      receivedAmounts[p.indexTargetAsset] += received;\\n    }\\n  }\\n\\n  /// @notice Swap a part of amount of asset {tokens[indexTokenIn]} to {targetAsset} to get {targetAmount} in result\\n  /// @param receivedTargetAmount Already received amount of {targetAsset} in previous swaps\\n  /// @param indexTokenIn Index of the tokenIn in p.tokens\\n  function _swapToGetAmount(\\n    uint receivedTargetAmount,\\n    SwapToGivenAmountInputParams memory p,\\n    CalcInvestedAssetsLocal memory v,\\n    uint indexTokenIn\\n  ) internal returns (\\n    uint amountSpent,\\n    uint amountReceived\\n  ) {\\n    if (p.amounts[indexTokenIn] != 0) {\\n      // we assume here, that p.targetAmount > receivedTargetAmount, see _swapToGivenAmount implementation\\n\\n      // calculate amount that should be swapped\\n      // {overswap} allows to swap a bit more\\n      // to avoid additional swaps if the swap will give us a bit less amount than expected\\n      uint amountIn = (\\n        (p.targetAmount - receivedTargetAmount)\\n        * v.prices[p.indexTargetAsset] * v.decs[indexTokenIn]\\n        / v.prices[indexTokenIn] / v.decs[p.indexTargetAsset]\\n      ) * (p.overswap + DENOMINATOR) / DENOMINATOR;\\n\\n      (amountSpent, amountReceived) = _liquidate(\\n        p.liquidator,\\n        p.tokens[indexTokenIn],\\n        p.tokens[p.indexTargetAsset],\\n        Math.min(amountIn, p.amounts[indexTokenIn]),\\n        _ASSET_LIQUIDATION_SLIPPAGE,\\n        p.liquidationThresholdForTargetAsset\\n      );\\n    }\\n\\n    return (amountSpent, amountReceived);\\n  }\\n\\n  /////////////////////////////////////////////////////////////////////\\n  ///                      Recycle rewards\\n  /////////////////////////////////////////////////////////////////////\\n\\n  /// @notice Recycle the amounts: liquidate a part of each amount, send the other part to the forwarder.\\n  /// We have two kinds of rewards:\\n  /// 1) rewards in depositor's assets (the assets returned by _depositorPoolAssets)\\n  /// 2) any other rewards\\n  /// All received rewards are immediately \\\"recycled\\\".\\n  /// It means, they are divided on two parts: to forwarder, to compound\\n  ///   Compound-part of Rewards-2 can be liquidated\\n  ///   Compound part of Rewards-1 should be just added to baseAmounts\\n  /// All forwarder-parts are returned in amountsToForward and should be transferred to the forwarder.\\n  /// @param tokens_ tokens received from {_depositorPoolAssets}\\n  /// @param rewardTokens_ Full list of reward tokens received from tetuConverter and depositor\\n  /// @param rewardAmounts_ Amounts of {rewardTokens_}; we assume, there are no zero amounts here\\n  /// @param liquidationThresholds_ Liquidation thresholds for rewards tokens\\n  /// @param baseAmounts_ Base amounts for rewards tokens\\n  ///                     The base amounts allow to separate just received and previously received rewards.\\n  /// @return receivedAmounts Received amounts of the tokens\\n  ///         This array has +1 item at the end: received amount of the main asset\\n  ///                                            there was no possibility to use separate var for it, stack too deep\\n  /// @return spentAmounts Spent amounts of the tokens\\n  /// @return amountsToForward Amounts to be sent to forwarder\\n  function recycle(\\n    address asset_,\\n    uint compoundRatio_,\\n    address[] memory tokens_,\\n    ITetuLiquidator liquidator_,\\n    mapping(address => uint) storage liquidationThresholds_,\\n    mapping(address => uint) storage baseAmounts_,\\n    address[] memory rewardTokens_,\\n    uint[] memory rewardAmounts_\\n  ) external returns (\\n    uint[] memory receivedAmounts,\\n    uint[] memory spentAmounts,\\n    uint[] memory amountsToForward\\n  ) {\\n    (receivedAmounts, spentAmounts, amountsToForward) = _recycle(\\n      asset_,\\n      compoundRatio_,\\n      tokens_,\\n      liquidator_,\\n      rewardTokens_,\\n      rewardAmounts_,\\n      liquidationThresholds_,\\n      baseAmounts_\\n    );\\n  }\\n\\n  /// @dev Implementation of {recycle}\\n  function _recycle(\\n    address asset,\\n    uint compoundRatio,\\n    address[] memory tokens,\\n    ITetuLiquidator liquidator,\\n    address[] memory rewardTokens,\\n    uint[] memory rewardAmounts,\\n    mapping(address => uint) storage liquidationThresholds,\\n    mapping(address => uint) storage baseAmounts\\n  ) internal returns (\\n    uint[] memory receivedAmounts,\\n    uint[] memory spentAmounts,\\n    uint[] memory amountsToForward\\n  ) {\\n    RecycleLocalParams memory p;\\n\\n    p.len = rewardTokens.length;\\n    require(p.len == rewardAmounts.length, AppErrors.WRONG_LENGTHS);\\n\\n    p.liquidationThresholdAsset = liquidationThresholds[asset];\\n\\n    amountsToForward = new uint[](p.len);\\n    receivedAmounts = new uint[](p.len + 1);\\n    spentAmounts = new uint[](p.len);\\n\\n    // split each amount on two parts: a part-to-compound and a part-to-transfer-to-the-forwarder\\n    for (uint i; i < p.len; i = AppLib.uncheckedInc(i)) {\\n      p.rewardToken = rewardTokens[i];\\n      p.amountToCompound = rewardAmounts[i] * compoundRatio / COMPOUND_DENOMINATOR;\\n\\n      if (p.amountToCompound > 0) {\\n        if (ConverterStrategyBaseLib.getAssetIndex(tokens, p.rewardToken) != type(uint).max) {\\n          // The asset is in the list of depositor's assets, liquidation is not allowed\\n          receivedAmounts[i] += p.amountToCompound;\\n        } else {\\n          p.baseAmountIn = baseAmounts[p.rewardToken];\\n          // total amount that can be liquidated\\n          p.totalRewardAmounts = p.amountToCompound + p.baseAmountIn;\\n\\n          if (p.totalRewardAmounts < liquidationThresholds[p.rewardToken]) {\\n            // amount is too small, liquidation is not allowed\\n            receivedAmounts[i] += p.amountToCompound;\\n          } else {\\n            // The asset is not in the list of depositor's assets, its amount is big enough and should be liquidated\\n            // We assume here, that {token} cannot be equal to {_asset}\\n            // because the {_asset} is always included to the list of depositor's assets\\n            (p.spentAmountIn, p.receivedAmountOut) = _liquidate(\\n              liquidator,\\n              p.rewardToken,\\n              asset,\\n              p.totalRewardAmounts,\\n              _REWARD_LIQUIDATION_SLIPPAGE,\\n              p.liquidationThresholdAsset\\n            );\\n\\n            // Adjust amounts after liquidation\\n            if (p.receivedAmountOut > 0) {\\n              receivedAmounts[p.len] += p.receivedAmountOut;\\n            }\\n            if (p.spentAmountIn == 0) {\\n              receivedAmounts[i] += p.amountToCompound;\\n            } else {\\n              require(p.spentAmountIn == p.amountToCompound + p.baseAmountIn, StrategyLib.WRONG_VALUE);\\n              spentAmounts[i] += p.baseAmountIn;\\n            }\\n          }\\n        }\\n      }\\n\\n      p.amountToForward = rewardAmounts[i] - p.amountToCompound;\\n      amountsToForward[i] = p.amountToForward;\\n    }\\n\\n    return (receivedAmounts, spentAmounts, amountsToForward);\\n  }\\n\\n  /// @notice Send {performanceFee_} of {rewardAmounts_} to {performanceReceiver}\\n  /// @param performanceFee_ Max is FEE_DENOMINATOR\\n  /// @return rewardAmounts = rewardAmounts_ - performanceAmounts\\n  /// @return performanceAmounts Theses amounts were sent to {performanceReceiver_}\\n  function sendPerformanceFee(\\n    uint performanceFee_,\\n    address performanceReceiver_,\\n    address[] memory rewardTokens_,\\n    uint[] memory rewardAmounts_\\n  ) external returns (\\n    uint[] memory rewardAmounts,\\n    uint[] memory performanceAmounts\\n  ) {\\n    // we assume that performanceFee_ <= FEE_DENOMINATOR and we don't need to check it here\\n    uint len = rewardAmounts_.length;\\n    rewardAmounts = new uint[](len);\\n    performanceAmounts = new uint[](len);\\n\\n    for (uint i = 0; i < len; i = AppLib.uncheckedInc(i)) {\\n      performanceAmounts[i] = rewardAmounts_[i] * performanceFee_ / DENOMINATOR;\\n      rewardAmounts[i] = rewardAmounts_[i] - performanceAmounts[i];\\n      IERC20(rewardTokens_[i]).safeTransfer(performanceReceiver_, performanceAmounts[i]);\\n    }\\n  }\\n\\n  /////////////////////////////////////////////////////////////////////\\n  ///                      calcInvestedAssets\\n  /////////////////////////////////////////////////////////////////////\\n  /// @notice Calculate amount we will receive when we withdraw all from pool\\n  /// @dev This is writable function because we need to update current balances in the internal protocols.\\n  /// @return amountOut Invested asset amount under control (in terms of {asset})\\n  function calcInvestedAssets(\\n    address[] memory tokens,\\n    uint[] memory amountsOut,\\n    uint indexAsset,\\n    ITetuConverter converter_,\\n    mapping(address => uint) storage baseAmounts\\n  ) external returns (\\n    uint amountOut\\n  ) {\\n    CalcInvestedAssetsLocal memory v;\\n    v.len = tokens.length;\\n\\n    // calculate prices, decimals\\n    (v.prices, v.decs) = _getPricesAndDecs(\\n      IPriceOracle(IConverterController(converter_.controller()).priceOracle()),\\n      tokens,\\n      v.len\\n    );\\n\\n    // A debt is registered below if we have X amount of asset, need to pay Y amount of the asset and X < Y\\n    // In this case: debt = Y - X, the order of tokens is the same as in {tokens} array\\n    for (uint i; i < v.len; i = AppLib.uncheckedInc(i)) {\\n      if (i == indexAsset) {\\n        // Current strategy balance of main asset is not taken into account here because it's add by splitter\\n        amountOut += amountsOut[i];\\n      } else {\\n        // available amount to repay\\n        uint toRepay = baseAmounts[tokens[i]] + amountsOut[i];\\n\\n        (uint toPay, uint collateral) = converter_.getDebtAmountCurrent(address(this), tokens[indexAsset], tokens[i]);\\n        amountOut += collateral;\\n        if (toRepay >= toPay) {\\n          amountOut += (toRepay - toPay) * v.prices[i] * v.decs[indexAsset] / v.prices[indexAsset] / v.decs[i];\\n        } else {\\n          // there is not enough amount to pay the debt\\n          // let's register a debt and try to resolve it later below\\n          if (v.debts.length == 0) {\\n            // lazy initialization\\n            v.debts = new uint[](v.len);\\n          }\\n          // to pay the following amount we need to swap some other asset at first\\n          v.debts[i] = toPay - toRepay;\\n        }\\n      }\\n    }\\n\\n    if (v.debts.length == v.len) {\\n      // we assume here, that it would be always profitable to save collateral\\n      // f.e. if there is not enough amount of USDT on our balance and we have a debt in USDT,\\n      // it's profitable to change any available asset to USDT, pay the debt and return the collateral back\\n      for (uint i; i < v.len; i = AppLib.uncheckedInc(i)) {\\n        if (v.debts[i] == 0) continue;\\n\\n        // estimatedAssets should be reduced on the debt-value\\n        uint debtInAsset = v.debts[i] * v.prices[i] * v.decs[indexAsset] / v.prices[indexAsset] / v.decs[i];\\n        if (debtInAsset > amountOut) {\\n          // The debt is greater than we can pay. We shouldn't try to pay the debt in this case\\n          amountOut = 0;\\n        } else {\\n          amountOut -= debtInAsset;\\n        }\\n      }\\n    }\\n\\n    return amountOut;\\n  }\\n\\n  /////////////////////////////////////////////////////////////////////\\n  ///                      sendTokensToForwarder\\n  /////////////////////////////////////////////////////////////////////\\n  function sendTokensToForwarder(\\n    address controller_,\\n    address splitter_,\\n    address[] memory tokens_,\\n    uint[] memory amounts_\\n  ) external {\\n    uint len = tokens_.length;\\n    IForwarder forwarder = IForwarder(IController(controller_).forwarder());\\n    for (uint i; i < len; i = AppLib.uncheckedInc(i)) {\\n      AppLib.approveIfNeeded(tokens_[i], amounts_[i], address(forwarder));\\n    }\\n\\n    forwarder.registerIncome(tokens_, amounts_, ISplitter(splitter_).vault(), true);\\n  }\\n\\n  /////////////////////////////////////////////////////////////////////\\n  ///                      getExpectedAmountMainAsset\\n  /////////////////////////////////////////////////////////////////////\\n\\n  /// @notice Calculate expected amount of the main asset after withdrawing\\n  /// @param withdrawnAmounts_ Expected amounts to be withdrawn from the pool\\n  /// @param amountsToConvert_ Amounts on balance initially available for the conversion\\n  /// @return amountOut Expected amount of the main asset\\n  function getExpectedAmountMainAsset(\\n    address[] memory tokens,\\n    uint indexAsset,\\n    ITetuConverter converter,\\n    uint[] memory withdrawnAmounts_,\\n    uint[] memory amountsToConvert_\\n  ) internal returns (\\n    uint amountOut\\n  ) {\\n    uint len = tokens.length;\\n    for (uint i; i < len; i = AppLib.uncheckedInc(i)) {\\n      if (i == indexAsset) {\\n        amountOut += withdrawnAmounts_[i];\\n      } else {\\n        uint amount = withdrawnAmounts_[i] + amountsToConvert_[i];\\n        if (amount != 0) {\\n          amountOut += converter.quoteRepay(address(this), tokens[indexAsset], tokens[i], amount);\\n        }\\n      }\\n    }\\n\\n    return amountOut;\\n  }\\n\\n  /////////////////////////////////////////////////////////////////////\\n  ///              Reduce size of ConverterStrategyBase\\n  /////////////////////////////////////////////////////////////////////\\n  /// @notice Make borrow and save amounts of tokens available for deposit to tokenAmounts\\n  /// @param thresholdMainAsset_ Min allowed value of collateral in terms of main asset, 0 - use default min value\\n  /// @return tokenAmountsOut Amounts available for deposit\\n  /// @return borrowedAmounts Amounts borrowed for {spendCollateral}\\n  /// @return spentCollateral Total collateral amount spent for borrowing\\n  function getTokenAmounts(\\n    ITetuConverter tetuConverter_,\\n    address[] memory tokens_,\\n    uint indexAsset_,\\n    uint[] memory collaterals_,\\n    uint thresholdMainAsset_\\n  ) external returns (\\n    uint[] memory tokenAmountsOut,\\n    uint[] memory borrowedAmounts,\\n    uint spentCollateral\\n  ) {\\n    // content of tokenAmounts will be modified in place\\n    uint len = tokens_.length;\\n    borrowedAmounts = new uint[](len);\\n    tokenAmountsOut = new uint[](len);\\n    for (uint i; i < len; i = AppLib.uncheckedInc(i)) {\\n      if (i == indexAsset_) {\\n        tokenAmountsOut[i] = collaterals_[i];\\n      } else {\\n        if (collaterals_[i] > 0) {\\n          uint collateral;\\n          AppLib.approveIfNeeded(tokens_[indexAsset_], collaterals_[i], address(tetuConverter_));\\n          (collateral, borrowedAmounts[i]) = _openPosition(\\n            tetuConverter_,\\n            \\\"\\\", // entry kind = 0: fixed collateral amount, max possible borrow amount\\n            tokens_[indexAsset_],\\n            tokens_[i],\\n            collaterals_[i],\\n            thresholdMainAsset_\\n          );\\n          // collateral should be equal to tokenAmounts[i] here because we use default entry kind\\n          spentCollateral += collateral;\\n\\n          // zero amount are possible (conversion is not available) but it's not suitable for depositor\\n          require(borrowedAmounts[i] != 0, AppErrors.ZERO_AMOUNT_BORROWED);\\n        }\\n        tokenAmountsOut[i] = IERC20(tokens_[i]).balanceOf(address(this));\\n      }\\n    }\\n\\n    return (tokenAmountsOut, borrowedAmounts, spentCollateral);\\n  }\\n\\n  /// @notice Claim rewards from tetuConverter, generate result list of all available rewards\\n  /// @dev The post-processing is rewards conversion to the main asset\\n  /// @param tokens_ List of rewards claimed from the internal pool\\n  /// @param amounts_ Amounts of rewards claimed from the internal pool\\n  /// @param tokensOut List of available rewards - not zero amounts, reward tokens don't repeat\\n  /// @param amountsOut Amounts of available rewards\\n  function prepareRewardsList(\\n    ITetuConverter tetuConverter_,\\n    address[] memory tokens_,\\n    uint[] memory amounts_,\\n    mapping(address => uint) storage baseAmounts_\\n  ) external returns (\\n    address[] memory tokensOut,\\n    uint[] memory amountsOut\\n  ) {\\n    // Rewards from TetuConverter\\n    (address[] memory tokens2, uint[] memory amounts2) = tetuConverter_.claimRewards(address(this));\\n\\n    // Join arrays and recycle tokens\\n    (tokensOut, amountsOut) = TokenAmountsLib.unite(tokens_, amounts_, tokens2, amounts2);\\n\\n    // {amounts} contain just received values, but probably we already had some tokens on balance\\n    uint len = tokensOut.length;\\n    for (uint i; i < len; i = AppLib.uncheckedInc(i)) {\\n      amountsOut[i] = IERC20(tokensOut[i]).balanceOf(address(this)) - baseAmounts_[tokensOut[i]];\\n    }\\n  }\\n\\n  /////////////////////////////////////////////////////////////////////\\n  ///                       WITHDRAW HELPERS\\n  /////////////////////////////////////////////////////////////////////\\n\\n  function postWithdrawActions(\\n    uint[] memory reserves,\\n    uint depositorLiquidity,\\n    uint liquidityAmount,\\n    uint totalSupply,\\n    uint[] memory amountsToConvert,\\n\\n    address[] memory tokens,\\n    uint indexAsset,\\n    ITetuConverter converter,\\n\\n    uint _depositorLiquidityNew,\\n    uint[] memory withdrawnAmounts\\n  ) external returns (uint _expectedAmountMainAsset, uint[] memory _amountsToConvert){\\n\\n    // estimate, how many assets should be withdrawn\\n    // the depositor is able to use less liquidity than it was asked\\n    // (i.e. Balancer-depositor leaves some BPT unused)\\n    // so, we need to fix liquidityAmount on this amount\\n\\n    // we assume here, that liquidity cannot increase in _depositorExit\\n    uint depositorLiquidityDelta = depositorLiquidity - _depositorLiquidityNew;\\n    if (liquidityAmount > depositorLiquidityDelta) {\\n      liquidityAmount = depositorLiquidityDelta;\\n    }\\n\\n    // now we can estimate expected amount of assets to be withdrawn\\n    uint[] memory expectedWithdrawAmounts = getExpectedWithdrawnAmounts(\\n      reserves,\\n      liquidityAmount,\\n      totalSupply\\n    );\\n\\n    uint expectedAmountMainAsset = getExpectedAmountMainAsset(\\n      tokens,\\n      indexAsset,\\n      converter,\\n      expectedWithdrawAmounts,\\n      amountsToConvert\\n    );\\n    for (uint i; i < tokens.length; i = AppLib.uncheckedInc(i)) {\\n      amountsToConvert[i] += withdrawnAmounts[i];\\n    }\\n\\n    return (expectedAmountMainAsset, amountsToConvert);\\n  }\\n\\n  function postWithdrawActionsEmpty(\\n    address[] memory tokens,\\n    uint indexAsset,\\n    ITetuConverter converter,\\n    uint[] memory withdrawnAmounts_,\\n    uint[] memory amountsToConvert_\\n  ) external returns (uint[] memory withdrawnAmounts, uint expectedAmountMainAsset){\\n    withdrawnAmounts = withdrawnAmounts_;\\n    expectedAmountMainAsset = getExpectedAmountMainAsset(\\n      tokens,\\n      indexAsset,\\n      converter,\\n      withdrawnAmounts_,\\n      amountsToConvert_\\n    );\\n  }\\n\\n  /////////////////////////////////////////////////////////////////////\\n  ///                      convertAfterWithdraw\\n  /////////////////////////////////////////////////////////////////////\\n  /// @notice Convert {p.amountsToConvert_} to the main asset\\n  /// @return collateralOut Total amount of collateral returned after closing positions\\n  /// @return repaidAmountsOut What amounts were spent in exchange of the {collateralOut}\\n  function convertAfterWithdraw(\\n    ITetuConverter tetuConverter,\\n    ITetuLiquidator liquidator,\\n    uint liquidationThreshold,\\n    address[] memory tokens,\\n    uint indexAsset,\\n    uint[] memory amountsToConvert\\n  ) external returns (\\n    uint collateralOut,\\n    uint[] memory repaidAmountsOut\\n  ) {\\n    ConvertAfterWithdrawLocalParams memory vars;\\n    vars.asset = tokens[indexAsset];\\n\\n    uint len = tokens.length;\\n    repaidAmountsOut = new uint[](len);\\n    for (uint i; i < len; i = AppLib.uncheckedInc(i)) {\\n      if (i == indexAsset) continue;\\n      (vars.collateral, repaidAmountsOut[i]) = _closePosition(\\n        tetuConverter,\\n        vars.asset,\\n        tokens[i],\\n        amountsToConvert[i]\\n      );\\n      collateralOut += vars.collateral;\\n    }\\n\\n    // Manually swap remain leftovers\\n    for (uint i; i < len; i = AppLib.uncheckedInc(i)) {\\n      if (i == indexAsset) continue;\\n      if (amountsToConvert[i] > repaidAmountsOut[i]) {\\n        (vars.spentAmountIn, vars.receivedAmountOut) = _liquidate(\\n          liquidator,\\n          tokens[i],\\n          vars.asset,\\n          amountsToConvert[i] - repaidAmountsOut[i],\\n          _ASSET_LIQUIDATION_SLIPPAGE,\\n          liquidationThreshold\\n        );\\n        if (vars.receivedAmountOut != 0) {\\n          collateralOut += vars.receivedAmountOut;\\n        }\\n        if (vars.spentAmountIn != 0) {\\n          repaidAmountsOut[i] += vars.spentAmountIn;\\n          require(\\n            tetuConverter.isConversionValid(\\n              tokens[i],\\n              vars.spentAmountIn,\\n              vars.asset,\\n              vars.receivedAmountOut,\\n              PRICE_IMPACT_TOLERANCE\\n            ),\\n            AppErrors.PRICE_IMPACT\\n          );\\n        }\\n      }\\n    }\\n\\n    return (collateralOut, repaidAmountsOut);\\n  }\\n\\n  /////////////////////////////////////////////////////////////////////\\n  ///                       OTHER HELPERS\\n  /////////////////////////////////////////////////////////////////////\\n\\n  function getAssetPriceFromConverter(ITetuConverter converter, address token) external view returns (uint) {\\n    return IPriceOracle(IConverterController(converter.controller()).priceOracle()).getAssetPrice(token);\\n  }\\n\\n  function registerIncome(\\n    uint assetBefore,\\n    uint assetAfter,\\n    uint earned,\\n    uint lost\\n  ) internal pure returns (uint _earned, uint _lost) {\\n    if (assetAfter > assetBefore) {\\n      earned += assetAfter - assetBefore;\\n    } else {\\n      lost += assetBefore - assetAfter;\\n    }\\n    return (earned, lost);\\n  }\\n\\n}\\n\\n\",\"keccak256\":\"0x19110889d6409d8f4db4a8a6c48e9c1d2e8d0d42b993ff0a742132d1700c4e03\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x615e706200003b600b82828239805160001a60731461002e57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106101155760003560e01c80637a55caf3116100ac578063acf741a31161007b578063acf741a3146102f4578063bc846df214610316578063ca27d10d14610344578063d361fe1214610364578063e89a4b181461038457600080fd5b80637a55caf31461027957806385f3ecac1461028c578063954d7e73146102ac57806397783a6c146102e157600080fd5b806359d0ede6116100e857806359d0ede6146101dd5780636e32b87b146101fd5780637047292d1461022b578063749e2cd11461024b57600080fd5b80630f5103ff1461011a5780631a2221c714610152578063205810a61461018157806323744915146101af575b600080fd5b81801561012657600080fd5b5061013a610135366004614b2e565b6103a4565b60405161014993929190614c2f565b60405180910390f35b81801561015e57600080fd5b5061017261016d366004614c72565b6103cd565b60405161014993929190614cf9565b81801561018d57600080fd5b506101a161019c366004614d2f565b6106da565b604051610149929190614dac565b8180156101bb57600080fd5b506101cf6101ca366004614e02565b610875565b604051610149929190614ef1565b6101f06101eb366004614f0a565b61091e565b6040516101499190614f9d565b81801561020957600080fd5b5061021d610218366004614fb0565b610b62565b604051908152602001610149565b81801561023757600080fd5b506101cf610246366004615037565b611078565b81801561025757600080fd5b5061026b6102663660046150d1565b6113ed565b604051610149929190615198565b61021d6102873660046151bd565b6116ad565b81801561029857600080fd5b5061026b6102a73660046151f6565b6117e7565b8180156102b857600080fd5b506102cc6102c7366004615275565b611991565b60408051928352602083019190915201610149565b6101f06102ef3660046152c6565b6119ae565b81801561030057600080fd5b5061031461030f36600461530a565b611ac1565b005b81801561032257600080fd5b5061033661033136600461533b565b611c4c565b6040516101499291906153e1565b81801561035057600080fd5b506102cc61035f36600461542a565b611c68565b81801561037057600080fd5b506101cf61037f3660046154ea565b611c88565b81801561039057600080fd5b506102cc61039f36600461557c565b611f5e565b60608060606103b98b8b8b8b89898d8d611f6f565b919d909c50909a5098505050505050505050565b60608060008087519050806001600160401b038111156103ef576103ef6149ce565b604051908082528060200260200182016040528015610418578160200160208202803683370190505b509250806001600160401b03811115610433576104336149ce565b60405190808252806020026020018201604052801561045c578160200160208202803683370190505b50935060005b818110156106cd578781036104ae57868181518110610483576104836155e1565b602002602001015185828151811061049d5761049d6155e1565b6020026020010181815250506106c5565b60008782815181106104c2576104c26155e1565b6020026020010151111561062057600061050f8a8a815181106104e7576104e76155e1565b6020026020010151898481518110610501576105016155e1565b60200260200101518d6123d7565b6105778b604051806020016040528060008152508c8c81518110610535576105356155e1565b60200260200101518d868151811061054f5761054f6155e1565b60200260200101518c8781518110610569576105696155e1565b60200260200101518c612482565b868481518110610589576105896155e1565b602090810291909101015290506105a0818561560d565b93508482815181106105b4576105b46155e1565b6020026020010151600014156040518060400160405280601a81526020017f54532d3130207a65726f20626f72726f77656420616d6f756e740000000000008152509061061d5760405162461bcd60e51b81526004016106149190615670565b60405180910390fd5b50505b888181518110610632576106326155e1565b60200260200101516001600160a01b03166370a08231306040518263ffffffff1660e01b81526004016106659190615683565b602060405180830381865afa158015610682573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106a69190615697565b8582815181106106b8576106b86155e1565b6020026020010181815250505b600101610462565b5050955095509592505050565b606080600080876001600160a01b031663ef5cfb8c306040518263ffffffff1660e01b815260040161070c9190615683565b6000604051808303816000875af115801561072b573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610753919081019061576f565b9150915061076387878484612941565b8151919550935060005b818110156108685786600087838151811061078a5761078a6155e1565b60200260200101516001600160a01b03166001600160a01b03168152602001908152602001600020548682815181106107c5576107c56155e1565b60200260200101516001600160a01b03166370a08231306040518263ffffffff1660e01b81526004016107f89190615683565b602060405180830381865afa158015610815573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108399190615697565b61084391906157d2565b858281518110610855576108556155e1565b602090810291909101015260010161076d565b5050505094509492505050565b6000606081610884858d6157d2565b9050808b111561089257809a505b600061089f8e8d8d612e1a565b905060006108b08a8a8a858f612f29565b905060005b8a51811015610909578681815181106108d0576108d06155e1565b60200260200101518c82815181106108ea576108ea6155e1565b602002602001018181516108fe919061560d565b9052506001016108b5565b509e999d50989b505050505050505050505050565b8451606090806001600160401b0381111561093b5761093b6149ce565b604051908082528060200260200182016040528015610964578160200160208202803683370190505b509150600080610975858a85613093565b9150915060005b83811015610b54576000888a8381518110610999576109996155e1565b60200260200101518d6109ac91906157e5565b6109b691906157fc565b90508782036109e357808683815181106109d2576109d26155e1565b602002602001018181525050610b4b565b60008389815181106109f7576109f76155e1565b6020026020010151858481518110610a1157610a116155e1565b6020026020010151858581518110610a2b57610a2b6155e1565b6020026020010151878c81518110610a4557610a456155e1565b602002602001015185610a5891906157e5565b610a6291906157e5565b610a6c91906157fc565b610a7691906157fc565b905060008c8481518110610a8c57610a8c6155e1565b60200260200101516001600160a01b03166370a08231306040518263ffffffff1660e01b8152600401610abf9190615683565b602060405180830381865afa158015610adc573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b009190615697565b905081811015610b485781610b1582826157d2565b610b1f90856157e5565b610b2991906157fc565b888581518110610b3b57610b3b6155e1565b6020026020010181815250505b50505b5060010161097c565b505050509695505050505050565b6000610b8f6040518060800160405280600081526020016060815260200160608152602001606081525090565b8651816000018181525050610c69846001600160a01b031663f77c47916040518163ffffffff1660e01b8152600401602060405180830381865afa158015610bdb573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610bff919061581e565b6001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610c3c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c60919061581e565b82518990613093565b6040830152602082015260005b8151811015610f4157858103610cb257868181518110610c9857610c986155e1565b602002602001015183610cab919061560d565b9250610f39565b6000878281518110610cc657610cc66155e1565b60200260200101518560008b8581518110610ce357610ce36155e1565b60200260200101516001600160a01b03166001600160a01b0316815260200190815260200160002054610d16919061560d565b9050600080876001600160a01b03166348498f2e308d8c81518110610d3d57610d3d6155e1565b60200260200101518e8881518110610d5757610d576155e1565b60200260200101516040518463ffffffff1660e01b8152600401610d9b939291906001600160a01b0393841681529183166020830152909116604082015260600190565b60408051808303816000875af1158015610db9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ddd9190615842565b9092509050610dec818761560d565b9550818310610eb25784604001518481518110610e0b57610e0b6155e1565b602002602001015185602001518a81518110610e2957610e296155e1565b602002602001015186604001518b81518110610e4757610e476155e1565b602002602001015187602001518781518110610e6557610e656155e1565b60200260200101518587610e7991906157d2565b610e8391906157e5565b610e8d91906157e5565b610e9791906157fc565b610ea191906157fc565b610eab908761560d565b9550610f35565b846060015151600003610f085784516001600160401b03811115610ed857610ed86149ce565b604051908082528060200260200182016040528015610f01578160200160208202803683370190505b5060608601525b610f1283836157d2565b85606001518581518110610f2857610f286155e1565b6020026020010181815250505b5050505b600101610c76565b5080516060820151510361106d5760005b815181101561106b5781606001518181518110610f7157610f716155e1565b60200260200101516000031561106357600082604001518281518110610f9957610f996155e1565b602002602001015183602001518881518110610fb757610fb76155e1565b602002602001015184604001518981518110610fd557610fd56155e1565b602002602001015185602001518581518110610ff357610ff36155e1565b602002602001015186606001518681518110611011576110116155e1565b602002602001015161102391906157e5565b61102d91906157e5565b61103791906157fc565b61104191906157fc565b9050838111156110545760009350611061565b61105e81856157d2565b93505b505b600101610f52565b505b505b95945050505050565b600060606110b0604051806080016040528060006001600160a01b031681526020016000815260200160008152602001600081525090565b8585815181106110c2576110c26155e1565b60209081029190910101516001600160a01b031681528551806001600160401b038111156110f2576110f26149ce565b60405190808252806020026020018201604052801561111b578160200160208202803683370190505b50925060005b818110156111b4578087146111ac576111728b84600001518a848151811061114b5761114b6155e1565b6020026020010151898581518110611165576111656155e1565b6020026020010151613281565b84602001868481518110611188576111886155e1565b60200260200101828152508281525050508260200151856111a9919061560d565b94505b600101611121565b5060005b818110156113de578087146113d6578381815181106111d9576111d96155e1565b60200260200101518682815181106111f3576111f36155e1565b602002602001015111156113d65761126b8a898381518110611217576112176155e1565b60200260200101518560000151878581518110611236576112366155e1565b60200260200101518a8681518110611250576112506155e1565b602002602001015161126291906157d2565b61012c8e613569565b6060850181905260408501919091521561129157606083015161128e908661560d565b94505b6040830151156113d65782604001518482815181106112b2576112b26155e1565b602002602001018181516112c6919061560d565b915081815250508a6001600160a01b031663291f89c48983815181106112ee576112ee6155e1565b60209081029190910101516040808701518751606089015192516001600160e01b031960e087901b1681526001600160a01b0394851660048201526024810192909252929092166044830152606482015261012c608482015260a401602060405180830381865afa158015611367573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061138b9190615866565b604051806040016040528060128152602001711514cb4c4d881c1c9a58d9481a5b5c1858dd60721b815250906113d45760405162461bcd60e51b81526004016106149190615670565b505b6001016111b8565b5050505b965096945050505050565b60608061141b6040518060800160405280600081526020016060815260200160608152602001600081525090565b8b518082526001600160401b03811115611437576114376149ce565b604051908082528060200260200182016040528015611460578160200160208202803683370190505b5081519093506001600160401b0381111561147d5761147d6149ce565b6040519080825280602002602001820160405280156114a6578160200160208202803683370190505b5081519092506001600160401b038111156114c3576114c36149ce565b6040519080825280602002602001820160405280156114ec578160200160208202803683370190505b5060208201525b80516060820151101561159f578360008d836060015181518110611519576115196155e1565b60200260200101516001600160a01b03166001600160a01b031681526020019081526020016000205489826060015181518110611558576115586155e1565b602002602001015161156a919061560d565b8160200151826060015181518110611584576115846155e1565b602090810291909101015260608101805160010190526114f3565b6116066040518061012001604052808f81526020018e81526020018d81526020018c6001600160a01b03168152602001836020015181526020018a6001600160a01b03168152602001896001600160a01b0316815260200188815260200187815250613894565b60408301526000606083015292505b80516060820151101561169d57806040015181606001518151811061163c5761163c6155e1565b60200260200101518982606001518151811061165a5761165a6155e1565b602002602001015161166c919061560d565b82826060015181518110611682576116826155e1565b60209081029190910101526060810180516001019052611615565b509a509a98505050505050505050565b6000826001600160a01b031663f77c47916040518163ffffffff1660e01b8152600401602060405180830381865afa1580156116ed573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611711919061581e565b6001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561174e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611772919061581e565b6001600160a01b031663b3596f07836040518263ffffffff1660e01b815260040161179d9190615683565b602060405180830381865afa1580156117ba573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906117de9190615697565b90505b92915050565b80516060908190806001600160401b03811115611806576118066149ce565b60405190808252806020026020018201604052801561182f578160200160208202803683370190505b509250806001600160401b0381111561184a5761184a6149ce565b604051908082528060200260200182016040528015611873578160200160208202803683370190505b50915060005b8181101561198657620186a088868381518110611898576118986155e1565b60200260200101516118aa91906157e5565b6118b491906157fc565b8382815181106118c6576118c66155e1565b6020026020010181815250508281815181106118e4576118e46155e1565b60200260200101518582815181106118fe576118fe6155e1565b602002602001015161191091906157d2565b848281518110611922576119226155e1565b60200260200101818152505061197e87848381518110611944576119446155e1565b602002602001015188848151811061195e5761195e6155e1565b60200260200101516001600160a01b0316613c1f9092919063ffffffff16565b600101611879565b505094509492505050565b6000806119a086868686613281565b915091505b94509492505050565b81516060906000816001600160401b038111156119cd576119cd6149ce565b6040519080825280602002602001820160405280156119f6578160200160208202803683370190505b50905060005b82811015611ab857808514611ab057858181518110611a1d57611a1d6155e1565b60200260200101516001600160a01b03166370a08231306040518263ffffffff1660e01b8152600401611a509190615683565b602060405180830381865afa158015611a6d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a919190615697565b828281518110611aa357611aa36155e1565b6020026020010181815250505b6001016119fc565b50949350505050565b6000825190506000856001600160a01b031663f645d4f96040518163ffffffff1660e01b8152600401602060405180830381865afa158015611b07573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b2b919061581e565b905060005b82811015611b7d57611b75858281518110611b4d57611b4d6155e1565b6020026020010151858381518110611b6757611b676155e1565b6020026020010151846123d7565b600101611b30565b50806001600160a01b0316637e0ddbef8585886001600160a01b031663fbfa77cf6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611bcd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611bf1919061581e565b60016040518563ffffffff1660e01b8152600401611c129493929190615888565b600060405180830381600087803b158015611c2c57600080fd5b505af1158015611c40573d6000803e3d6000fd5b50505050505050505050565b816000611c5c8787878587612f29565b90509550959350505050565b600080611c79888888888888612482565b91509150965096945050505050565b84516000906060908a1590806001600160401b03811115611cab57611cab6149ce565b604051908082528060200260200182016040528015611cd4578160200160208202803683370190505b50925060005b81811015611e7a57808914611e725760008c60008c8481518110611d0057611d006155e1565b60200260200101516001600160a01b03166001600160a01b0316815260200190815260200160002054905080600014611e70576000896001600160a01b031663667df2498e8e8e81518110611d5757611d576155e1565b60200260200101518f8781518110611d7157611d716155e1565b60209081029190910101516040516001600160e01b031960e086901b1681526001600160a01b0393841660048201529183166024830152919091166044820152606481018590526084016020604051808303816000875af1158015611dda573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611dfe9190615697565b90508480611e0b57508e15155b15611e305781868481518110611e2357611e236155e1565b6020026020010181815250505b808f1115611e4b57808f611e4491906157d2565b9e50611e50565b60009e505b80891115611e6957611e62818a6157d2565b9850611e6e565b600098505b505b505b600101611cda565b508180611e875750600086115b6040518060400160405280601e81526020017f54532d31312074727920746f20776974686472617720746f6f206d756368000081525090611edb5760405162461bcd60e51b81526004016106149190615670565b5081611f1d578b15611f1657606486611efd8e680579a814e10a7400006157e5565b611f0791906157fc565b611f1191906157fc565b611f27565b6000611f27565b670de0b6b3a76400005b93508315611f4f57670de0b6b3a7640000611f4286866157e5565b611f4c91906157fc565b93505b50509850989650505050505050565b600080611c79888888888888613569565b6060806060611fcc604051806101200160405280600081526020016000815260200160006001600160a01b031681526020016000815260200160008152602001600081526020016000815260200160008152602001600081525090565b875160808201819052875160408051808201909152601281527154532d342077726f6e67206c656e6774687360701b6020820152911461201f5760405162461bcd60e51b81526004016106149190615670565b506001600160a01b038c16600090815260208790526040902054606082015260808101516001600160401b0381111561205a5761205a6149ce565b604051908082528060200260200182016040528015612083578160200160208202803683370190505b50915080608001516001612097919061560d565b6001600160401b038111156120ae576120ae6149ce565b6040519080825280602002602001820160405280156120d7578160200160208202803683370190505b50935080608001516001600160401b038111156120f6576120f66149ce565b60405190808252806020026020018201604052801561211f578160200160208202803683370190505b50925060005b81608001518110156123c757888181518110612143576121436155e1565b602002602001015182604001906001600160a01b031690816001600160a01b031681525050620186a08c89838151811061217f5761217f6155e1565b602002602001015161219191906157e5565b61219b91906157fc565b80835215612370576000196121b48c8460400151613c82565b146121ec5781600001518582815181106121d0576121d06155e1565b602002602001018181516121e4919061560d565b905250612370565b6040808301516001600160a01b031660009081526020889052205460a08301819052825161221a919061560d565b60c083019081526040808401516001600160a01b0316600090815260208a905220549051101561225b5781600001518582815181106121d0576121d06155e1565b6122778a83604001518f8560c001516113888760600151613569565b610100840181905260e0840191909152156122c057816101000151858360800151815181106122a8576122a86155e1565b602002602001018181516122bc919061560d565b9052505b8160e001516000036122e35781600001518582815181106121d0576121d06155e1565b60a082015182516122f4919061560d565b8260e00151146040518060400160405280600f81526020016e53423a2057726f6e672076616c756560881b815250906123405760405162461bcd60e51b81526004016106149190615670565b508160a00151848281518110612358576123586155e1565b6020026020010181815161236c919061560d565b9052505b8160000151888281518110612387576123876155e1565b602002602001015161239991906157d2565b6020830181905283518490839081106123b4576123b46155e1565b6020908102919091010152600101612125565b5050985098509895505050505050565b604051636eb1769f60e11b81523060048201526001600160a01b03828116602483015283919085169063dd62ed3e90604401602060405180830381865afa158015612426573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061244a9190615697565b101561247d576124656001600160a01b038416826000613ce0565b61247d6001600160a01b03841682600160ff1b613ce0565b505050565b6000808260000361249257600a92505b60408051808201909152601081526f54532d392077726f6e672076616c756560801b60208201528385116124d95760405162461bcd60e51b81526004016106149190615670565b506125136040518060c001604052806000815260200160608152602001606081526020016060815260200160008152602001600081525090565b61251c88613df5565b8082526000190161253f57612535898989898989613e1c565b92509250506113e2565b60405163430ffb1760e01b81526001600160a01b038a169063430ffb1790612576908b908b908a908c906213c68090600401615927565b600060405180830381865afa158015612593573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526125bb9190810190615968565b50606084015260408301526020820181905251801561293a5760005b818110156129385782516126e757826040015181815181106125fb576125fb6155e1565b6020026020010151871061262c578260400151818151811061261f5761261f6155e1565b602002602001015161262e565b865b6080840152604083015180518290811061264a5761264a6155e1565b6020026020010151871061267b578260600151818151811061266e5761266e6155e1565b60200260200101516126cc565b82604001518181518110612691576126916155e1565b602002602001015187846060015183815181106126b0576126b06155e1565b60200260200101516126c291906157e5565b6126cc91906157fc565b60a084015260808301516126e090886157d2565b96506127e5565b826060015181815181106126fd576126fd6155e1565b6020026020010151871061272e5782606001518181518110612721576127216155e1565b6020026020010151612730565b865b60a0840152606083015180518290811061274c5761274c6155e1565b6020026020010151871061277d5782604001518181518110612770576127706155e1565b60200260200101516127ce565b82606001518181518110612793576127936155e1565b602002602001015187846040015183815181106127b2576127b26155e1565b60200260200101516127c491906157e5565b6127ce91906157fc565b608084015260a08301516127e290886157d2565b96505b85871080156127f357508615155b156127fd57600096505b60a08301511561292a578a6001600160a01b0316630adb2d858460200151838151811061282c5761282c6155e1565b60200260200101518b86608001518c8860a00151306040518763ffffffff1660e01b815260040161286296959493929190615a67565b6020604051808303816000875af1158015612881573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906128a59190615697565b6128af908561560d565b93508260800151856128c1919061560d565b94507ff63c9c64ebdd1eb99706ca3f7489f7fbdd9c8756363cef40b2fc6e293fa150ec836020015182815181106128fa576128fa6155e1565b60200260200101518a85608001518b8760a001513060405161292196959493929190615a67565b60405180910390a15b8615612938576001016125d7565b505b50506113e2565b835182518451606092839290918214801561295c5750845181145b61299f5760405162461bcd60e51b81526020600482015260146024820152730a88298744082e4e4c2f2e640dad2e6dac2e8c6d60631b6044820152606401610614565b60006129ab828461560d565b90506000816001600160401b038111156129c7576129c76149ce565b6040519080825280602002602001820160405280156129f0578160200160208202803683370190505b5090506000826001600160401b03811115612a0d57612a0d6149ce565b604051908082528060200260200182016040528015612a36578160200160208202803683370190505b5090506000805b86811015612b8d5760008c8281518110612a5957612a596155e1565b6020026020010151905080600003612a715750612b7b565b60008e8381518110612a8557612a856155e1565b602002602001015190506000805b85811015612b1257878181518110612aad57612aad6155e1565b60200260200101516001600160a01b0316836001600160a01b031603612b005783878281518110612ae057612ae06155e1565b60200260200101818151612af4919061560d565b90525060019150612b12565b80612b0a81615a9f565b915050612a93565b5080612b775781878681518110612b2b57612b2b6155e1565b60200260200101906001600160a01b031690816001600160a01b03168152505082868681518110612b5e57612b5e6155e1565b602090810291909101015284612b7381615a9f565b9550505b5050505b80612b8581615a9f565b915050612a3d565b5060005b85811015612ce15760008a8281518110612bad57612bad6155e1565b6020026020010151905080600003612bc55750612ccf565b60008c8381518110612bd957612bd96155e1565b602002602001015190506000805b85811015612c6657878181518110612c0157612c016155e1565b60200260200101516001600160a01b0316836001600160a01b031603612c545783878281518110612c3457612c346155e1565b60200260200101818151612c48919061560d565b90525060019150612c66565b80612c5e81615a9f565b915050612be7565b5080612ccb5781878681518110612c7f57612c7f6155e1565b60200260200101906001600160a01b031690816001600160a01b03168152505082868681518110612cb257612cb26155e1565b602090810291909101015284612cc781615a9f565b9550505b5050505b80612cd981615a9f565b915050612b91565b50806001600160401b03811115612cfa57612cfa6149ce565b604051908082528060200260200182016040528015612d23578160200160208202803683370190505b509750806001600160401b03811115612d3e57612d3e6149ce565b604051908082528060200260200182016040528015612d67578160200160208202803683370190505b50965060005b81811015612e0a57838181518110612d8757612d876155e1565b6020026020010151898281518110612da157612da16155e1565b60200260200101906001600160a01b031690816001600160a01b031681525050828181518110612dd357612dd36155e1565b6020026020010151888281518110612ded57612ded6155e1565b602090810291909101015280612e0281615a9f565b915050612d6d565b5050505050505094509492505050565b606060008215612e5c5782841015612e4e5782612e3f85670de0b6b3a76400006157e5565b612e4991906157fc565b612e5f565b670de0b6b3a7640000612e5f565b60005b8551909150806001600160401b03811115612e7c57612e7c6149ce565b604051908082528060200260200182016040528015612ea5578160200160208202803683370190505b5092508115612f205760005b81811015612f1e57670de0b6b3a764000083888381518110612ed557612ed56155e1565b6020026020010151612ee791906157e5565b612ef191906157fc565b848281518110612f0357612f036155e1565b6020908102919091010152612f1781615a9f565b9050612eb1565b505b50509392505050565b8451600090815b8181101561106b57868103612f6b57848181518110612f5157612f516155e1565b602002602001015183612f64919061560d565b925061308b565b6000848281518110612f7f57612f7f6155e1565b6020026020010151868381518110612f9957612f996155e1565b6020026020010151612fab919061560d565b9050801561308957866001600160a01b031663667df249308b8b81518110612fd557612fd56155e1565b60200260200101518c8681518110612fef57612fef6155e1565b60209081029190910101516040516001600160e01b031960e086901b1681526001600160a01b0393841660048201529183166024830152919091166044820152606481018490526084016020604051808303816000875af1158015613058573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061307c9190615697565b613086908561560d565b93505b505b600101612f30565b606080826001600160401b038111156130ae576130ae6149ce565b6040519080825280602002602001820160405280156130d7578160200160208202803683370190505b509150826001600160401b038111156130f2576130f26149ce565b60405190808252806020026020018201604052801561311b578160200160208202803683370190505b50905060005b838110156132785784818151811061313b5761313b6155e1565b60200260200101516001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015613180573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906131a49190615ab8565b6131af90600a615bbf565b8282815181106131c1576131c16155e1565b602002602001018181525050856001600160a01b031663b3596f078683815181106131ee576131ee6155e1565b60200260200101516040518263ffffffff1660e01b81526004016132129190615683565b602060405180830381865afa15801561322f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906132539190615697565b838281518110613265576132656155e1565b6020908102919091010152600101613121565b50935093915050565b604051632424c79760e11b81523060048201526001600160a01b038481166024830152838116604483015260009182918291908816906348498f2e9060640160408051808303816000875af11580156132de573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906133029190615842565b50905060008185106133145781613316565b845b90506000866001600160a01b03166370a08231306040518263ffffffff1660e01b81526004016133469190615683565b602060405180830381865afa158015613363573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906133879190615697565b905061339d6001600160a01b0388168a84613c1f565b6040516314b685e960e21b81526001600160a01b038981166004830152888116602483015260448201849052306064830152600091908b16906352da17a4906084016080604051808303816000875af11580156133fe573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906134229190615bce565b5050604080516001600160a01b03808e1682528c1660208201529081018690523060608201526080810183905260a0810182905291975091507f1d1ba11e7ca20f5dc77d8cfd75b68d11520677808f89f6ba0f0e50dc52c450129060c00160405180910390a16040516370a0823160e01b81526000906001600160a01b038a16906370a08231906134b7903090600401615683565b602060405180830381865afa1580156134d4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906134f89190615697565b9050808311613508576000613512565b61351281846157d2565b60408051808201909152600f81526e53423a2057726f6e672076616c756560881b6020820152909650821561355a5760405162461bcd60e51b81526004016106149190615670565b50505050505094509492505050565b604051633744088160e11b81526001600160a01b038681166004830152858116602483015260009182918291908a1690636e88110290604401600060405180830381865afa1580156135bf573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526135e79190810190615c49565b50805160408051808201909152601a81527f54532d3135204e6f206c69717569646174696f6e20726f757465000000000000602082015291925061363e5760405162461bcd60e51b81526004016106149190615670565b50604051637cbf210b60e11b81526000906001600160a01b038b169063f97e4216906136709085908b90600401615db8565b602060405180830381865afa15801561368d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906136b19190615697565b905084811115613887576136c689888c6123d7565b6040516370a0823160e01b81526000906001600160a01b038a16906370a08231906136f5903090600401615683565b602060405180830381865afa158015613712573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906137369190615697565b6040516310fe133960e31b81529091506001600160a01b038c16906387f099c8906137699086908c908c90600401615dcb565b600060405180830381600087803b15801561378357600080fd5b505af1158015613797573d6000803e3d6000fd5b50506040516370a0823160e01b8152600092506001600160a01b038c1691506370a08231906137ca903090600401615683565b602060405180830381865afa1580156137e7573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061380b9190615697565b905081811161381b576000613825565b61382582826157d2565b604080516001600160a01b03808f1682528d1660208201529081018b9052606081018b9052608081018290528a97509095507f5a821a618ddb1a1fd304234a69c9d7f20c129d122fcf35593d13a071926643079060a00160405180910390a150505b5050965096945050505050565b6060806138c26040518060800160405280600081526020016060815260200160608152602001606081525090565b6020840151518082526001600160401b038111156138e2576138e26149ce565b60405190808252806020026020018201604052801561390b578160200160208202803683370190505b5081519092506001600160401b03811115613928576139286149ce565b604051908082528060200260200182016040528015613951578160200160208202803683370190505b509250613a2a8460a001516001600160a01b031663f77c47916040518163ffffffff1660e01b8152600401602060405180830381865afa158015613999573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906139bd919061581e565b6001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156139fa573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613a1e919061581e565b60208601518351613093565b604083015260208201526000805b8251811015613b515785602001518181518110613a5757613a576155e1565b60200260200101516001600160a01b031686606001516001600160a01b031603613a8357809150613b49565b60408601518114613b4957600080613aba86896040015181518110613aaa57613aaa6155e1565b60200260200101518987866142e7565b9150915081878481518110613ad157613ad16155e1565b60200260200101818151613ae5919061560d565b90525060408801518651829188918110613b0157613b016155e1565b60200260200101818151613b15919061560d565b9052508751604089015187518891908110613b3257613b326155e1565b602002602001015110613b46575050613b51565b50505b600101613a38565b50846000015183866040015181518110613b6d57613b6d6155e1565b6020026020010151108015613b86575080856040015114155b15613c1857600080613bb785886040015181518110613ba757613ba76155e1565b60200260200101518886866142e7565b9150915081868481518110613bce57613bce6155e1565b60200260200101818151613be2919061560d565b90525060408701518551829187918110613bfe57613bfe6155e1565b60200260200101818151613c12919061560d565b90525050505b5050915091565b6040516001600160a01b03831660248201526044810182905261247d90849063a9059cbb60e01b906064015b60408051601f198184030181529190526020810180516001600160e01b03166001600160e01b03199093169290921790915261447e565b8151600090815b81811015613cd457836001600160a01b0316858281518110613cad57613cad6155e1565b60200260200101516001600160a01b031603613ccc5791506117e19050565b600101613c89565b50600019949350505050565b801580613d5a5750604051636eb1769f60e11b81523060048201526001600160a01b03838116602483015284169063dd62ed3e90604401602060405180830381865afa158015613d34573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613d589190615697565b155b613dc55760405162461bcd60e51b815260206004820152603660248201527f5361666545524332303a20617070726f76652066726f6d206e6f6e2d7a65726f60448201527520746f206e6f6e2d7a65726f20616c6c6f77616e636560501b6064820152608401610614565b6040516001600160a01b03831660248201526044810182905261247d90849063095ea7b360e01b90606401613c4b565b60008151600003613e0857506000919050565b818060200190518101906117e19190615697565b600080613e6e6040518061012001604052806060815260200160608152602001606081526020016000815260200160008152602001600081526020016000815260200160008152602001600081525090565b60405163430ffb1760e01b81526001600160a01b038a169063430ffb1790613ea5908b908b908a908c906213c68090600401615927565b600060405180830381865afa158015613ec2573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052613eea9190810190615968565b506040840152602083015280825251600093508392508015613887576000808a806020019051810190613f1d9190615df0565b9250925050613f2d8c8b8b614550565b61010085015260005b838110156142d757670de0b6b3a764000085604001518281518110613f5d57613f5d6155e1565b6020026020010151866101000151613f7591906157e5565b613f7f91906157fc565b60c086018190528290613f9290856157e5565b613f9c91906157fc565b60a08601819052602086015180518b92919084908110613fbe57613fbe6155e1565b6020026020010151613fd0919061560d565b11613fe357670de0b6b3a764000061402c565b8460a0015185602001518281518110613ffe57613ffe6155e1565b6020026020010151614010919061560d565b6140228a670de0b6b3a76400006157e5565b61402c91906157fc565b60e0860181905260208601518051670de0b6b3a764000092919084908110614056576140566155e1565b602002602001015161406891906157e5565b61407291906157fc565b856060018181525050670de0b6b3a76400008560e001518660400151838151811061409f5761409f6155e1565b60200260200101516140b191906157e5565b6140bb91906157fc565b60808601819052610100860151670de0b6b3a7640000916140db916157e5565b6140e591906157fc565b60c0860181905282906140f890856157e5565b61410291906157fc565b60a0860181905260608601516141179161560d565b8911156141505784606001518560a00151614132919061560d565b61413c908a6157d2565b98508789101561414b57600098505b614155565b600098505b84608001518d6001600160a01b0316630adb2d858760000151848151811061417f5761417f6155e1565b60200260200101518e89606001518f8b60800151306040518763ffffffff1660e01b81526004016141b596959493929190615a67565b6020604051808303816000875af11580156141d4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906141f89190615697565b146040518060400160405280600f81526020016e53423a2057726f6e672076616c756560881b8152509061423f5760405162461bcd60e51b81526004016106149190615670565b507ff63c9c64ebdd1eb99706ca3f7489f7fbdd9c8756363cef40b2fc6e293fa150ec85600001518281518110614277576142776155e1565b60200260200101518c87606001518d89608001513060405161429e96959493929190615a67565b60405180910390a160808501516142b5908761560d565b95508460600151876142c7919061560d565b965088156142d757600101613f36565b5050505050965096945050505050565b60008084608001518381518110614300576143006155e1565b60200260200101516000146119a5576000620186a080876101000151614326919061560d565b8660400151886040015181518110614340576143406155e1565b60200260200101518760200151878151811061435e5761435e6155e1565b60200260200101518860400151888151811061437c5761437c6155e1565b602002602001015189602001518b604001518151811061439e5761439e6155e1565b60200260200101518c8c600001516143b691906157d2565b6143c091906157e5565b6143ca91906157e5565b6143d491906157fc565b6143de91906157fc565b6143e891906157e5565b6143f291906157fc565b90506144708660c0015187602001518681518110614412576144126155e1565b60200260200101518860200151896040015181518110614434576144346155e1565b6020026020010151614463858b608001518a81518110614456576144566155e1565b6020026020010151614810565b61012c8b60e00151613569565b909890975095505050505050565b60006144d3826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b03166148269092919063ffffffff16565b80519091501561247d57808060200190518101906144f19190615866565b61247d5760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e6044820152691bdd081cdd58d8d9595960b21b6064820152608401610614565b600080846001600160a01b031663f77c47916040518163ffffffff1660e01b8152600401602060405180830381865afa158015614591573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906145b5919061581e565b6001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156145f2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190614616919061581e565b90506000816001600160a01b031663b3596f07866040518263ffffffff1660e01b81526004016146469190615683565b602060405180830381865afa158015614663573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906146879190615697565b90506000826001600160a01b031663b3596f07866040518263ffffffff1660e01b81526004016146b79190615683565b602060405180830381865afa1580156146d4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906146f89190615697565b9050846001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015614738573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061475c9190615ab8565b61476790600a615bbf565b82876001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa1580156147a6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906147ca9190615ab8565b6147d590600a615bbf565b6147e784670de0b6b3a76400006157e5565b6147f191906157e5565b6147fb91906157fc565b61480591906157fc565b979650505050505050565b600081831061481f57816117de565b5090919050565b6060614835848460008561483d565b949350505050565b60608247101561489e5760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f6044820152651c8818d85b1b60d21b6064820152608401610614565b600080866001600160a01b031685876040516148ba9190615e1e565b60006040518083038185875af1925050503d80600081146148f7576040519150601f19603f3d011682016040523d82523d6000602084013e6148fc565b606091505b50915091506148058783838760608315614977578251600003614970576001600160a01b0385163b6149705760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152606401610614565b5081614835565b614835838381511561498c5781518083602001fd5b8060405162461bcd60e51b81526004016106149190615670565b6001600160a01b03811681146149bb57600080fd5b50565b80356149c9816149a6565b919050565b634e487b7160e01b600052604160045260246000fd5b604051608081016001600160401b0381118282101715614a0657614a066149ce565b60405290565b604051601f8201601f191681016001600160401b0381118282101715614a3457614a346149ce565b604052919050565b60006001600160401b03821115614a5557614a556149ce565b5060051b60200190565b600082601f830112614a7057600080fd5b81356020614a85614a8083614a3c565b614a0c565b82815260059290921b84018101918181019086841115614aa457600080fd5b8286015b84811015614ac8578035614abb816149a6565b8352918301918301614aa8565b509695505050505050565b600082601f830112614ae457600080fd5b81356020614af4614a8083614a3c565b82815260059290921b84018101918181019086841115614b1357600080fd5b8286015b84811015614ac85780358352918301918301614b17565b600080600080600080600080610100898b031215614b4b57600080fd5b614b54896149be565b97506020890135965060408901356001600160401b0380821115614b7757600080fd5b614b838c838d01614a5f565b9750614b9160608c016149be565b965060808b0135955060a08b0135945060c08b0135915080821115614bb557600080fd5b614bc18c838d01614a5f565b935060e08b0135915080821115614bd757600080fd5b50614be48b828c01614ad3565b9150509295985092959890939650565b600081518084526020808501945080840160005b83811015614c2457815187529582019590820190600101614c08565b509495945050505050565b606081526000614c426060830186614bf4565b8281036020840152614c548186614bf4565b90508281036040840152614c688185614bf4565b9695505050505050565b600080600080600060a08688031215614c8a57600080fd5b8535614c95816149a6565b945060208601356001600160401b0380821115614cb157600080fd5b614cbd89838a01614a5f565b9550604088013594506060880135915080821115614cda57600080fd5b50614ce788828901614ad3565b95989497509295608001359392505050565b606081526000614d0c6060830186614bf4565b8281036020840152614d1e8186614bf4565b915050826040830152949350505050565b60008060008060808587031215614d4557600080fd5b8435614d50816149a6565b935060208501356001600160401b0380821115614d6c57600080fd5b614d7888838901614a5f565b94506040870135915080821115614d8e57600080fd5b50614d9b87828801614ad3565b949793965093946060013593505050565b604080825283519082018190526000906020906060840190828701845b82811015614dee5781516001600160a01b031684529284019290840190600101614dc9565b50505083810382850152614c688186614bf4565b6000806000806000806000806000806101408b8d031215614e2257600080fd5b8a356001600160401b0380821115614e3957600080fd5b614e458e838f01614ad3565b9b5060208d01359a5060408d0135995060608d0135985060808d0135915080821115614e7057600080fd5b614e7c8e838f01614ad3565b975060a08d0135915080821115614e9257600080fd5b614e9e8e838f01614a5f565b965060c08d01359550614eb360e08e016149be565b94506101008d013593506101208d0135915080821115614ed257600080fd5b50614edf8d828e01614ad3565b9150509295989b9194979a5092959850565b8281526040602082015260006148356040830184614bf4565b60008060008060008060c08789031215614f2357600080fd5b8635955060208701356001600160401b0380821115614f4157600080fd5b614f4d8a838b01614a5f565b96506040890135915080821115614f6357600080fd5b50614f7089828a01614ad3565b945050606087013592506080870135915060a0870135614f8f816149a6565b809150509295509295509295565b6020815260006117de6020830184614bf4565b600080600080600060a08688031215614fc857600080fd5b85356001600160401b0380821115614fdf57600080fd5b614feb89838a01614a5f565b9650602088013591508082111561500157600080fd5b5061500e88828901614ad3565b945050604086013592506060860135615026816149a6565b949793965091946080013592915050565b60008060008060008060c0878903121561505057600080fd5b863561505b816149a6565b9550602087013561506b816149a6565b94506040870135935060608701356001600160401b038082111561508e57600080fd5b61509a8a838b01614a5f565b94506080890135935060a08901359150808211156150b757600080fd5b506150c489828a01614ad3565b9150509295509295509295565b6000806000806000806000806000806101408b8d0312156150f157600080fd5b8a35995060208b01356001600160401b038082111561510f57600080fd5b61511b8e838f01614a5f565b9a5060408d0135995061513060608e016149be565b985060808d013591508082111561514657600080fd5b506151538d828e01614ad3565b96505061516260a08c016149be565b945061517060c08c016149be565b935060e08b013592506101008b013591506101208b013590509295989b9194979a5092959850565b6040815260006151ab6040830185614bf4565b828103602084015261106f8185614bf4565b600080604083850312156151d057600080fd5b82356151db816149a6565b915060208301356151eb816149a6565b809150509250929050565b6000806000806080858703121561520c57600080fd5b84359350602085013561521e816149a6565b925060408501356001600160401b038082111561523a57600080fd5b61524688838901614a5f565b9350606087013591508082111561525c57600080fd5b5061526987828801614ad3565b91505092959194509250565b6000806000806080858703121561528b57600080fd5b8435615296816149a6565b935060208501356152a6816149a6565b925060408501356152b6816149a6565b9396929550929360600135925050565b600080604083850312156152d957600080fd5b82356001600160401b038111156152ef57600080fd5b6152fb85828601614a5f565b95602094909401359450505050565b6000806000806080858703121561532057600080fd5b843561532b816149a6565b9350602085013561521e816149a6565b600080600080600060a0868803121561535357600080fd5b85356001600160401b038082111561536a57600080fd5b61537689838a01614a5f565b9650602088013595506040880135915061538f826149a6565b909350606087013590808211156153a557600080fd5b6153b189838a01614ad3565b935060808801359150808211156153c757600080fd5b506153d488828901614ad3565b9150509295509295909350565b6040815260006153f46040830185614bf4565b90508260208301529392505050565b60006001600160401b0382111561541c5761541c6149ce565b50601f01601f191660200190565b60008060008060008060c0878903121561544357600080fd5b863561544e816149a6565b955060208701356001600160401b0381111561546957600080fd5b8701601f8101891361547a57600080fd5b8035615488614a8082615403565b8181528a602083850101111561549d57600080fd5b816020840160208301376000602083830101528097505050506154c2604088016149be565b93506154d0606088016149be565b92506080870135915060a087013590509295509295509295565b600080600080600080600080610100898b03121561550757600080fd5b88359750602089013596506040890135615520816149a6565b955060608901356001600160401b0381111561553b57600080fd5b6155478b828c01614a5f565b9550506080890135935060a089013561555f816149a6565b979a969950949793969295929450505060c08201359160e0013590565b60008060008060008060c0878903121561559557600080fd5b86356155a0816149a6565b955060208701356155b0816149a6565b945060408701356155c0816149a6565b959894975094956060810135955060808101359460a0909101359350915050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b808201808211156117e1576117e16155f7565b60005b8381101561563b578181015183820152602001615623565b50506000910152565b6000815180845261565c816020860160208601615620565b601f01601f19169290920160200192915050565b6020815260006117de6020830184615644565b6001600160a01b0391909116815260200190565b6000602082840312156156a957600080fd5b5051919050565b600082601f8301126156c157600080fd5b815160206156d1614a8083614a3c565b82815260059290921b840181019181810190868411156156f057600080fd5b8286015b84811015614ac8578051615707816149a6565b83529183019183016156f4565b600082601f83011261572557600080fd5b81516020615735614a8083614a3c565b82815260059290921b8401810191818101908684111561575457600080fd5b8286015b84811015614ac85780518352918301918301615758565b6000806040838503121561578257600080fd5b82516001600160401b038082111561579957600080fd5b6157a5868387016156b0565b935060208501519150808211156157bb57600080fd5b506157c885828601615714565b9150509250929050565b818103818111156117e1576117e16155f7565b80820281158282048414176117e1576117e16155f7565b60008261581957634e487b7160e01b600052601260045260246000fd5b500490565b60006020828403121561583057600080fd5b815161583b816149a6565b9392505050565b6000806040838503121561585557600080fd5b505080516020909101519092909150565b60006020828403121561587857600080fd5b8151801515811461583b57600080fd5b6080808252855190820181905260009060209060a0840190828901845b828110156158ca5781516001600160a01b0316845292840192908401906001016158a5565b5050508381038285015286518082528783019183019060005b818110156158ff578351835292840192918401916001016158e3565b50506001600160a01b0387166040860152925061591a915050565b821515606083015261106f565b60a08152600061593a60a0830188615644565b6001600160a01b03968716602084015260408301959095525091909316606082015260800191909152919050565b6000806000806080858703121561597e57600080fd5b84516001600160401b038082111561599557600080fd5b6159a1888389016156b0565b95506020915081870151818111156159b857600080fd5b6159c489828a01615714565b9550506040870151818111156159d957600080fd5b6159e589828a01615714565b9450506060870151818111156159fa57600080fd5b87019050601f81018813615a0d57600080fd5b8051615a1b614a8082614a3c565b81815260059190911b8201830190838101908a831115615a3a57600080fd5b928401925b82841015615a5857835182529284019290840190615a3f565b979a9699509497505050505050565b6001600160a01b039687168152948616602086015260408501939093529084166060840152608083015290911660a082015260c00190565b600060018201615ab157615ab16155f7565b5060010190565b600060208284031215615aca57600080fd5b815160ff8116811461583b57600080fd5b600181815b80851115615b16578160001904821115615afc57615afc6155f7565b80851615615b0957918102915b93841c9390800290615ae0565b509250929050565b600082615b2d575060016117e1565b81615b3a575060006117e1565b8160018114615b505760028114615b5a57615b76565b60019150506117e1565b60ff841115615b6b57615b6b6155f7565b50506001821b6117e1565b5060208310610133831016604e8410600b8410161715615b99575081810a6117e1565b615ba38383615adb565b8060001904821115615bb757615bb76155f7565b029392505050565b60006117de60ff841683615b1e565b60008060008060808587031215615be457600080fd5b505082516020840151604085015160609095015191969095509092509050565b600082601f830112615c1557600080fd5b8151615c23614a8082615403565b818152846020838601011115615c3857600080fd5b614835826020830160208701615620565b6000806040808486031215615c5d57600080fd5b83516001600160401b0380821115615c7457600080fd5b818601915086601f830112615c8857600080fd5b81516020615c98614a8083614a3c565b82815260079290921b8401810191818101908a841115615cb757600080fd5b948201945b83861015615d31576080868c031215615cd55760008081fd5b615cdd6149e4565b8651615ce8816149a6565b815286840151615cf7816149a6565b8185015286880151615d08816149a6565b81890152606087810151615d1b816149a6565b9082015282526080959095019490820190615cbc565b91890151919750909450505080831115615d4a57600080fd5b50506157c885828601615c04565b600081518084526020808501945080840160005b83811015614c2457815180516001600160a01b039081168952848201518116858a01526040808301518216908a0152606091820151169088015260809096019590820190600101615d6c565b6040815260006153f46040830185615d58565b606081526000615dde6060830186615d58565b60208301949094525060400152919050565b600080600060608486031215615e0557600080fd5b8351925060208401519150604084015190509250925092565b60008251615e30818460208701615620565b919091019291505056fea264697066735822122038fd3914b2677bba2e6573f0153afd36a928ceee1ac65e06df97eff0495f34c264736f6c63430008110033",
  "deployedBytecode": "0x73000000000000000000000000000000000000000030146080604052600436106101155760003560e01c80637a55caf3116100ac578063acf741a31161007b578063acf741a3146102f4578063bc846df214610316578063ca27d10d14610344578063d361fe1214610364578063e89a4b181461038457600080fd5b80637a55caf31461027957806385f3ecac1461028c578063954d7e73146102ac57806397783a6c146102e157600080fd5b806359d0ede6116100e857806359d0ede6146101dd5780636e32b87b146101fd5780637047292d1461022b578063749e2cd11461024b57600080fd5b80630f5103ff1461011a5780631a2221c714610152578063205810a61461018157806323744915146101af575b600080fd5b81801561012657600080fd5b5061013a610135366004614b2e565b6103a4565b60405161014993929190614c2f565b60405180910390f35b81801561015e57600080fd5b5061017261016d366004614c72565b6103cd565b60405161014993929190614cf9565b81801561018d57600080fd5b506101a161019c366004614d2f565b6106da565b604051610149929190614dac565b8180156101bb57600080fd5b506101cf6101ca366004614e02565b610875565b604051610149929190614ef1565b6101f06101eb366004614f0a565b61091e565b6040516101499190614f9d565b81801561020957600080fd5b5061021d610218366004614fb0565b610b62565b604051908152602001610149565b81801561023757600080fd5b506101cf610246366004615037565b611078565b81801561025757600080fd5b5061026b6102663660046150d1565b6113ed565b604051610149929190615198565b61021d6102873660046151bd565b6116ad565b81801561029857600080fd5b5061026b6102a73660046151f6565b6117e7565b8180156102b857600080fd5b506102cc6102c7366004615275565b611991565b60408051928352602083019190915201610149565b6101f06102ef3660046152c6565b6119ae565b81801561030057600080fd5b5061031461030f36600461530a565b611ac1565b005b81801561032257600080fd5b5061033661033136600461533b565b611c4c565b6040516101499291906153e1565b81801561035057600080fd5b506102cc61035f36600461542a565b611c68565b81801561037057600080fd5b506101cf61037f3660046154ea565b611c88565b81801561039057600080fd5b506102cc61039f36600461557c565b611f5e565b60608060606103b98b8b8b8b89898d8d611f6f565b919d909c50909a5098505050505050505050565b60608060008087519050806001600160401b038111156103ef576103ef6149ce565b604051908082528060200260200182016040528015610418578160200160208202803683370190505b509250806001600160401b03811115610433576104336149ce565b60405190808252806020026020018201604052801561045c578160200160208202803683370190505b50935060005b818110156106cd578781036104ae57868181518110610483576104836155e1565b602002602001015185828151811061049d5761049d6155e1565b6020026020010181815250506106c5565b60008782815181106104c2576104c26155e1565b6020026020010151111561062057600061050f8a8a815181106104e7576104e76155e1565b6020026020010151898481518110610501576105016155e1565b60200260200101518d6123d7565b6105778b604051806020016040528060008152508c8c81518110610535576105356155e1565b60200260200101518d868151811061054f5761054f6155e1565b60200260200101518c8781518110610569576105696155e1565b60200260200101518c612482565b868481518110610589576105896155e1565b602090810291909101015290506105a0818561560d565b93508482815181106105b4576105b46155e1565b6020026020010151600014156040518060400160405280601a81526020017f54532d3130207a65726f20626f72726f77656420616d6f756e740000000000008152509061061d5760405162461bcd60e51b81526004016106149190615670565b60405180910390fd5b50505b888181518110610632576106326155e1565b60200260200101516001600160a01b03166370a08231306040518263ffffffff1660e01b81526004016106659190615683565b602060405180830381865afa158015610682573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106a69190615697565b8582815181106106b8576106b86155e1565b6020026020010181815250505b600101610462565b5050955095509592505050565b606080600080876001600160a01b031663ef5cfb8c306040518263ffffffff1660e01b815260040161070c9190615683565b6000604051808303816000875af115801561072b573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610753919081019061576f565b9150915061076387878484612941565b8151919550935060005b818110156108685786600087838151811061078a5761078a6155e1565b60200260200101516001600160a01b03166001600160a01b03168152602001908152602001600020548682815181106107c5576107c56155e1565b60200260200101516001600160a01b03166370a08231306040518263ffffffff1660e01b81526004016107f89190615683565b602060405180830381865afa158015610815573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108399190615697565b61084391906157d2565b858281518110610855576108556155e1565b602090810291909101015260010161076d565b5050505094509492505050565b6000606081610884858d6157d2565b9050808b111561089257809a505b600061089f8e8d8d612e1a565b905060006108b08a8a8a858f612f29565b905060005b8a51811015610909578681815181106108d0576108d06155e1565b60200260200101518c82815181106108ea576108ea6155e1565b602002602001018181516108fe919061560d565b9052506001016108b5565b509e999d50989b505050505050505050505050565b8451606090806001600160401b0381111561093b5761093b6149ce565b604051908082528060200260200182016040528015610964578160200160208202803683370190505b509150600080610975858a85613093565b9150915060005b83811015610b54576000888a8381518110610999576109996155e1565b60200260200101518d6109ac91906157e5565b6109b691906157fc565b90508782036109e357808683815181106109d2576109d26155e1565b602002602001018181525050610b4b565b60008389815181106109f7576109f76155e1565b6020026020010151858481518110610a1157610a116155e1565b6020026020010151858581518110610a2b57610a2b6155e1565b6020026020010151878c81518110610a4557610a456155e1565b602002602001015185610a5891906157e5565b610a6291906157e5565b610a6c91906157fc565b610a7691906157fc565b905060008c8481518110610a8c57610a8c6155e1565b60200260200101516001600160a01b03166370a08231306040518263ffffffff1660e01b8152600401610abf9190615683565b602060405180830381865afa158015610adc573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b009190615697565b905081811015610b485781610b1582826157d2565b610b1f90856157e5565b610b2991906157fc565b888581518110610b3b57610b3b6155e1565b6020026020010181815250505b50505b5060010161097c565b505050509695505050505050565b6000610b8f6040518060800160405280600081526020016060815260200160608152602001606081525090565b8651816000018181525050610c69846001600160a01b031663f77c47916040518163ffffffff1660e01b8152600401602060405180830381865afa158015610bdb573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610bff919061581e565b6001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610c3c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c60919061581e565b82518990613093565b6040830152602082015260005b8151811015610f4157858103610cb257868181518110610c9857610c986155e1565b602002602001015183610cab919061560d565b9250610f39565b6000878281518110610cc657610cc66155e1565b60200260200101518560008b8581518110610ce357610ce36155e1565b60200260200101516001600160a01b03166001600160a01b0316815260200190815260200160002054610d16919061560d565b9050600080876001600160a01b03166348498f2e308d8c81518110610d3d57610d3d6155e1565b60200260200101518e8881518110610d5757610d576155e1565b60200260200101516040518463ffffffff1660e01b8152600401610d9b939291906001600160a01b0393841681529183166020830152909116604082015260600190565b60408051808303816000875af1158015610db9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ddd9190615842565b9092509050610dec818761560d565b9550818310610eb25784604001518481518110610e0b57610e0b6155e1565b602002602001015185602001518a81518110610e2957610e296155e1565b602002602001015186604001518b81518110610e4757610e476155e1565b602002602001015187602001518781518110610e6557610e656155e1565b60200260200101518587610e7991906157d2565b610e8391906157e5565b610e8d91906157e5565b610e9791906157fc565b610ea191906157fc565b610eab908761560d565b9550610f35565b846060015151600003610f085784516001600160401b03811115610ed857610ed86149ce565b604051908082528060200260200182016040528015610f01578160200160208202803683370190505b5060608601525b610f1283836157d2565b85606001518581518110610f2857610f286155e1565b6020026020010181815250505b5050505b600101610c76565b5080516060820151510361106d5760005b815181101561106b5781606001518181518110610f7157610f716155e1565b60200260200101516000031561106357600082604001518281518110610f9957610f996155e1565b602002602001015183602001518881518110610fb757610fb76155e1565b602002602001015184604001518981518110610fd557610fd56155e1565b602002602001015185602001518581518110610ff357610ff36155e1565b602002602001015186606001518681518110611011576110116155e1565b602002602001015161102391906157e5565b61102d91906157e5565b61103791906157fc565b61104191906157fc565b9050838111156110545760009350611061565b61105e81856157d2565b93505b505b600101610f52565b505b505b95945050505050565b600060606110b0604051806080016040528060006001600160a01b031681526020016000815260200160008152602001600081525090565b8585815181106110c2576110c26155e1565b60209081029190910101516001600160a01b031681528551806001600160401b038111156110f2576110f26149ce565b60405190808252806020026020018201604052801561111b578160200160208202803683370190505b50925060005b818110156111b4578087146111ac576111728b84600001518a848151811061114b5761114b6155e1565b6020026020010151898581518110611165576111656155e1565b6020026020010151613281565b84602001868481518110611188576111886155e1565b60200260200101828152508281525050508260200151856111a9919061560d565b94505b600101611121565b5060005b818110156113de578087146113d6578381815181106111d9576111d96155e1565b60200260200101518682815181106111f3576111f36155e1565b602002602001015111156113d65761126b8a898381518110611217576112176155e1565b60200260200101518560000151878581518110611236576112366155e1565b60200260200101518a8681518110611250576112506155e1565b602002602001015161126291906157d2565b61012c8e613569565b6060850181905260408501919091521561129157606083015161128e908661560d565b94505b6040830151156113d65782604001518482815181106112b2576112b26155e1565b602002602001018181516112c6919061560d565b915081815250508a6001600160a01b031663291f89c48983815181106112ee576112ee6155e1565b60209081029190910101516040808701518751606089015192516001600160e01b031960e087901b1681526001600160a01b0394851660048201526024810192909252929092166044830152606482015261012c608482015260a401602060405180830381865afa158015611367573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061138b9190615866565b604051806040016040528060128152602001711514cb4c4d881c1c9a58d9481a5b5c1858dd60721b815250906113d45760405162461bcd60e51b81526004016106149190615670565b505b6001016111b8565b5050505b965096945050505050565b60608061141b6040518060800160405280600081526020016060815260200160608152602001600081525090565b8b518082526001600160401b03811115611437576114376149ce565b604051908082528060200260200182016040528015611460578160200160208202803683370190505b5081519093506001600160401b0381111561147d5761147d6149ce565b6040519080825280602002602001820160405280156114a6578160200160208202803683370190505b5081519092506001600160401b038111156114c3576114c36149ce565b6040519080825280602002602001820160405280156114ec578160200160208202803683370190505b5060208201525b80516060820151101561159f578360008d836060015181518110611519576115196155e1565b60200260200101516001600160a01b03166001600160a01b031681526020019081526020016000205489826060015181518110611558576115586155e1565b602002602001015161156a919061560d565b8160200151826060015181518110611584576115846155e1565b602090810291909101015260608101805160010190526114f3565b6116066040518061012001604052808f81526020018e81526020018d81526020018c6001600160a01b03168152602001836020015181526020018a6001600160a01b03168152602001896001600160a01b0316815260200188815260200187815250613894565b60408301526000606083015292505b80516060820151101561169d57806040015181606001518151811061163c5761163c6155e1565b60200260200101518982606001518151811061165a5761165a6155e1565b602002602001015161166c919061560d565b82826060015181518110611682576116826155e1565b60209081029190910101526060810180516001019052611615565b509a509a98505050505050505050565b6000826001600160a01b031663f77c47916040518163ffffffff1660e01b8152600401602060405180830381865afa1580156116ed573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611711919061581e565b6001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561174e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611772919061581e565b6001600160a01b031663b3596f07836040518263ffffffff1660e01b815260040161179d9190615683565b602060405180830381865afa1580156117ba573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906117de9190615697565b90505b92915050565b80516060908190806001600160401b03811115611806576118066149ce565b60405190808252806020026020018201604052801561182f578160200160208202803683370190505b509250806001600160401b0381111561184a5761184a6149ce565b604051908082528060200260200182016040528015611873578160200160208202803683370190505b50915060005b8181101561198657620186a088868381518110611898576118986155e1565b60200260200101516118aa91906157e5565b6118b491906157fc565b8382815181106118c6576118c66155e1565b6020026020010181815250508281815181106118e4576118e46155e1565b60200260200101518582815181106118fe576118fe6155e1565b602002602001015161191091906157d2565b848281518110611922576119226155e1565b60200260200101818152505061197e87848381518110611944576119446155e1565b602002602001015188848151811061195e5761195e6155e1565b60200260200101516001600160a01b0316613c1f9092919063ffffffff16565b600101611879565b505094509492505050565b6000806119a086868686613281565b915091505b94509492505050565b81516060906000816001600160401b038111156119cd576119cd6149ce565b6040519080825280602002602001820160405280156119f6578160200160208202803683370190505b50905060005b82811015611ab857808514611ab057858181518110611a1d57611a1d6155e1565b60200260200101516001600160a01b03166370a08231306040518263ffffffff1660e01b8152600401611a509190615683565b602060405180830381865afa158015611a6d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a919190615697565b828281518110611aa357611aa36155e1565b6020026020010181815250505b6001016119fc565b50949350505050565b6000825190506000856001600160a01b031663f645d4f96040518163ffffffff1660e01b8152600401602060405180830381865afa158015611b07573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b2b919061581e565b905060005b82811015611b7d57611b75858281518110611b4d57611b4d6155e1565b6020026020010151858381518110611b6757611b676155e1565b6020026020010151846123d7565b600101611b30565b50806001600160a01b0316637e0ddbef8585886001600160a01b031663fbfa77cf6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611bcd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611bf1919061581e565b60016040518563ffffffff1660e01b8152600401611c129493929190615888565b600060405180830381600087803b158015611c2c57600080fd5b505af1158015611c40573d6000803e3d6000fd5b50505050505050505050565b816000611c5c8787878587612f29565b90509550959350505050565b600080611c79888888888888612482565b91509150965096945050505050565b84516000906060908a1590806001600160401b03811115611cab57611cab6149ce565b604051908082528060200260200182016040528015611cd4578160200160208202803683370190505b50925060005b81811015611e7a57808914611e725760008c60008c8481518110611d0057611d006155e1565b60200260200101516001600160a01b03166001600160a01b0316815260200190815260200160002054905080600014611e70576000896001600160a01b031663667df2498e8e8e81518110611d5757611d576155e1565b60200260200101518f8781518110611d7157611d716155e1565b60209081029190910101516040516001600160e01b031960e086901b1681526001600160a01b0393841660048201529183166024830152919091166044820152606481018590526084016020604051808303816000875af1158015611dda573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611dfe9190615697565b90508480611e0b57508e15155b15611e305781868481518110611e2357611e236155e1565b6020026020010181815250505b808f1115611e4b57808f611e4491906157d2565b9e50611e50565b60009e505b80891115611e6957611e62818a6157d2565b9850611e6e565b600098505b505b505b600101611cda565b508180611e875750600086115b6040518060400160405280601e81526020017f54532d31312074727920746f20776974686472617720746f6f206d756368000081525090611edb5760405162461bcd60e51b81526004016106149190615670565b5081611f1d578b15611f1657606486611efd8e680579a814e10a7400006157e5565b611f0791906157fc565b611f1191906157fc565b611f27565b6000611f27565b670de0b6b3a76400005b93508315611f4f57670de0b6b3a7640000611f4286866157e5565b611f4c91906157fc565b93505b50509850989650505050505050565b600080611c79888888888888613569565b6060806060611fcc604051806101200160405280600081526020016000815260200160006001600160a01b031681526020016000815260200160008152602001600081526020016000815260200160008152602001600081525090565b875160808201819052875160408051808201909152601281527154532d342077726f6e67206c656e6774687360701b6020820152911461201f5760405162461bcd60e51b81526004016106149190615670565b506001600160a01b038c16600090815260208790526040902054606082015260808101516001600160401b0381111561205a5761205a6149ce565b604051908082528060200260200182016040528015612083578160200160208202803683370190505b50915080608001516001612097919061560d565b6001600160401b038111156120ae576120ae6149ce565b6040519080825280602002602001820160405280156120d7578160200160208202803683370190505b50935080608001516001600160401b038111156120f6576120f66149ce565b60405190808252806020026020018201604052801561211f578160200160208202803683370190505b50925060005b81608001518110156123c757888181518110612143576121436155e1565b602002602001015182604001906001600160a01b031690816001600160a01b031681525050620186a08c89838151811061217f5761217f6155e1565b602002602001015161219191906157e5565b61219b91906157fc565b80835215612370576000196121b48c8460400151613c82565b146121ec5781600001518582815181106121d0576121d06155e1565b602002602001018181516121e4919061560d565b905250612370565b6040808301516001600160a01b031660009081526020889052205460a08301819052825161221a919061560d565b60c083019081526040808401516001600160a01b0316600090815260208a905220549051101561225b5781600001518582815181106121d0576121d06155e1565b6122778a83604001518f8560c001516113888760600151613569565b610100840181905260e0840191909152156122c057816101000151858360800151815181106122a8576122a86155e1565b602002602001018181516122bc919061560d565b9052505b8160e001516000036122e35781600001518582815181106121d0576121d06155e1565b60a082015182516122f4919061560d565b8260e00151146040518060400160405280600f81526020016e53423a2057726f6e672076616c756560881b815250906123405760405162461bcd60e51b81526004016106149190615670565b508160a00151848281518110612358576123586155e1565b6020026020010181815161236c919061560d565b9052505b8160000151888281518110612387576123876155e1565b602002602001015161239991906157d2565b6020830181905283518490839081106123b4576123b46155e1565b6020908102919091010152600101612125565b5050985098509895505050505050565b604051636eb1769f60e11b81523060048201526001600160a01b03828116602483015283919085169063dd62ed3e90604401602060405180830381865afa158015612426573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061244a9190615697565b101561247d576124656001600160a01b038416826000613ce0565b61247d6001600160a01b03841682600160ff1b613ce0565b505050565b6000808260000361249257600a92505b60408051808201909152601081526f54532d392077726f6e672076616c756560801b60208201528385116124d95760405162461bcd60e51b81526004016106149190615670565b506125136040518060c001604052806000815260200160608152602001606081526020016060815260200160008152602001600081525090565b61251c88613df5565b8082526000190161253f57612535898989898989613e1c565b92509250506113e2565b60405163430ffb1760e01b81526001600160a01b038a169063430ffb1790612576908b908b908a908c906213c68090600401615927565b600060405180830381865afa158015612593573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526125bb9190810190615968565b50606084015260408301526020820181905251801561293a5760005b818110156129385782516126e757826040015181815181106125fb576125fb6155e1565b6020026020010151871061262c578260400151818151811061261f5761261f6155e1565b602002602001015161262e565b865b6080840152604083015180518290811061264a5761264a6155e1565b6020026020010151871061267b578260600151818151811061266e5761266e6155e1565b60200260200101516126cc565b82604001518181518110612691576126916155e1565b602002602001015187846060015183815181106126b0576126b06155e1565b60200260200101516126c291906157e5565b6126cc91906157fc565b60a084015260808301516126e090886157d2565b96506127e5565b826060015181815181106126fd576126fd6155e1565b6020026020010151871061272e5782606001518181518110612721576127216155e1565b6020026020010151612730565b865b60a0840152606083015180518290811061274c5761274c6155e1565b6020026020010151871061277d5782604001518181518110612770576127706155e1565b60200260200101516127ce565b82606001518181518110612793576127936155e1565b602002602001015187846040015183815181106127b2576127b26155e1565b60200260200101516127c491906157e5565b6127ce91906157fc565b608084015260a08301516127e290886157d2565b96505b85871080156127f357508615155b156127fd57600096505b60a08301511561292a578a6001600160a01b0316630adb2d858460200151838151811061282c5761282c6155e1565b60200260200101518b86608001518c8860a00151306040518763ffffffff1660e01b815260040161286296959493929190615a67565b6020604051808303816000875af1158015612881573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906128a59190615697565b6128af908561560d565b93508260800151856128c1919061560d565b94507ff63c9c64ebdd1eb99706ca3f7489f7fbdd9c8756363cef40b2fc6e293fa150ec836020015182815181106128fa576128fa6155e1565b60200260200101518a85608001518b8760a001513060405161292196959493929190615a67565b60405180910390a15b8615612938576001016125d7565b505b50506113e2565b835182518451606092839290918214801561295c5750845181145b61299f5760405162461bcd60e51b81526020600482015260146024820152730a88298744082e4e4c2f2e640dad2e6dac2e8c6d60631b6044820152606401610614565b60006129ab828461560d565b90506000816001600160401b038111156129c7576129c76149ce565b6040519080825280602002602001820160405280156129f0578160200160208202803683370190505b5090506000826001600160401b03811115612a0d57612a0d6149ce565b604051908082528060200260200182016040528015612a36578160200160208202803683370190505b5090506000805b86811015612b8d5760008c8281518110612a5957612a596155e1565b6020026020010151905080600003612a715750612b7b565b60008e8381518110612a8557612a856155e1565b602002602001015190506000805b85811015612b1257878181518110612aad57612aad6155e1565b60200260200101516001600160a01b0316836001600160a01b031603612b005783878281518110612ae057612ae06155e1565b60200260200101818151612af4919061560d565b90525060019150612b12565b80612b0a81615a9f565b915050612a93565b5080612b775781878681518110612b2b57612b2b6155e1565b60200260200101906001600160a01b031690816001600160a01b03168152505082868681518110612b5e57612b5e6155e1565b602090810291909101015284612b7381615a9f565b9550505b5050505b80612b8581615a9f565b915050612a3d565b5060005b85811015612ce15760008a8281518110612bad57612bad6155e1565b6020026020010151905080600003612bc55750612ccf565b60008c8381518110612bd957612bd96155e1565b602002602001015190506000805b85811015612c6657878181518110612c0157612c016155e1565b60200260200101516001600160a01b0316836001600160a01b031603612c545783878281518110612c3457612c346155e1565b60200260200101818151612c48919061560d565b90525060019150612c66565b80612c5e81615a9f565b915050612be7565b5080612ccb5781878681518110612c7f57612c7f6155e1565b60200260200101906001600160a01b031690816001600160a01b03168152505082868681518110612cb257612cb26155e1565b602090810291909101015284612cc781615a9f565b9550505b5050505b80612cd981615a9f565b915050612b91565b50806001600160401b03811115612cfa57612cfa6149ce565b604051908082528060200260200182016040528015612d23578160200160208202803683370190505b509750806001600160401b03811115612d3e57612d3e6149ce565b604051908082528060200260200182016040528015612d67578160200160208202803683370190505b50965060005b81811015612e0a57838181518110612d8757612d876155e1565b6020026020010151898281518110612da157612da16155e1565b60200260200101906001600160a01b031690816001600160a01b031681525050828181518110612dd357612dd36155e1565b6020026020010151888281518110612ded57612ded6155e1565b602090810291909101015280612e0281615a9f565b915050612d6d565b5050505050505094509492505050565b606060008215612e5c5782841015612e4e5782612e3f85670de0b6b3a76400006157e5565b612e4991906157fc565b612e5f565b670de0b6b3a7640000612e5f565b60005b8551909150806001600160401b03811115612e7c57612e7c6149ce565b604051908082528060200260200182016040528015612ea5578160200160208202803683370190505b5092508115612f205760005b81811015612f1e57670de0b6b3a764000083888381518110612ed557612ed56155e1565b6020026020010151612ee791906157e5565b612ef191906157fc565b848281518110612f0357612f036155e1565b6020908102919091010152612f1781615a9f565b9050612eb1565b505b50509392505050565b8451600090815b8181101561106b57868103612f6b57848181518110612f5157612f516155e1565b602002602001015183612f64919061560d565b925061308b565b6000848281518110612f7f57612f7f6155e1565b6020026020010151868381518110612f9957612f996155e1565b6020026020010151612fab919061560d565b9050801561308957866001600160a01b031663667df249308b8b81518110612fd557612fd56155e1565b60200260200101518c8681518110612fef57612fef6155e1565b60209081029190910101516040516001600160e01b031960e086901b1681526001600160a01b0393841660048201529183166024830152919091166044820152606481018490526084016020604051808303816000875af1158015613058573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061307c9190615697565b613086908561560d565b93505b505b600101612f30565b606080826001600160401b038111156130ae576130ae6149ce565b6040519080825280602002602001820160405280156130d7578160200160208202803683370190505b509150826001600160401b038111156130f2576130f26149ce565b60405190808252806020026020018201604052801561311b578160200160208202803683370190505b50905060005b838110156132785784818151811061313b5761313b6155e1565b60200260200101516001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015613180573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906131a49190615ab8565b6131af90600a615bbf565b8282815181106131c1576131c16155e1565b602002602001018181525050856001600160a01b031663b3596f078683815181106131ee576131ee6155e1565b60200260200101516040518263ffffffff1660e01b81526004016132129190615683565b602060405180830381865afa15801561322f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906132539190615697565b838281518110613265576132656155e1565b6020908102919091010152600101613121565b50935093915050565b604051632424c79760e11b81523060048201526001600160a01b038481166024830152838116604483015260009182918291908816906348498f2e9060640160408051808303816000875af11580156132de573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906133029190615842565b50905060008185106133145781613316565b845b90506000866001600160a01b03166370a08231306040518263ffffffff1660e01b81526004016133469190615683565b602060405180830381865afa158015613363573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906133879190615697565b905061339d6001600160a01b0388168a84613c1f565b6040516314b685e960e21b81526001600160a01b038981166004830152888116602483015260448201849052306064830152600091908b16906352da17a4906084016080604051808303816000875af11580156133fe573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906134229190615bce565b5050604080516001600160a01b03808e1682528c1660208201529081018690523060608201526080810183905260a0810182905291975091507f1d1ba11e7ca20f5dc77d8cfd75b68d11520677808f89f6ba0f0e50dc52c450129060c00160405180910390a16040516370a0823160e01b81526000906001600160a01b038a16906370a08231906134b7903090600401615683565b602060405180830381865afa1580156134d4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906134f89190615697565b9050808311613508576000613512565b61351281846157d2565b60408051808201909152600f81526e53423a2057726f6e672076616c756560881b6020820152909650821561355a5760405162461bcd60e51b81526004016106149190615670565b50505050505094509492505050565b604051633744088160e11b81526001600160a01b038681166004830152858116602483015260009182918291908a1690636e88110290604401600060405180830381865afa1580156135bf573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526135e79190810190615c49565b50805160408051808201909152601a81527f54532d3135204e6f206c69717569646174696f6e20726f757465000000000000602082015291925061363e5760405162461bcd60e51b81526004016106149190615670565b50604051637cbf210b60e11b81526000906001600160a01b038b169063f97e4216906136709085908b90600401615db8565b602060405180830381865afa15801561368d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906136b19190615697565b905084811115613887576136c689888c6123d7565b6040516370a0823160e01b81526000906001600160a01b038a16906370a08231906136f5903090600401615683565b602060405180830381865afa158015613712573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906137369190615697565b6040516310fe133960e31b81529091506001600160a01b038c16906387f099c8906137699086908c908c90600401615dcb565b600060405180830381600087803b15801561378357600080fd5b505af1158015613797573d6000803e3d6000fd5b50506040516370a0823160e01b8152600092506001600160a01b038c1691506370a08231906137ca903090600401615683565b602060405180830381865afa1580156137e7573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061380b9190615697565b905081811161381b576000613825565b61382582826157d2565b604080516001600160a01b03808f1682528d1660208201529081018b9052606081018b9052608081018290528a97509095507f5a821a618ddb1a1fd304234a69c9d7f20c129d122fcf35593d13a071926643079060a00160405180910390a150505b5050965096945050505050565b6060806138c26040518060800160405280600081526020016060815260200160608152602001606081525090565b6020840151518082526001600160401b038111156138e2576138e26149ce565b60405190808252806020026020018201604052801561390b578160200160208202803683370190505b5081519092506001600160401b03811115613928576139286149ce565b604051908082528060200260200182016040528015613951578160200160208202803683370190505b509250613a2a8460a001516001600160a01b031663f77c47916040518163ffffffff1660e01b8152600401602060405180830381865afa158015613999573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906139bd919061581e565b6001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156139fa573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613a1e919061581e565b60208601518351613093565b604083015260208201526000805b8251811015613b515785602001518181518110613a5757613a576155e1565b60200260200101516001600160a01b031686606001516001600160a01b031603613a8357809150613b49565b60408601518114613b4957600080613aba86896040015181518110613aaa57613aaa6155e1565b60200260200101518987866142e7565b9150915081878481518110613ad157613ad16155e1565b60200260200101818151613ae5919061560d565b90525060408801518651829188918110613b0157613b016155e1565b60200260200101818151613b15919061560d565b9052508751604089015187518891908110613b3257613b326155e1565b602002602001015110613b46575050613b51565b50505b600101613a38565b50846000015183866040015181518110613b6d57613b6d6155e1565b6020026020010151108015613b86575080856040015114155b15613c1857600080613bb785886040015181518110613ba757613ba76155e1565b60200260200101518886866142e7565b9150915081868481518110613bce57613bce6155e1565b60200260200101818151613be2919061560d565b90525060408701518551829187918110613bfe57613bfe6155e1565b60200260200101818151613c12919061560d565b90525050505b5050915091565b6040516001600160a01b03831660248201526044810182905261247d90849063a9059cbb60e01b906064015b60408051601f198184030181529190526020810180516001600160e01b03166001600160e01b03199093169290921790915261447e565b8151600090815b81811015613cd457836001600160a01b0316858281518110613cad57613cad6155e1565b60200260200101516001600160a01b031603613ccc5791506117e19050565b600101613c89565b50600019949350505050565b801580613d5a5750604051636eb1769f60e11b81523060048201526001600160a01b03838116602483015284169063dd62ed3e90604401602060405180830381865afa158015613d34573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613d589190615697565b155b613dc55760405162461bcd60e51b815260206004820152603660248201527f5361666545524332303a20617070726f76652066726f6d206e6f6e2d7a65726f60448201527520746f206e6f6e2d7a65726f20616c6c6f77616e636560501b6064820152608401610614565b6040516001600160a01b03831660248201526044810182905261247d90849063095ea7b360e01b90606401613c4b565b60008151600003613e0857506000919050565b818060200190518101906117e19190615697565b600080613e6e6040518061012001604052806060815260200160608152602001606081526020016000815260200160008152602001600081526020016000815260200160008152602001600081525090565b60405163430ffb1760e01b81526001600160a01b038a169063430ffb1790613ea5908b908b908a908c906213c68090600401615927565b600060405180830381865afa158015613ec2573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052613eea9190810190615968565b506040840152602083015280825251600093508392508015613887576000808a806020019051810190613f1d9190615df0565b9250925050613f2d8c8b8b614550565b61010085015260005b838110156142d757670de0b6b3a764000085604001518281518110613f5d57613f5d6155e1565b6020026020010151866101000151613f7591906157e5565b613f7f91906157fc565b60c086018190528290613f9290856157e5565b613f9c91906157fc565b60a08601819052602086015180518b92919084908110613fbe57613fbe6155e1565b6020026020010151613fd0919061560d565b11613fe357670de0b6b3a764000061402c565b8460a0015185602001518281518110613ffe57613ffe6155e1565b6020026020010151614010919061560d565b6140228a670de0b6b3a76400006157e5565b61402c91906157fc565b60e0860181905260208601518051670de0b6b3a764000092919084908110614056576140566155e1565b602002602001015161406891906157e5565b61407291906157fc565b856060018181525050670de0b6b3a76400008560e001518660400151838151811061409f5761409f6155e1565b60200260200101516140b191906157e5565b6140bb91906157fc565b60808601819052610100860151670de0b6b3a7640000916140db916157e5565b6140e591906157fc565b60c0860181905282906140f890856157e5565b61410291906157fc565b60a0860181905260608601516141179161560d565b8911156141505784606001518560a00151614132919061560d565b61413c908a6157d2565b98508789101561414b57600098505b614155565b600098505b84608001518d6001600160a01b0316630adb2d858760000151848151811061417f5761417f6155e1565b60200260200101518e89606001518f8b60800151306040518763ffffffff1660e01b81526004016141b596959493929190615a67565b6020604051808303816000875af11580156141d4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906141f89190615697565b146040518060400160405280600f81526020016e53423a2057726f6e672076616c756560881b8152509061423f5760405162461bcd60e51b81526004016106149190615670565b507ff63c9c64ebdd1eb99706ca3f7489f7fbdd9c8756363cef40b2fc6e293fa150ec85600001518281518110614277576142776155e1565b60200260200101518c87606001518d89608001513060405161429e96959493929190615a67565b60405180910390a160808501516142b5908761560d565b95508460600151876142c7919061560d565b965088156142d757600101613f36565b5050505050965096945050505050565b60008084608001518381518110614300576143006155e1565b60200260200101516000146119a5576000620186a080876101000151614326919061560d565b8660400151886040015181518110614340576143406155e1565b60200260200101518760200151878151811061435e5761435e6155e1565b60200260200101518860400151888151811061437c5761437c6155e1565b602002602001015189602001518b604001518151811061439e5761439e6155e1565b60200260200101518c8c600001516143b691906157d2565b6143c091906157e5565b6143ca91906157e5565b6143d491906157fc565b6143de91906157fc565b6143e891906157e5565b6143f291906157fc565b90506144708660c0015187602001518681518110614412576144126155e1565b60200260200101518860200151896040015181518110614434576144346155e1565b6020026020010151614463858b608001518a81518110614456576144566155e1565b6020026020010151614810565b61012c8b60e00151613569565b909890975095505050505050565b60006144d3826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b03166148269092919063ffffffff16565b80519091501561247d57808060200190518101906144f19190615866565b61247d5760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e6044820152691bdd081cdd58d8d9595960b21b6064820152608401610614565b600080846001600160a01b031663f77c47916040518163ffffffff1660e01b8152600401602060405180830381865afa158015614591573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906145b5919061581e565b6001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156145f2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190614616919061581e565b90506000816001600160a01b031663b3596f07866040518263ffffffff1660e01b81526004016146469190615683565b602060405180830381865afa158015614663573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906146879190615697565b90506000826001600160a01b031663b3596f07866040518263ffffffff1660e01b81526004016146b79190615683565b602060405180830381865afa1580156146d4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906146f89190615697565b9050846001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015614738573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061475c9190615ab8565b61476790600a615bbf565b82876001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa1580156147a6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906147ca9190615ab8565b6147d590600a615bbf565b6147e784670de0b6b3a76400006157e5565b6147f191906157e5565b6147fb91906157fc565b61480591906157fc565b979650505050505050565b600081831061481f57816117de565b5090919050565b6060614835848460008561483d565b949350505050565b60608247101561489e5760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f6044820152651c8818d85b1b60d21b6064820152608401610614565b600080866001600160a01b031685876040516148ba9190615e1e565b60006040518083038185875af1925050503d80600081146148f7576040519150601f19603f3d011682016040523d82523d6000602084013e6148fc565b606091505b50915091506148058783838760608315614977578251600003614970576001600160a01b0385163b6149705760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152606401610614565b5081614835565b614835838381511561498c5781518083602001fd5b8060405162461bcd60e51b81526004016106149190615670565b6001600160a01b03811681146149bb57600080fd5b50565b80356149c9816149a6565b919050565b634e487b7160e01b600052604160045260246000fd5b604051608081016001600160401b0381118282101715614a0657614a066149ce565b60405290565b604051601f8201601f191681016001600160401b0381118282101715614a3457614a346149ce565b604052919050565b60006001600160401b03821115614a5557614a556149ce565b5060051b60200190565b600082601f830112614a7057600080fd5b81356020614a85614a8083614a3c565b614a0c565b82815260059290921b84018101918181019086841115614aa457600080fd5b8286015b84811015614ac8578035614abb816149a6565b8352918301918301614aa8565b509695505050505050565b600082601f830112614ae457600080fd5b81356020614af4614a8083614a3c565b82815260059290921b84018101918181019086841115614b1357600080fd5b8286015b84811015614ac85780358352918301918301614b17565b600080600080600080600080610100898b031215614b4b57600080fd5b614b54896149be565b97506020890135965060408901356001600160401b0380821115614b7757600080fd5b614b838c838d01614a5f565b9750614b9160608c016149be565b965060808b0135955060a08b0135945060c08b0135915080821115614bb557600080fd5b614bc18c838d01614a5f565b935060e08b0135915080821115614bd757600080fd5b50614be48b828c01614ad3565b9150509295985092959890939650565b600081518084526020808501945080840160005b83811015614c2457815187529582019590820190600101614c08565b509495945050505050565b606081526000614c426060830186614bf4565b8281036020840152614c548186614bf4565b90508281036040840152614c688185614bf4565b9695505050505050565b600080600080600060a08688031215614c8a57600080fd5b8535614c95816149a6565b945060208601356001600160401b0380821115614cb157600080fd5b614cbd89838a01614a5f565b9550604088013594506060880135915080821115614cda57600080fd5b50614ce788828901614ad3565b95989497509295608001359392505050565b606081526000614d0c6060830186614bf4565b8281036020840152614d1e8186614bf4565b915050826040830152949350505050565b60008060008060808587031215614d4557600080fd5b8435614d50816149a6565b935060208501356001600160401b0380821115614d6c57600080fd5b614d7888838901614a5f565b94506040870135915080821115614d8e57600080fd5b50614d9b87828801614ad3565b949793965093946060013593505050565b604080825283519082018190526000906020906060840190828701845b82811015614dee5781516001600160a01b031684529284019290840190600101614dc9565b50505083810382850152614c688186614bf4565b6000806000806000806000806000806101408b8d031215614e2257600080fd5b8a356001600160401b0380821115614e3957600080fd5b614e458e838f01614ad3565b9b5060208d01359a5060408d0135995060608d0135985060808d0135915080821115614e7057600080fd5b614e7c8e838f01614ad3565b975060a08d0135915080821115614e9257600080fd5b614e9e8e838f01614a5f565b965060c08d01359550614eb360e08e016149be565b94506101008d013593506101208d0135915080821115614ed257600080fd5b50614edf8d828e01614ad3565b9150509295989b9194979a5092959850565b8281526040602082015260006148356040830184614bf4565b60008060008060008060c08789031215614f2357600080fd5b8635955060208701356001600160401b0380821115614f4157600080fd5b614f4d8a838b01614a5f565b96506040890135915080821115614f6357600080fd5b50614f7089828a01614ad3565b945050606087013592506080870135915060a0870135614f8f816149a6565b809150509295509295509295565b6020815260006117de6020830184614bf4565b600080600080600060a08688031215614fc857600080fd5b85356001600160401b0380821115614fdf57600080fd5b614feb89838a01614a5f565b9650602088013591508082111561500157600080fd5b5061500e88828901614ad3565b945050604086013592506060860135615026816149a6565b949793965091946080013592915050565b60008060008060008060c0878903121561505057600080fd5b863561505b816149a6565b9550602087013561506b816149a6565b94506040870135935060608701356001600160401b038082111561508e57600080fd5b61509a8a838b01614a5f565b94506080890135935060a08901359150808211156150b757600080fd5b506150c489828a01614ad3565b9150509295509295509295565b6000806000806000806000806000806101408b8d0312156150f157600080fd5b8a35995060208b01356001600160401b038082111561510f57600080fd5b61511b8e838f01614a5f565b9a5060408d0135995061513060608e016149be565b985060808d013591508082111561514657600080fd5b506151538d828e01614ad3565b96505061516260a08c016149be565b945061517060c08c016149be565b935060e08b013592506101008b013591506101208b013590509295989b9194979a5092959850565b6040815260006151ab6040830185614bf4565b828103602084015261106f8185614bf4565b600080604083850312156151d057600080fd5b82356151db816149a6565b915060208301356151eb816149a6565b809150509250929050565b6000806000806080858703121561520c57600080fd5b84359350602085013561521e816149a6565b925060408501356001600160401b038082111561523a57600080fd5b61524688838901614a5f565b9350606087013591508082111561525c57600080fd5b5061526987828801614ad3565b91505092959194509250565b6000806000806080858703121561528b57600080fd5b8435615296816149a6565b935060208501356152a6816149a6565b925060408501356152b6816149a6565b9396929550929360600135925050565b600080604083850312156152d957600080fd5b82356001600160401b038111156152ef57600080fd5b6152fb85828601614a5f565b95602094909401359450505050565b6000806000806080858703121561532057600080fd5b843561532b816149a6565b9350602085013561521e816149a6565b600080600080600060a0868803121561535357600080fd5b85356001600160401b038082111561536a57600080fd5b61537689838a01614a5f565b9650602088013595506040880135915061538f826149a6565b909350606087013590808211156153a557600080fd5b6153b189838a01614ad3565b935060808801359150808211156153c757600080fd5b506153d488828901614ad3565b9150509295509295909350565b6040815260006153f46040830185614bf4565b90508260208301529392505050565b60006001600160401b0382111561541c5761541c6149ce565b50601f01601f191660200190565b60008060008060008060c0878903121561544357600080fd5b863561544e816149a6565b955060208701356001600160401b0381111561546957600080fd5b8701601f8101891361547a57600080fd5b8035615488614a8082615403565b8181528a602083850101111561549d57600080fd5b816020840160208301376000602083830101528097505050506154c2604088016149be565b93506154d0606088016149be565b92506080870135915060a087013590509295509295509295565b600080600080600080600080610100898b03121561550757600080fd5b88359750602089013596506040890135615520816149a6565b955060608901356001600160401b0381111561553b57600080fd5b6155478b828c01614a5f565b9550506080890135935060a089013561555f816149a6565b979a969950949793969295929450505060c08201359160e0013590565b60008060008060008060c0878903121561559557600080fd5b86356155a0816149a6565b955060208701356155b0816149a6565b945060408701356155c0816149a6565b959894975094956060810135955060808101359460a0909101359350915050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b808201808211156117e1576117e16155f7565b60005b8381101561563b578181015183820152602001615623565b50506000910152565b6000815180845261565c816020860160208601615620565b601f01601f19169290920160200192915050565b6020815260006117de6020830184615644565b6001600160a01b0391909116815260200190565b6000602082840312156156a957600080fd5b5051919050565b600082601f8301126156c157600080fd5b815160206156d1614a8083614a3c565b82815260059290921b840181019181810190868411156156f057600080fd5b8286015b84811015614ac8578051615707816149a6565b83529183019183016156f4565b600082601f83011261572557600080fd5b81516020615735614a8083614a3c565b82815260059290921b8401810191818101908684111561575457600080fd5b8286015b84811015614ac85780518352918301918301615758565b6000806040838503121561578257600080fd5b82516001600160401b038082111561579957600080fd5b6157a5868387016156b0565b935060208501519150808211156157bb57600080fd5b506157c885828601615714565b9150509250929050565b818103818111156117e1576117e16155f7565b80820281158282048414176117e1576117e16155f7565b60008261581957634e487b7160e01b600052601260045260246000fd5b500490565b60006020828403121561583057600080fd5b815161583b816149a6565b9392505050565b6000806040838503121561585557600080fd5b505080516020909101519092909150565b60006020828403121561587857600080fd5b8151801515811461583b57600080fd5b6080808252855190820181905260009060209060a0840190828901845b828110156158ca5781516001600160a01b0316845292840192908401906001016158a5565b5050508381038285015286518082528783019183019060005b818110156158ff578351835292840192918401916001016158e3565b50506001600160a01b0387166040860152925061591a915050565b821515606083015261106f565b60a08152600061593a60a0830188615644565b6001600160a01b03968716602084015260408301959095525091909316606082015260800191909152919050565b6000806000806080858703121561597e57600080fd5b84516001600160401b038082111561599557600080fd5b6159a1888389016156b0565b95506020915081870151818111156159b857600080fd5b6159c489828a01615714565b9550506040870151818111156159d957600080fd5b6159e589828a01615714565b9450506060870151818111156159fa57600080fd5b87019050601f81018813615a0d57600080fd5b8051615a1b614a8082614a3c565b81815260059190911b8201830190838101908a831115615a3a57600080fd5b928401925b82841015615a5857835182529284019290840190615a3f565b979a9699509497505050505050565b6001600160a01b039687168152948616602086015260408501939093529084166060840152608083015290911660a082015260c00190565b600060018201615ab157615ab16155f7565b5060010190565b600060208284031215615aca57600080fd5b815160ff8116811461583b57600080fd5b600181815b80851115615b16578160001904821115615afc57615afc6155f7565b80851615615b0957918102915b93841c9390800290615ae0565b509250929050565b600082615b2d575060016117e1565b81615b3a575060006117e1565b8160018114615b505760028114615b5a57615b76565b60019150506117e1565b60ff841115615b6b57615b6b6155f7565b50506001821b6117e1565b5060208310610133831016604e8410600b8410161715615b99575081810a6117e1565b615ba38383615adb565b8060001904821115615bb757615bb76155f7565b029392505050565b60006117de60ff841683615b1e565b60008060008060808587031215615be457600080fd5b505082516020840151604085015160609095015191969095509092509050565b600082601f830112615c1557600080fd5b8151615c23614a8082615403565b818152846020838601011115615c3857600080fd5b614835826020830160208701615620565b6000806040808486031215615c5d57600080fd5b83516001600160401b0380821115615c7457600080fd5b818601915086601f830112615c8857600080fd5b81516020615c98614a8083614a3c565b82815260079290921b8401810191818101908a841115615cb757600080fd5b948201945b83861015615d31576080868c031215615cd55760008081fd5b615cdd6149e4565b8651615ce8816149a6565b815286840151615cf7816149a6565b8185015286880151615d08816149a6565b81890152606087810151615d1b816149a6565b9082015282526080959095019490820190615cbc565b91890151919750909450505080831115615d4a57600080fd5b50506157c885828601615c04565b600081518084526020808501945080840160005b83811015614c2457815180516001600160a01b039081168952848201518116858a01526040808301518216908a0152606091820151169088015260809096019590820190600101615d6c565b6040815260006153f46040830185615d58565b606081526000615dde6060830186615d58565b60208301949094525060400152919050565b600080600060608486031215615e0557600080fd5b8351925060208401519150604084015190509250925092565b60008251615e30818460208701615620565b919091019291505056fea264697066735822122038fd3914b2677bba2e6573f0153afd36a928ceee1ac65e06df97eff0495f34c264736f6c63430008110033",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "calcInvestedAssets(address[],uint256[],uint256,ITetuConverter,mapping(address => uint256) storage)": {
        "details": "This is writable function because we need to update current balances in the internal protocols.",
        "returns": {
          "amountOut": "Invested asset amount under control (in terms of {asset})"
        }
      },
      "closePosition(ITetuConverter,address,address,uint256)": {
        "params": {
          "amountToRepay": "Amount to repay in terms of {borrowAsset}"
        },
        "returns": {
          "repaidAmountOut": "Amount that was actually repaid",
          "returnedAssetAmountOut": "Amount of collateral received back after repaying"
        }
      },
      "convertAfterWithdraw(ITetuConverter,ITetuLiquidator,uint256,address[],uint256,uint256[])": {
        "returns": {
          "collateralOut": "Total amount of collateral returned after closing positions",
          "repaidAmountsOut": "What amounts were spent in exchange of the {collateralOut}"
        }
      },
      "getLiquidityAmountRatio(uint256,mapping(address => uint256) storage,address,address[],uint256,ITetuConverter,uint256,uint256)": {
        "details": "This is a writable function with read-only behavior (because of the quote-call)",
        "params": {
          "baseAmounts_": "Available balances of the converted assets",
          "strategy_": "Address of the strategy",
          "targetAmount_": "Required amount of main asset to be withdrawn from the strategy                      0 - withdraw all"
        }
      },
      "getTokenAmounts(ITetuConverter,address[],uint256,uint256[],uint256)": {
        "params": {
          "thresholdMainAsset_": "Min allowed value of collateral in terms of main asset, 0 - use default min value"
        },
        "returns": {
          "borrowedAmounts": "Amounts borrowed for {spendCollateral}",
          "spentCollateral": "Total collateral amount spent for borrowing",
          "tokenAmountsOut": "Amounts available for deposit"
        }
      },
      "liquidate(ITetuLiquidator,address,address,uint256,uint256,uint256)": {
        "params": {
          "receivedAmountOut": "Amount of {tokenOut_} has been returned by the liquidator",
          "spentAmountIn": "Amount of {tokenIn} has been consumed by the liquidator"
        }
      },
      "openPosition(ITetuConverter,bytes,address,address,uint256,uint256)": {
        "params": {
          "amountIn_": "Meaning depends on {entryData_}.",
          "entryData_": "Encoded entry kind and additional params if necessary (set of params depends on the kind)                   See TetuConverter\\EntryKinds.sol\\ENTRY_KIND_XXX constants for possible entry kinds                   0 or empty: Amount of collateral {amountIn_} is fixed, amount of borrow should be max possible."
        }
      },
      "prepareRewardsList(ITetuConverter,address[],uint256[],mapping(address => uint256) storage)": {
        "details": "The post-processing is rewards conversion to the main asset",
        "params": {
          "amountsOut": "Amounts of available rewards",
          "amounts_": "Amounts of rewards claimed from the internal pool",
          "tokensOut": "List of available rewards - not zero amounts, reward tokens don't repeat",
          "tokens_": "List of rewards claimed from the internal pool"
        }
      },
      "recycle(address,uint256,address[],ITetuLiquidator,mapping(address => uint256) storage,mapping(address => uint256) storage,address[],uint256[])": {
        "params": {
          "baseAmounts_": "Base amounts for rewards tokens                     The base amounts allow to separate just received and previously received rewards.",
          "liquidationThresholds_": "Liquidation thresholds for rewards tokens",
          "rewardAmounts_": "Amounts of {rewardTokens_}; we assume, there are no zero amounts here",
          "rewardTokens_": "Full list of reward tokens received from tetuConverter and depositor",
          "tokens_": "tokens received from {_depositorPoolAssets}"
        },
        "returns": {
          "amountsToForward": "Amounts to be sent to forwarder",
          "receivedAmounts": "Received amounts of the tokens         This array has +1 item at the end: received amount of the main asset                                            there was no possibility to use separate var for it, stack too deep",
          "spentAmounts": "Spent amounts of the tokens"
        }
      },
      "sendPerformanceFee(uint256,address,address[],uint256[])": {
        "params": {
          "performanceFee_": "Max is FEE_DENOMINATOR"
        },
        "returns": {
          "performanceAmounts": "Theses amounts were sent to {performanceReceiver_}",
          "rewardAmounts": "= rewardAmounts_ - performanceAmounts"
        }
      },
      "swapToGivenAmount(uint256,address[],uint256,address,uint256[],ITetuConverter,ITetuLiquidator,uint256,uint256,mapping(address => uint256) storage)": {
        "params": {
          "indexTargetAsset_": "Index of target asset in tokens_ array",
          "liquidationThresholdForTargetAsset_": "Liquidation thresholds for the target asset",
          "overswap_": "Allow to swap more then required (i.e. 1_000 => +1%)                  to avoid additional swap if the swap return amount a bit less than we expected",
          "targetAmount_": "Required amount of tokens[indexTheAsset_] that should be received by swap(s)",
          "tokens_": "tokens received from {_depositorPoolAssets}",
          "underlying_": "Index of underlying",
          "withdrawnAmounts_": "Amounts withdrawn from the pool"
        },
        "returns": {
          "spentAmounts": "Any amounts spent during the swaps",
          "withdrawnAmountsOut": "withdrawnAmounts + any amounts received during the swaps"
        }
      }
    },
    "version": 1
  },
  "userdoc": {
    "events": {
      "ClosePosition(address,address,uint256,address,uint256,uint256)": {
        "notice": "Some borrow(s) was/were repaid"
      },
      "Liquidation(address,address,uint256,uint256,uint256)": {
        "notice": "A liquidation was made"
      },
      "OpenPosition(address,address,uint256,address,uint256,address)": {
        "notice": "A borrow was made"
      }
    },
    "kind": "user",
    "methods": {
      "calcInvestedAssets(address[],uint256[],uint256,ITetuConverter,mapping(address => uint256) storage)": {
        "notice": "Calculate amount we will receive when we withdraw all from pool"
      },
      "closePosition(ITetuConverter,address,address,uint256)": {
        "notice": "Close the given position, pay {amountToRepay}, return collateral amount in result"
      },
      "convertAfterWithdraw(ITetuConverter,ITetuLiquidator,uint256,address[],uint256,uint256[])": {
        "notice": "Convert {p.amountsToConvert_} to the main asset"
      },
      "getAssetPriceFromConverter(ITetuConverter,address)": {
        "notice": "OTHER HELPERS"
      },
      "getAvailableBalances(address[],uint256)": {
        "notice": "Get balances of the {tokens_} except balance of the token at {indexAsset} position"
      },
      "getCollaterals(uint256,address[],uint256[],uint256,uint256,IPriceOracle)": {
        "notice": "For each {token_} calculate a part of {amount_} to be used as collateral according to the weights.         I.e. we have 300 USDC, we need to split it on 100 USDC, 100 USDT, 100 DAI         USDC is main asset, USDT and DAI should be borrowed. We check amounts of USDT and DAI on the balance         and return collaterals reduced on that amounts. For main asset, we return full amount always (100 USDC)."
      },
      "getLiquidityAmountRatio(uint256,mapping(address => uint256) storage,address,address[],uint256,ITetuConverter,uint256,uint256)": {
        "notice": "Get a ratio to calculate amount of liquidity that should be withdrawn from the pool to get {targetAmount_}               liquidityAmount = _depositorLiquidity() * {liquidityRatioOut} / 1e18         User needs to withdraw {targetAmount_} in main asset.         There are two kinds of available liquidity:         1) liquidity in the pool - {depositorLiquidity_}         2) Converted amounts on balance of the strategy - {baseAmounts_}         To withdraw {targetAmount_} we need         1) Reconvert converted amounts back to main asset         2) IF result amount is not necessary - withdraw some liquidity from the pool            and also convert it to the main asset."
      },
      "getTokenAmounts(ITetuConverter,address[],uint256,uint256[],uint256)": {
        "notice": "Make borrow and save amounts of tokens available for deposit to tokenAmounts"
      },
      "liquidate(ITetuLiquidator,address,address,uint256,uint256,uint256)": {
        "notice": "Make liquidation if estimated amountOut exceeds the given threshold"
      },
      "openPosition(ITetuConverter,bytes,address,address,uint256,uint256)": {
        "notice": "Make one or several borrow necessary to supply/borrow required {amountIn_} according to {entryData_}         Max possible collateral should be approved before calling of this function."
      },
      "postWithdrawActions(uint256[],uint256,uint256,uint256,uint256[],address[],uint256,ITetuConverter,uint256,uint256[])": {
        "notice": "WITHDRAW HELPERS"
      },
      "prepareRewardsList(ITetuConverter,address[],uint256[],mapping(address => uint256) storage)": {
        "notice": "Claim rewards from tetuConverter, generate result list of all available rewards"
      },
      "recycle(address,uint256,address[],ITetuLiquidator,mapping(address => uint256) storage,mapping(address => uint256) storage,address[],uint256[])": {
        "notice": "Recycle the amounts: liquidate a part of each amount, send the other part to the forwarder. We have two kinds of rewards: 1) rewards in depositor's assets (the assets returned by _depositorPoolAssets) 2) any other rewards All received rewards are immediately \"recycled\". It means, they are divided on two parts: to forwarder, to compound   Compound-part of Rewards-2 can be liquidated   Compound part of Rewards-1 should be just added to baseAmounts All forwarder-parts are returned in amountsToForward and should be transferred to the forwarder."
      },
      "sendPerformanceFee(uint256,address,address[],uint256[])": {
        "notice": "Send {performanceFee_} of {rewardAmounts_} to {performanceReceiver}"
      },
      "sendTokensToForwarder(address,address,address[],uint256[])": {
        "notice": "sendTokensToForwarder"
      },
      "swapToGivenAmount(uint256,address[],uint256,address,uint256[],ITetuConverter,ITetuLiquidator,uint256,uint256,mapping(address => uint256) storage)": {
        "notice": "Swap available {amounts_} of {tokens_} to receive {targetAmount_} of {tokens[indexTheAsset_]}"
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [],
    "types": null
  }
}