{
  "address": "0x11c2CCbB09De90EB8720FC821fA76A98AE15A665",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "strategy_",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "VERSION",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "acceptOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "call",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "operator",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "status",
          "type": "bool"
        }
      ],
      "name": "changeOperatorStatus",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "checker",
      "outputs": [
        {
          "internalType": "bool",
          "name": "canExec",
          "type": "bool"
        },
        {
          "internalType": "bytes",
          "name": "execPayload",
          "type": "bytes"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "delay",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "lastRebalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "value",
          "type": "address"
        }
      ],
      "name": "offerOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "operators",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "pendingOwner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        }
      ],
      "name": "setDelay",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "strategy",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0xa3e269d0e16e359e1bf7e9e6c14ffcb68ad235aee1e5e11a13ddc4f1ce090ef7",
  "receipt": {
    "to": null,
    "from": "0xbbbbb8C4364eC2ce52c59D2Ed3E56F307E529a94",
    "contractAddress": "0x11c2CCbB09De90EB8720FC821fA76A98AE15A665",
    "transactionIndex": 48,
    "gasUsed": "868058",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000008000000000000000000000000000000080400000000000000000000000800000000000800000000100000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000000000000080000200000000000000000000000000000000000000000000000000000000000004000000000000000000001000000000000008000000000000000100000000000000000000000000000000000000000000000000000000000000000000000100000",
    "blockHash": "0x9bbf0368fa980055f7e71815772a67b7ad7a66553e9e7eb0402a84714b69ca4c",
    "transactionHash": "0xa3e269d0e16e359e1bf7e9e6c14ffcb68ad235aee1e5e11a13ddc4f1ce090ef7",
    "logs": [
      {
        "transactionIndex": 48,
        "blockNumber": 46367175,
        "transactionHash": "0xa3e269d0e16e359e1bf7e9e6c14ffcb68ad235aee1e5e11a13ddc4f1ce090ef7",
        "address": "0x0000000000000000000000000000000000001010",
        "topics": [
          "0x4dfe1bbbcf077ddc3e01291eea2d5c70c2b422b415d95645b9adcfd678cb1d63",
          "0x0000000000000000000000000000000000000000000000000000000000001010",
          "0x000000000000000000000000bbbbb8c4364ec2ce52c59d2ed3e56f307e529a94",
          "0x000000000000000000000000f0245f6251bef9447a08766b9da2b07b28ad80b0"
        ],
        "data": "0x000000000000000000000000000000000000000000000000005f9a5196c47c0000000000000000000000000000000000000000000000000a347bc1c968b00f1d00000000000000000000000000000000000000000000076e64739a98bc3d5b7700000000000000000000000000000000000000000000000a341c2777d1eb931d00000000000000000000000000000000000000000000076e64d334ea5301d777",
        "logIndex": 371,
        "blockHash": "0x9bbf0368fa980055f7e71815772a67b7ad7a66553e9e7eb0402a84714b69ca4c"
      }
    ],
    "blockNumber": 46367175,
    "cumulativeGasUsed": "25726521",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x6565e8136CD415F053C81Ff3656E72574F726a5E"
  ],
  "numDeployments": 1,
  "solcInputHash": "699971424c6faf9fe4f214f3cdddff07",
  "metadata": "{\"compiler\":{\"version\":\"0.8.17+commit.8df45f5f\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"strategy_\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"VERSION\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"acceptOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"call\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"status\",\"type\":\"bool\"}],\"name\":\"changeOperatorStatus\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"checker\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"canExec\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"execPayload\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"delay\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lastRebalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"value\",\"type\":\"address\"}],\"name\":\"offerOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"operators\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pendingOwner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"setDelay\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"strategy\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"a17\",\"kind\":\"dev\",\"methods\":{},\"title\":\"Gelato resolver for rebalancing v2 strategies\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/tools/RebalanceResolver.sol\":\"RebalanceResolver\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":150},\"remappings\":[]},\"sources\":{\"@tetu_io/tetu-contracts-v2/contracts/interfaces/ISplitter.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.17;\\n\\ninterface ISplitter {\\n\\n  function init(address controller_, address _asset, address _vault) external;\\n\\n  // *************** ACTIONS **************\\n\\n  function withdrawAllToVault() external;\\n\\n  function withdrawToVault(uint256 amount) external;\\n\\n  function coverPossibleStrategyLoss(uint earned, uint lost) external;\\n\\n  function doHardWork() external;\\n\\n  function investAll() external;\\n\\n  // **************** VIEWS ***************\\n\\n  function asset() external view returns (address);\\n\\n  function vault() external view returns (address);\\n\\n  function totalAssets() external view returns (uint256);\\n\\n  function isHardWorking() external view returns (bool);\\n\\n  function strategies(uint i) external view returns (address);\\n\\n  function strategiesLength() external view returns (uint);\\n\\n  function HARDWORK_DELAY() external view returns (uint);\\n\\n  function lastHardWorks(address strategy) external view returns (uint);\\n\\n  function pausedStrategies(address strategy) external view returns (bool);\\n\\n  function pauseInvesting(address strategy) external;\\n\\n  function continueInvesting(address strategy, uint apr) external;\\n\\n}\\n\",\"keccak256\":\"0x68f37a5089c98097159e7f18ef04c42d15e10e6c11602e47bc6092708c11e5fc\",\"license\":\"MIT\"},\"@tetu_io/tetu-contracts-v2/contracts/interfaces/IStrategyV2.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.17;\\n\\ninterface IStrategyV2 {\\n\\n  function NAME() external view returns (string memory);\\n\\n  function strategySpecificName() external view returns (string memory);\\n\\n  function PLATFORM() external view returns (string memory);\\n\\n  function STRATEGY_VERSION() external view returns (string memory);\\n\\n  function asset() external view returns (address);\\n\\n  function splitter() external view returns (address);\\n\\n  function compoundRatio() external view returns (uint);\\n\\n  function totalAssets() external view returns (uint);\\n\\n  /// @dev Usually, indicate that claimable rewards have reasonable amount.\\n  function isReadyToHardWork() external view returns (bool);\\n\\n  /// @return strategyLoss Loss should be covered from Insurance\\n  function withdrawAllToSplitter() external returns (uint strategyLoss);\\n\\n  /// @return strategyLoss Loss should be covered from Insurance\\n  function withdrawToSplitter(uint amount) external returns (uint strategyLoss);\\n\\n  /// @notice Stakes everything the strategy holds into the reward pool.\\n  /// @param amount_ Amount transferred to the strategy balance just before calling this function\\n  /// @param updateTotalAssetsBeforeInvest_ Recalculate total assets amount before depositing.\\n  ///                                       It can be false if we know exactly, that the amount is already actual.\\n  /// @return strategyLoss Loss should be covered from Insurance\\n  function investAll(\\n    uint amount_,\\n    bool updateTotalAssetsBeforeInvest_\\n  ) external returns (\\n    uint strategyLoss\\n  );\\n\\n  function doHardWork() external returns (uint earned, uint lost);\\n\\n  function setCompoundRatio(uint value) external;\\n\\n  /// @notice Max amount that can be deposited to the strategy (its internal capacity), see SCB-593.\\n  ///         0 means no deposit is allowed at this moment\\n  function capacity() external view returns (uint);\\n\\n  /// @notice {performanceFee}% of total profit is sent to the {performanceReceiver} before compounding\\n  function performanceReceiver() external view returns (address);\\n\\n  /// @notice A percent of total profit that is sent to the {performanceReceiver} before compounding\\n  /// @dev use FEE_DENOMINATOR\\n  function performanceFee() external view returns (uint);\\n}\\n\",\"keccak256\":\"0xc7dac6097df7310b510f1027ef9c1bd3ccd6a202ca69582f68233ee798f7c312\",\"license\":\"MIT\"},\"contracts/interfaces/IPairBasedDefaultStateProvider.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.17;\\n\\n/// @notice Provides access to getDefaultState() of a pair-based strategy\\ninterface IPairBasedDefaultStateProvider {\\n  /// @notice Returns the current state of the contract\\n  /// @return addr [tokenA, tokenB, pool, profitHolder]\\n  /// @return tickData [tickSpacing, lowerTick, upperTick, rebalanceTickRange]\\n  /// @return nums [totalLiquidity, fuse-status-tokenA, fuse-status-tokenB, withdrawDone, 4 thresholds of token A, 4 thresholds of token B]\\n  /// @return boolValues [isStablePool, depositorSwapTokens]\\n  function getDefaultState() external view returns (\\n    address[] memory addr,\\n    int24[] memory tickData,\\n    uint[] memory nums,\\n    bool[] memory boolValues\\n  );\\n}\",\"keccak256\":\"0x611b19b3cce34f1b2d2ff1091638ca464be36212525d9ba7032feea98c385b49\",\"license\":\"MIT\"},\"contracts/interfaces/IRebalancingV2Strategy.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.17;\\n\\nimport \\\"./IPairBasedDefaultStateProvider.sol\\\";\\nimport \\\"./ISetupPairBasedStrategy.sol\\\";\\n\\ninterface IRebalancingV2Strategy is IPairBasedDefaultStateProvider, ISetupPairBasedStrategy {\\n  function needRebalance() external view returns (bool);\\n\\n  /// @notice Rebalance using borrow/repay only, no swaps\\n  /// @param checkNeedRebalance Revert if rebalance is not needed. Pass false to deposit after withdrawByAgg-iterations\\n  function rebalanceNoSwaps(bool checkNeedRebalance) external;\\n\\n  /// @notice Get info about a swap required by next call of {withdrawByAggStep} within the given plan\\n  function quoteWithdrawByAgg(bytes memory planEntryData) external returns (address tokenToSwap, uint amountToSwap);\\n\\n  /// @notice Make withdraw iteration: [exit from the pool], [make 1 swap], [repay a debt], [enter to the pool]\\n  ///         Typical sequence of the actions is: exit from the pool, make 1 swap, repay 1 debt.\\n  ///         You can enter to the pool if you are sure that you won't have borrow + repay on AAVE3 in the same block.\\n  /// @dev All swap-by-agg data should be prepared using {quoteWithdrawByAgg} off-chain\\n  /// @param tokenToSwap_ What token should be swapped to other\\n  /// @param aggregator_ Aggregator that should be used on next swap. 0 - use liquidator\\n  /// @param amountToSwap_ Amount that should be swapped. 0 - no swap\\n  /// @param swapData Swap rote that was prepared off-chain.\\n  /// @param planEntryData PLAN_XXX + additional data, see IterationPlanKinds\\n  /// @param entryToPool Allow to enter to the pool at the end. Use false if you are going to make several iterations.\\n  ///                    It's possible to enter back to the pool by calling {rebalanceNoSwaps} at any moment\\n  ///                    0 - not allowed, 1 - allowed, 2 - allowed only if completed\\n  /// @return completed All debts were closed, leftovers were swapped to the required proportions.\\n  function withdrawByAggStep(\\n    address tokenToSwap_,\\n    address aggregator_,\\n    uint amountToSwap_,\\n    bytes memory swapData,\\n    bytes memory planEntryData,\\n    uint entryToPool\\n  ) external returns (bool completed);\\n\\n  /// @notice Calculate proportions of [underlying, not-underlying] required by the internal pool of the strategy\\n  /// @return Proportion of the not-underlying [0...1e18]\\n  function getPropNotUnderlying18() external view returns (uint);\\n}\\n\",\"keccak256\":\"0xcf0141c4f2e5d86c3c72d2d3753ff44aebb0f0b3d5083a30e15dfa6e279c1358\",\"license\":\"MIT\"},\"contracts/interfaces/ISetupPairBasedStrategy.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.17;\\n\\n/// @notice Functions to initialize pair-based strategies\\ninterface ISetupPairBasedStrategy {\\n\\n  /// @notice Manually set status of the fuse\\n  /// @param status See PairBasedStrategyLib.FuseStatus enum for possile values\\n  /// @param index01 0 - token A, 1 - token B\\n  function setFuseStatus(uint index01, uint status) external;\\n\\n  /// @notice Set thresholds for the fuse: [LOWER_LIMIT_ON, LOWER_LIMIT_OFF, UPPER_LIMIT_ON, UPPER_LIMIT_OFF]\\n  ///         Example: [0.9, 0.92, 1.08, 1.1]\\n  ///         Price falls below 0.9 - fuse is ON. Price rises back up to 0.92 - fuse is OFF.\\n  ///         Price raises more and reaches 1.1 - fuse is ON again. Price falls back and reaches 1.08 - fuse OFF again.\\n  /// @param values Price thresholds: [LOWER_LIMIT_ON, LOWER_LIMIT_OFF, UPPER_LIMIT_ON, UPPER_LIMIT_OFF]\\n  /// @param index01 0 - token A, 1 - token B\\n  function setFuseThresholds(uint index01, uint[4] memory values) external;\\n  function setStrategyProfitHolder(address strategyProfitHolder) external;\\n\\n  /// @notice Set withdrawDone value.\\n  ///         When a fuse was triggered ON, all debts should be closed and asset should be converted to underlying.\\n  ///         After completion of the conversion withdrawDone can be set to 1.\\n  ///         So, {getFuseStatus} will return  withdrawDone=1 and you will know, that withdraw is not required\\n  /// @param done 0 - full withdraw required, 1 - full withdraw was done\\n  function setWithdrawDone(uint done) external;\\n}\\n\",\"keccak256\":\"0x4ac81cbc4c7c53b93560f76acc99ccb1a259388f1302430c9734a6fa0a47fab8\",\"license\":\"MIT\"},\"contracts/tools/RebalanceResolver.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.17;\\n\\nimport \\\"@tetu_io/tetu-contracts-v2/contracts/interfaces/ISplitter.sol\\\";\\nimport \\\"@tetu_io/tetu-contracts-v2/contracts/interfaces/IStrategyV2.sol\\\";\\nimport \\\"../interfaces/IRebalancingV2Strategy.sol\\\";\\n\\n/// @title Gelato resolver for rebalancing v2 strategies\\n/// @author a17\\ncontract RebalanceResolver {\\n  // --- CONSTANTS ---\\n\\n  string public constant VERSION = \\\"3.0.0\\\";\\n\\n  // --- VARIABLES ---\\n\\n  address public immutable strategy;\\n  address public owner;\\n  address public pendingOwner;\\n  uint public delay;\\n  uint public lastRebalance;\\n  mapping(address => bool) public operators;\\n\\n  // --- INIT ---\\n\\n  constructor(address strategy_) {\\n    owner = msg.sender;\\n    delay = 1 minutes;\\n    strategy = strategy_;\\n  }\\n\\n  modifier onlyOwner() {\\n    require(msg.sender == owner, \\\"!owner\\\");\\n    _;\\n  }\\n\\n  // --- OWNER FUNCTIONS ---\\n\\n  function offerOwnership(address value) external onlyOwner {\\n    pendingOwner = value;\\n  }\\n\\n  function acceptOwnership() external {\\n    require(msg.sender == pendingOwner, \\\"!pendingOwner\\\");\\n    owner = pendingOwner;\\n    pendingOwner = address(0);\\n  }\\n\\n  function setDelay(uint value) external onlyOwner {\\n    delay = value;\\n  }\\n\\n  function changeOperatorStatus(address operator, bool status) external onlyOwner {\\n    operators[operator] = status;\\n  }\\n\\n  // --- MAIN LOGIC ---\\n\\n  function call() external {\\n    require(operators[msg.sender], \\\"!operator\\\");\\n\\n    try IRebalancingV2Strategy(strategy).rebalanceNoSwaps(true) {} catch Error(string memory _err) {\\n      revert(string(abi.encodePacked(\\\"Strategy error: 0x\\\", _toAsciiString(strategy), \\\" \\\", _err)));\\n    } catch (bytes memory _err) {\\n      revert(string(abi.encodePacked(\\\"Strategy low-level error: 0x\\\", _toAsciiString(strategy), \\\" \\\", string(_err))));\\n    }\\n    lastRebalance = block.timestamp;\\n  }\\n\\n  function checker() external view returns (bool canExec, bytes memory execPayload) {\\n    address strategy_ = strategy;\\n    ISplitter splitter = ISplitter(IStrategyV2(strategy_).splitter());\\n    if (\\n      !splitter.pausedStrategies(strategy_)\\n      && lastRebalance + delay < block.timestamp\\n      && IRebalancingV2Strategy(strategy_).needRebalance()\\n    ) {\\n      return (true, abi.encodeWithSelector(RebalanceResolver.call.selector));\\n    }\\n\\n    return (false, bytes(\\\"Not ready to rebalance\\\"));\\n  }\\n\\n  function _toAsciiString(address x) internal pure returns (string memory) {\\n    bytes memory s = new bytes(40);\\n    for (uint i = 0; i < 20; i++) {\\n      bytes1 b = bytes1(uint8(uint(uint160(x)) / (2 ** (8 * (19 - i)))));\\n      bytes1 hi = bytes1(uint8(b) / 16);\\n      bytes1 lo = bytes1(uint8(b) - 16 * uint8(hi));\\n      s[2 * i] = _char(hi);\\n      s[2 * i + 1] = _char(lo);\\n    }\\n    return string(s);\\n  }\\n\\n  function _char(bytes1 b) internal pure returns (bytes1 c) {\\n    if (uint8(b) < 10) return bytes1(uint8(b) + 0x30);\\n    else return bytes1(uint8(b) + 0x57);\\n  }\\n}\\n\",\"keccak256\":\"0xf036b47d670ccfcfffe929648ee59afd9a4fcfc100a9b35fe4c91152ed4a6cdf\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60a060405234801561001057600080fd5b50604051610ea9380380610ea983398101604081905261002f91610057565b600080546001600160a01b03191633179055603c6002556001600160a01b0316608052610087565b60006020828403121561006957600080fd5b81516001600160a01b038116811461008057600080fd5b9392505050565b608051610deb6100be6000396000818161018401528181610279015281816103060152818161039901526104ef0152610deb6000f3fe608060405234801561001057600080fd5b50600436106100bf5760003560e01c80638da5cb5b1161007c5780638da5cb5b146101415780638e3e92f21461016c578063a8c62e761461017f578063cf5303cf146101a6578063e177246e146101bc578063e30c3978146101cf578063ffa1ad74146101e257600080fd5b8063106b9ca1146100c457806313e7c9d8146100e057806328b5e32b146101135780636575c4581461011d5780636a42b8f81461013057806379ba509714610139575b600080fd5b6100cd60035481565b6040519081526020015b60405180910390f35b6101036100ee36600461089f565b60046020526000908152604090205460ff1681565b60405190151581526020016100d7565b61011b610213565b005b61011b61012b3660046108d1565b6103d5565b6100cd60025481565b61011b61042a565b600054610154906001600160a01b031681565b6040516001600160a01b0390911681526020016100d7565b61011b61017a36600461089f565b61049b565b6101547f000000000000000000000000000000000000000000000000000000000000000081565b6101ae6104e7565b6040516100d792919061095a565b61011b6101ca36600461097d565b6106db565b600154610154906001600160a01b031681565b610206604051806040016040528060058152602001640332e302e360dc1b81525081565b6040516100d79190610996565b3360009081526004602052604090205460ff166102635760405162461bcd60e51b815260206004820152600960248201526810b7b832b930ba37b960b91b60448201526064015b60405180910390fd5b604051630e96e54f60e11b8152600160048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690631d2dca9e90602401600060405180830381600087803b1580156102c557600080fd5b505af19250505080156102d6575060015b6103cf576102e26109a9565b806308c379a00361036257506102f6610a00565b806103015750610364565b61032a7f000000000000000000000000000000000000000000000000000000000000000061070a565b8160405160200161033c929190610a8a565b60408051601f198184030181529082905262461bcd60e51b825261025a91600401610996565b505b3d80801561038e576040519150601f19603f3d011682016040523d82523d6000602084013e610393565b606091505b506103bd7f000000000000000000000000000000000000000000000000000000000000000061070a565b8160405160200161033c929190610ae4565b42600355565b6000546001600160a01b031633146103ff5760405162461bcd60e51b815260040161025a90610b49565b6001600160a01b03919091166000908152600460205260409020805460ff1916911515919091179055565b6001546001600160a01b031633146104745760405162461bcd60e51b815260206004820152600d60248201526c10b832b73234b733a7bbb732b960991b604482015260640161025a565b60018054600080546001600160a01b03199081166001600160a01b03841617909155169055565b6000546001600160a01b031633146104c55760405162461bcd60e51b815260040161025a90610b49565b600180546001600160a01b0319166001600160a01b0392909216919091179055565b6000606060007f000000000000000000000000000000000000000000000000000000000000000090506000816001600160a01b0316633cd8045e6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610550573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105749190610b69565b604051630150908f60e31b81526001600160a01b03848116600483015291925090821690630a84847890602401602060405180830381865afa1580156105be573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105e29190610b86565b1580156105fd5750426002546003546105fb9190610bb9565b105b80156106665750816001600160a01b031663ffb86c6a6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610642573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106669190610b86565b156106a05750506040805160048152602481019091526020810180516001600160e01b03166328b5e32b60e01b1790526001939092509050565b6000604051806040016040528060168152602001754e6f7420726561647920746f20726562616c616e636560501b8152509350935050509091565b6000546001600160a01b031633146107055760405162461bcd60e51b815260040161025a90610b49565b600255565b60408051602880825260608281019093526000919060208201818036833701905050905060005b601481101561084a576000610747826013610bd2565b610752906008610be5565b61075d906002610ce0565b610770906001600160a01b038716610d02565b60f81b9050600060108260f81c6107879190610d16565b60f81b905060008160f81c601061079e9190610d38565b8360f81c6107ac9190610d54565b60f81b90506107ba82610851565b856107c6866002610be5565b815181106107d6576107d6610d6d565b60200101906001600160f81b031916908160001a9053506107f681610851565b85610802866002610be5565b61080d906001610bb9565b8151811061081d5761081d610d6d565b60200101906001600160f81b031916908160001a905350505050808061084290610d83565b915050610731565b5092915050565b6000600a60f883901c10156108785761086f60f883901c6030610d9c565b60f81b92915050565b61086f60f883901c6057610d9c565b6001600160a01b038116811461089c57600080fd5b50565b6000602082840312156108b157600080fd5b81356108bc81610887565b9392505050565b801515811461089c57600080fd5b600080604083850312156108e457600080fd5b82356108ef81610887565b915060208301356108ff816108c3565b809150509250929050565b60005b8381101561092557818101518382015260200161090d565b50506000910152565b6000815180845261094681602086016020860161090a565b601f01601f19169290920160200192915050565b8215158152604060208201526000610975604083018461092e565b949350505050565b60006020828403121561098f57600080fd5b5035919050565b6020815260006108bc602083018461092e565b600060033d11156109c25760046000803e5060005160e01c5b90565b601f8201601f1916810167ffffffffffffffff811182821017156109f957634e487b7160e01b600052604160045260246000fd5b6040525050565b600060443d1015610a0e5790565b6040516003193d81016004833e81513d67ffffffffffffffff8160248401118184111715610a3e57505050505090565b8285019150815181811115610a565750505050505090565b843d8701016020828501011115610a705750505050505090565b610a7f602082860101876109c5565b509095945050505050565b710a6e8e4c2e8cacef240cae4e4dee4744060f60731b815260008351610ab781601285016020880161090a565b600160fd1b6012918401918201528351610ad881601384016020880161090a565b01601301949350505050565b7f5374726174656779206c6f772d6c6576656c206572726f723a20307800000000815260008351610b1c81601c85016020880161090a565b600160fd1b601c918401918201528351610b3d81601d84016020880161090a565b01601d01949350505050565b60208082526006908201526510b7bbb732b960d11b604082015260600190565b600060208284031215610b7b57600080fd5b81516108bc81610887565b600060208284031215610b9857600080fd5b81516108bc816108c3565b634e487b7160e01b600052601160045260246000fd5b80820180821115610bcc57610bcc610ba3565b92915050565b81810381811115610bcc57610bcc610ba3565b8082028115828204841417610bcc57610bcc610ba3565b600181815b80851115610c37578160001904821115610c1d57610c1d610ba3565b80851615610c2a57918102915b93841c9390800290610c01565b509250929050565b600082610c4e57506001610bcc565b81610c5b57506000610bcc565b8160018114610c715760028114610c7b57610c97565b6001915050610bcc565b60ff841115610c8c57610c8c610ba3565b50506001821b610bcc565b5060208310610133831016604e8410600b8410161715610cba575081810a610bcc565b610cc48383610bfc565b8060001904821115610cd857610cd8610ba3565b029392505050565b60006108bc8383610c3f565b634e487b7160e01b600052601260045260246000fd5b600082610d1157610d11610cec565b500490565b600060ff831680610d2957610d29610cec565b8060ff84160491505092915050565b60ff818116838216029081169081811461084a5761084a610ba3565b60ff8281168282160390811115610bcc57610bcc610ba3565b634e487b7160e01b600052603260045260246000fd5b600060018201610d9557610d95610ba3565b5060010190565b60ff8181168382160190811115610bcc57610bcc610ba356fea2646970667358221220acc7e4137122bf1bb6d70c452208e01df130448863cb5d84e5a35f851616780064736f6c63430008110033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100bf5760003560e01c80638da5cb5b1161007c5780638da5cb5b146101415780638e3e92f21461016c578063a8c62e761461017f578063cf5303cf146101a6578063e177246e146101bc578063e30c3978146101cf578063ffa1ad74146101e257600080fd5b8063106b9ca1146100c457806313e7c9d8146100e057806328b5e32b146101135780636575c4581461011d5780636a42b8f81461013057806379ba509714610139575b600080fd5b6100cd60035481565b6040519081526020015b60405180910390f35b6101036100ee36600461089f565b60046020526000908152604090205460ff1681565b60405190151581526020016100d7565b61011b610213565b005b61011b61012b3660046108d1565b6103d5565b6100cd60025481565b61011b61042a565b600054610154906001600160a01b031681565b6040516001600160a01b0390911681526020016100d7565b61011b61017a36600461089f565b61049b565b6101547f000000000000000000000000000000000000000000000000000000000000000081565b6101ae6104e7565b6040516100d792919061095a565b61011b6101ca36600461097d565b6106db565b600154610154906001600160a01b031681565b610206604051806040016040528060058152602001640332e302e360dc1b81525081565b6040516100d79190610996565b3360009081526004602052604090205460ff166102635760405162461bcd60e51b815260206004820152600960248201526810b7b832b930ba37b960b91b60448201526064015b60405180910390fd5b604051630e96e54f60e11b8152600160048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690631d2dca9e90602401600060405180830381600087803b1580156102c557600080fd5b505af19250505080156102d6575060015b6103cf576102e26109a9565b806308c379a00361036257506102f6610a00565b806103015750610364565b61032a7f000000000000000000000000000000000000000000000000000000000000000061070a565b8160405160200161033c929190610a8a565b60408051601f198184030181529082905262461bcd60e51b825261025a91600401610996565b505b3d80801561038e576040519150601f19603f3d011682016040523d82523d6000602084013e610393565b606091505b506103bd7f000000000000000000000000000000000000000000000000000000000000000061070a565b8160405160200161033c929190610ae4565b42600355565b6000546001600160a01b031633146103ff5760405162461bcd60e51b815260040161025a90610b49565b6001600160a01b03919091166000908152600460205260409020805460ff1916911515919091179055565b6001546001600160a01b031633146104745760405162461bcd60e51b815260206004820152600d60248201526c10b832b73234b733a7bbb732b960991b604482015260640161025a565b60018054600080546001600160a01b03199081166001600160a01b03841617909155169055565b6000546001600160a01b031633146104c55760405162461bcd60e51b815260040161025a90610b49565b600180546001600160a01b0319166001600160a01b0392909216919091179055565b6000606060007f000000000000000000000000000000000000000000000000000000000000000090506000816001600160a01b0316633cd8045e6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610550573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105749190610b69565b604051630150908f60e31b81526001600160a01b03848116600483015291925090821690630a84847890602401602060405180830381865afa1580156105be573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105e29190610b86565b1580156105fd5750426002546003546105fb9190610bb9565b105b80156106665750816001600160a01b031663ffb86c6a6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610642573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106669190610b86565b156106a05750506040805160048152602481019091526020810180516001600160e01b03166328b5e32b60e01b1790526001939092509050565b6000604051806040016040528060168152602001754e6f7420726561647920746f20726562616c616e636560501b8152509350935050509091565b6000546001600160a01b031633146107055760405162461bcd60e51b815260040161025a90610b49565b600255565b60408051602880825260608281019093526000919060208201818036833701905050905060005b601481101561084a576000610747826013610bd2565b610752906008610be5565b61075d906002610ce0565b610770906001600160a01b038716610d02565b60f81b9050600060108260f81c6107879190610d16565b60f81b905060008160f81c601061079e9190610d38565b8360f81c6107ac9190610d54565b60f81b90506107ba82610851565b856107c6866002610be5565b815181106107d6576107d6610d6d565b60200101906001600160f81b031916908160001a9053506107f681610851565b85610802866002610be5565b61080d906001610bb9565b8151811061081d5761081d610d6d565b60200101906001600160f81b031916908160001a905350505050808061084290610d83565b915050610731565b5092915050565b6000600a60f883901c10156108785761086f60f883901c6030610d9c565b60f81b92915050565b61086f60f883901c6057610d9c565b6001600160a01b038116811461089c57600080fd5b50565b6000602082840312156108b157600080fd5b81356108bc81610887565b9392505050565b801515811461089c57600080fd5b600080604083850312156108e457600080fd5b82356108ef81610887565b915060208301356108ff816108c3565b809150509250929050565b60005b8381101561092557818101518382015260200161090d565b50506000910152565b6000815180845261094681602086016020860161090a565b601f01601f19169290920160200192915050565b8215158152604060208201526000610975604083018461092e565b949350505050565b60006020828403121561098f57600080fd5b5035919050565b6020815260006108bc602083018461092e565b600060033d11156109c25760046000803e5060005160e01c5b90565b601f8201601f1916810167ffffffffffffffff811182821017156109f957634e487b7160e01b600052604160045260246000fd5b6040525050565b600060443d1015610a0e5790565b6040516003193d81016004833e81513d67ffffffffffffffff8160248401118184111715610a3e57505050505090565b8285019150815181811115610a565750505050505090565b843d8701016020828501011115610a705750505050505090565b610a7f602082860101876109c5565b509095945050505050565b710a6e8e4c2e8cacef240cae4e4dee4744060f60731b815260008351610ab781601285016020880161090a565b600160fd1b6012918401918201528351610ad881601384016020880161090a565b01601301949350505050565b7f5374726174656779206c6f772d6c6576656c206572726f723a20307800000000815260008351610b1c81601c85016020880161090a565b600160fd1b601c918401918201528351610b3d81601d84016020880161090a565b01601d01949350505050565b60208082526006908201526510b7bbb732b960d11b604082015260600190565b600060208284031215610b7b57600080fd5b81516108bc81610887565b600060208284031215610b9857600080fd5b81516108bc816108c3565b634e487b7160e01b600052601160045260246000fd5b80820180821115610bcc57610bcc610ba3565b92915050565b81810381811115610bcc57610bcc610ba3565b8082028115828204841417610bcc57610bcc610ba3565b600181815b80851115610c37578160001904821115610c1d57610c1d610ba3565b80851615610c2a57918102915b93841c9390800290610c01565b509250929050565b600082610c4e57506001610bcc565b81610c5b57506000610bcc565b8160018114610c715760028114610c7b57610c97565b6001915050610bcc565b60ff841115610c8c57610c8c610ba3565b50506001821b610bcc565b5060208310610133831016604e8410600b8410161715610cba575081810a610bcc565b610cc48383610bfc565b8060001904821115610cd857610cd8610ba3565b029392505050565b60006108bc8383610c3f565b634e487b7160e01b600052601260045260246000fd5b600082610d1157610d11610cec565b500490565b600060ff831680610d2957610d29610cec565b8060ff84160491505092915050565b60ff818116838216029081169081811461084a5761084a610ba3565b60ff8281168282160390811115610bcc57610bcc610ba3565b634e487b7160e01b600052603260045260246000fd5b600060018201610d9557610d95610ba3565b5060010190565b60ff8181168382160190811115610bcc57610bcc610ba356fea2646970667358221220acc7e4137122bf1bb6d70c452208e01df130448863cb5d84e5a35f851616780064736f6c63430008110033",
  "devdoc": {
    "author": "a17",
    "kind": "dev",
    "methods": {},
    "title": "Gelato resolver for rebalancing v2 strategies",
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 138790,
        "contract": "contracts/tools/RebalanceResolver.sol:RebalanceResolver",
        "label": "owner",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 138792,
        "contract": "contracts/tools/RebalanceResolver.sol:RebalanceResolver",
        "label": "pendingOwner",
        "offset": 0,
        "slot": "1",
        "type": "t_address"
      },
      {
        "astId": 138794,
        "contract": "contracts/tools/RebalanceResolver.sol:RebalanceResolver",
        "label": "delay",
        "offset": 0,
        "slot": "2",
        "type": "t_uint256"
      },
      {
        "astId": 138796,
        "contract": "contracts/tools/RebalanceResolver.sol:RebalanceResolver",
        "label": "lastRebalance",
        "offset": 0,
        "slot": "3",
        "type": "t_uint256"
      },
      {
        "astId": 138800,
        "contract": "contracts/tools/RebalanceResolver.sol:RebalanceResolver",
        "label": "operators",
        "offset": 0,
        "slot": "4",
        "type": "t_mapping(t_address,t_bool)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_mapping(t_address,t_bool)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}